#pack "keydef_eng.d"
#pack "keydef.jpn.d"
#epack "vsbutton.bmp"

#packopt name "vocalshifter"
// #packopt icon "vocalshifter.ico"

#include "hsp3utf.as"

#uselib "kernel32.dll"
#func LoadLibraryA "LoadLibraryA" str
#func GetProcAddress "GetProcAddress" int, sptr
#func FreeLibrary "FreeLibrary" int
#func lstrlenA "lstrlenA" sptr
#func CreateMutexA "CreateMutexA" int, int, int
#func ReleaseMutex "ReleaseMutex" int
#func CloseHandle "CloseHandle" int
#cfunc GetLastError "GetLastError"
#func GetTempPathA "GetTempPathA" int, var
#cfunc GetTickCount "GetTickCount"
#func CopyFileA "CopyFileA" sptr, sptr, int
#cfunc CreateProcessA "CreateProcessA" int, sptr, int, int, int, int, int, int, var, var
#cfunc WaitForSingleObject "WaitForSingleObject" int, int
#cfunc GetEnvironmentVariableA "GetEnvironmentVariableA" var, var, int
#cfunc CreatePipe "CreatePipe" var, var, var, int
#func func_20 "CloseHandle" int
#cfunc PeekNamedPipe "PeekNamedPipe" int, int, int, int, int, int
#cfunc ReadFile "ReadFile" int, var, int, var, int
#cfunc GetCurrentProcessId "GetCurrentProcessId"
#cfunc func_23 "CreateFileA" sptr, int, int, int, int, int, int
#func GetFileTime "GetFileTime" int, int, int, int
#func func_24 "CloseHandle" int
#func FileTimeToLocalFileTime "FileTimeToLocalFileTime" int, int
#func FileTimeToSystemTime "FileTimeToSystemTime" int, int
#cfunc CreateFileMappingA "CreateFileMappingA" int, int, int, int, int, sptr
#cfunc MapViewOfFile "MapViewOfFile" int, int, int, int, int
#func UnmapViewOfFile "UnmapViewOfFile" int
#func func_38 "CloseHandle" int
#func func_43 "Sleep" int

#uselib "vslib.dll"
#cfunc GetLibVersion "_GetLibVersion@0"
#cfunc CheckVsCode "_CheckVsCode@16" int, int, int, int
#func CreateProject "_CreateProject@4" var
#func func_1 "_OpenProject@8" var, sptr
#func OpenProjectEx "_OpenProjectEx@16" var, sptr, var, int
#func func_2 "_SaveProject@8" int, sptr
#func DeleteProject "_DeleteProject@4" int
#cfunc GetPrjSampFreq "_GetPrjSampFreq@4" int
#func SetPrjSampFreq "_SetPrjSampFreq@8" int, int
#func GetPrjExpFormat "_GetPrjExpFormat@16" int, var, var, var
#func SetPrjExpFormat "_SetPrjExpFormat@16" int, int, int, int
#func GetPrjMasterVolume "_GetPrjMasterVolume@8" int, var
#func SetPrjMasterVolume "_SetPrjMasterVolume@12" int, double
#cfunc GetPrjMeasure "_GetPrjMeasure@4" int
#func SetPrjMeasure "_SetPrjMeasure@8" int, int
#cfunc GetPrjMeasBase "_GetPrjMeasBase@4" int
#func SetPrjMeasBase "_SetPrjMeasBase@8" int, int
#func GetPrjTempo "_GetPrjTempo@8" int, var
#func SetPrjTempo "_SetPrjTempo@12" int, double
#cfunc GetPrjSaveOption "_GetPrjSaveOption@4" int
#func SetPrjSaveOption "_SetPrjSaveOption@8" int, int
#cfunc GetTrackNum "_GetTrackNum@4" int
#func func_3 "_AddTrack@4" int
#func func_4 "_CopyTrack@16" int, var, int, int
#func func_5 "_UpTrack@8" int, int
#func func_6 "_DownTrack@8" int, int
#func func_7 "_DeleteTrack@8" int, int
#func GetTrackVolume "_GetTrackVolume@12" int, int, var
#func SetTrackVolume "_SetTrackVolume@16" int, int, double
#func GetTrackPan "_GetTrackPan@12" int, int, var
#func SetTrackPan "_SetTrackPan@16" int, int, double
#cfunc GetTrackInvertFlg "_GetTrackInvertFlg@8" int, int
#func SetTrackInvertFlg "_SetTrackInvertFlg@12" int, int, int
#cfunc GetTrackMuteFlg "_GetTrackMuteFlg@8" int, int
#func SetTrackMuteFlg "_SetTrackMuteFlg@12" int, int, int
#cfunc GetTrackSoloFlg "_GetTrackSoloFlg@8" int, int
#func SetTrackSoloFlg "_SetTrackSoloFlg@12" int, int, int
#func GetTrackName "_GetTrackName@12" int, int, var
#func SetTrackName "_SetTrackName@12" int, int, sptr
#cfunc GetTrackColor "_GetTrackColor@8" int, int
#func SetTrackColor "_SetTrackColor@12" int, int, int
#cfunc func_8 "_GetTrackSelFlg@8" int, int
#func func_9 "_SetTrackSelFlg@12" int, int, int
#cfunc GetTrackMorphingGroup "_GetTrackMorphingGroup@8" int, int
#func SetTrackMorphingGroup "_SetTrackMorphingGroup@12" int, int, int
#cfunc GetTrackOption "_GetTrackOption@8" int, int
#func func_10 "_SetTrackOption@12" int, int, int
#cfunc GetPrjItemNum "_GetPrjItemNum@4" int
#func AddPrjItem "_AddPrjItem@12" int, sptr, var
#func CopyPrjItem "_CopyPrjItem@16" int, var, int, int
#func DeletePrjItem "_DeletePrjItem@8" int, int
#cfunc GetPrjItem "_GetPrjItem@8" int, int
#cfunc GetPrjItemTrackNum "_GetPrjItemTrackNum@8" int, int
#func SetPrjItemTrackNum "_SetPrjItemTrackNum@12" int, int, int
#func GetPrjItemOffset "_GetPrjItemOffset@12" int, int, var
#func SetPrjItemOffset "_SetPrjItemOffset@16" int, int, double
#cfunc GetPrjItemOffsetAdd "_GetPrjItemOffsetAdd@8" int, int
#func SetPrjItemOffsetAdd "_SetPrjItemOffsetAdd@12" int, int, int
#cfunc GetPrjItemSelFlg "_GetPrjItemSelFlg@8" int, int
#func SetPrjItemSelFlg "_SetPrjItemSelFlg@12" int, int, int
#cfunc GetPrjItemId "_GetPrjItemId@8" int, int
#cfunc GetItemNumId "_GetItemNumId@8" int, int
#func GetPrjItemFreqA4 "_GetPrjItemFreqA4@12" int, int, var
#func SetPrjItemFreqA4 "_SetPrjItemFreqA4@16" int, int, double
#cfunc GetPrjItemKey "_GetPrjItemKey@8" int, int
#func SetPrjItemKey "_SetPrjItemKey@12" int, int, int
#cfunc GetPrjItemKeyType "_GetPrjItemKeyType@8" int, int
#func SetPrjItemKeyType "_SetPrjItemKeyType@12" int, int, int
#cfunc GetPrjItemOption "_GetPrjItemOption@8" int, int
#func SetPrjItemOption "_SetPrjItemOption@12" int, int, int
#cfunc GetPrjItemTune "_GetPrjItemTune@8" int, int
#func SetPrjItemTune "_SetPrjItemTune@12" int, int, int
#func GetPrjItemBaseFreq "_GetPrjItemBaseFreq@20" int, int, var, var, var
#func SetPrjItemBaseFreq "_SetPrjItemBaseFreq@24" int, int, int, int, double
#func GetPrjItemMeasOffset "_GetPrjItemMeasOffset@12" int, int, var
#func SetPrjItemMeasOffset "_SetPrjItemMeasOffset@16" int, int, double
#func GetPrjItemUserTune "_GetPrjItemUserTune@12" int, int, var
#func SetPrjItemUserTune "_SetPrjItemUserTune@12" int, int, var
#func AddPrjItemInit "_AddPrjItemInit@16" int, sptr, var, var
#func AddPrjItemAnalyze "_AddPrjItemAnalyze@8" int, var
#func AddPrjItemTerm "_AddPrjItemTerm@8" int, var
#func SetAnalyzeInfo "_SetAnalyzeInfo@20" var, int, int, int, int
#func GetAnalyzeProgress "_GetAnalyzeProgress@12" var, var, var
#func CopyPrjItemEditPrm "_CopyPrjItemEditPrm@12" int, int, int
#cfunc GetMixSample "_GetMixSample@4" int
#func GetMixDataEx "_GetMixDataEx@52" int, var, int, int, int, int, int, int, int, int, int, double
#func ExportMixFile "_ExportMixFile@12" int, sptr, int
#func ExportMixFileInit "_ExportMixFileInit@16" int, var, sptr, int
#func ExportMixFileExp "_ExportMixFileExp@16" int, var, var, var
#func ExportMixFileTerm "_ExportMixFileTerm@8" int, var
#func CheckMixVolume "_CheckMixVolume@16" int, int, var, var
#func FadeWaveData "_FadeWaveData@16" var, int, int, int
#func GetFFTSpectrum "_GetFFTSpectrum@16" int, var, int, int
#func ReloadDoutWaveFile "_ReloadDoutWaveFile@12" int, int, sptr
#func CloseDoutWaveFile "_CloseDoutWaveFile@8" int, int
#cfunc GetII_orgSample "_GetII_orgSample@4" int
#func GetII_waveFormat "_GetII_waveFormat@20" int, var, var, var, var
#cfunc GetII_sampFreq "_GetII_sampFreq@4" int
#cfunc GetII_channel "_GetII_channel@4" int
#func GetII_fileName "_GetII_fileName@8" int, var
#cfunc GetII_SMFFlag "_GetII_SMFFlag@4" int
#cfunc GetII_editSample "_GetII_editSample@4" int
#func GetII_waveRange "_GetII_waveRange@24" int, int, int, int, int, var
#func GetII_waveRangeEx "_GetII_waveRangeEx@24" int, int, int, int, int, var
#cfunc GetII_ctrlPntPs "_GetII_ctrlPntPs@4" int
#cfunc GetII_nCtrlPnt "_GetII_nCtrlPnt@4" int
#cfunc GetII_nTctrlPrm "_GetII_nTctrlPrm@4" int
#cfunc GetII_AnalyzePrm "_GetII_AnalyzePrm@12" int, var, var
#cfunc GetII_AnalyzePrmEx "_GetII_AnalyzePrmEx@16" int, var, var, var
#cfunc GetIP_synthMode "_GetIP_synthMode@4" int
#func SetIP_synthMode "_SetIP_synthMode@8" int, int
#cfunc GetIP_synthOption "_GetIP_synthOption@4" int
#func SetIP_synthOption "_SetIP_synthOption@8" int, int
#cfunc GetIP_fadeInSample "_GetIP_fadeInSample@4" int
#func SetIP_fadeInSample "_SetIP_fadeInSample@8" int, int
#cfunc GetIP_fadeOutSample "_GetIP_fadeOutSample@4" int
#func SetIP_fadeOutSample "_SetIP_fadeOutSample@8" int, int
#func GetIP_EqGain "_GetIP_EqGain@12" int, var, var
#func SetIP_EqGain "_SetIP_EqGain@12" int, var, var
#func GetIP_HeqGain "_GetIP_HeqGain@8" int, var
#func SetIP_HeqGain "_SetIP_HeqGain@8" int, var
#func GetIP_tctrlTime "_GetIP_tctrlTime@16" int, int, var, var
#func SetIP_tctrlTime "_SetIP_tctrlTime@24" int, int, double, double
#func AddIP_tctrlTime "_AddIP_tctrlTime@20" int, double, double
#func DelIP_tctrlTime "_DelIP_tctrlTime@8" int, int
#cfunc GetIP_attackThr "_GetIP_attackThr@4" int
#func SetIP_attackThr "_SetIP_attackThr@8" int, int
#func DetectAttackTctrl "_DetectAttackTctrl@8" int, int
#cfunc GetIP_nNote "_GetIP_nNote@4" int
#func GetIP_noteData "_GetIP_noteData@24" int, int, var, var, var, var
#func SetIP_noteData "_SetIP_noteData@24" int, int, int, int, int, int
#func AddIP_noteData "_AddIP_noteData@16" int, int, int, int
#func DelIP_noteData "_DelIP_noteData@8" int, int
#func SetNotePitch "_SetNotePitch@4" int
#func func_11 "_DetectNote@4" int
#func CreateNoteWeight "_CreateNoteWeight@20" int, var, int, int, var
#cfunc GetIP_nLabel "_GetIP_nLabel@4" int
#func GetIP_label "_GetIP_label@24" int, int, var, var, var, var
#func SetIP_label "_SetIP_label@24" int, int, int, int, var, int
#func AddIP_label "_AddIP_label@16" int, int, int, var
#func DelIP_label "_DelIP_label@8" int, int
#func SortIP_label "_SortIP_label@4" int
#cfunc GetICP_pit_analyze "_GetICP_pit_analyze@12" int, int, int
#func SetICP_pit_analyze "_SetICP_pit_analyze@16" int, int, int, int
#cfunc GetICP_pit_org "_GetICP_pit_org@8" int, int
#func SetICP_pit_org "_SetICP_pit_org@12" int, int, int
#cfunc GetICP_pit_edit "_GetICP_pit_edit@8" int, int
#func SetICP_pit_edit "_SetICP_pit_edit@12" int, int, int
#cfunc GetICP_frm "_GetICP_frm@8" int, int
#func SetICP_frm "_SetICP_frm@12" int, int, int
#cfunc GetICP_breathiness "_GetICP_breathiness@8" int, int
#func SetICP_breathiness "_SetICP_breathiness@12" int, int, int
#cfunc GetICP_brightness "_GetICP_brightness@8" int, int
#func SetICP_brightness "_SetICP_brightness@12" int, int, int
#cfunc GetICP_clearness "_GetICP_clearness@8" int, int
#func SetICP_clearness "_SetICP_clearness@12" int, int, int
#cfunc GetICP_Heq "_GetICP_Heq@8" int, int
#func SetICP_Heq "_SetICP_Heq@12" int, int, int
#func GetICP_dyn_org "_GetICP_dyn_org@12" int, int, var
#func SetICP_dyn_org "_SetICP_dyn_org@16" int, int, double
#func GetICP_dyn_edit "_GetICP_dyn_edit@12" int, int, var
#func SetICP_dyn_edit "_SetICP_dyn_edit@16" int, int, double
#func GetICP_vol "_GetICP_vol@12" int, int, var
#func SetICP_vol "_SetICP_vol@16" int, int, double
#func GetICP_pan "_GetICP_pan@12" int, int, var
#func SetICP_pan "_SetICP_pan@16" int, int, double
#cfunc GetICP_fix_org "_GetICP_fix_org@8" int, int
#func SetICP_fix_org "_SetICP_fix_org@12" int, int, int
#cfunc GetICP_fix_edit "_GetICP_fix_edit@8" int, int
#func SetICP_fix_edit "_SetICP_fix_edit@12" int, int, int
#func GetICP_wave "_GetICP_wave@12" int, int, var
#func GetStretchOrgSmp "_GetStretchOrgSmp@20" int, double, var, var
#func GetStretchEdtSmp "_GetStretchEdtSmp@20" int, double, var, var
#func GetStretchOrgSec "_GetStretchOrgSec@20" int, double, var, var
#func GetStretchEdtSec "_GetStretchEdtSec@20" int, double, var, var
#func func_12 "_CopyItemEditPrm@8" int, int
#func GetIP_fixThrDyn "_GetIP_fixThrDyn@12" int, var, var
#func SetIP_fixThrDyn "_SetIP_fixThrDyn@12" int, int, int
#func func_13 "_AnalyzeFixFlg@12" int, int, int
#func UpdateRhythmTimeCtrl "_UpdateRhythmTimeCtrl@4" int
#func ReleaseItemSpcData "_ReleaseItemSpcData@4" int
#func InitItemSpcData "_InitItemSpcData@24" int, int, int, int, int, var
#func AnalyzeItemSpc "_AnalyzeItemSpc@12" int, int, int
#cfunc GetSpcRatio "_GetSpcRatio@4" int
#func SetSpcRatio "_SetSpcRatio@8" int, int
#cfunc GetSpcBlock "_GetSpcBlock@4" int
#func DrawGraph "_DrawGraph@36" bmscr, int, var, int, int, int, double, var
#func InitializeColorTable "_InitializeColorTable@0"
#func SetColorTable "_SetColorTable@8" int, int
#cfunc GetColorTable "_GetColorTable@4" int
#func SetWaveDecodeInfo "_SetWaveDecodeInfo@8" int, sptr
#func MergeSort_int "_MergeSort_int@12" var, var, int
#func MergeSort_double "_MergeSort_double@12" var, var, int
#func vslibSaveFile "_vslibSaveFile@12" sptr, var, int
#cfunc GetMidiInProcPtr "_GetMidiInProcPtr@0"
#cfunc GetMidiTime "_GetMidiTime@8" int, var
#func WaveCheckFormat "_WaveCheckFormat@16" sptr, var, var, var
#func GetWaveFormatError "_GetWaveFormatError@8" var, int
#func func_14 "_LoadSMF@16" sptr, int, int, int
#func AddLogData "_AddLogData@4" sptr
#cfunc GetLogDataMax "_GetLogDataMax@0"
#func GetLogData "_GetLogData@12" int, var, var
#func SetVsTempPath "_SetVsTempPath@8" sptr, int
#func LoadEngineDll "_LoadEngineDll@8" int, sptr
#func FreeEngineDll "_FreeEngineDll@0"
#func ClearItemTable "_ClearItemTable@0"
#cfunc CheckItemTable "_CheckItemTable@4" int
#cfunc UpdateItemTable "_UpdateItemTable@4" int
#cfunc WaitUpdateItemTable "_WaitUpdateItemTable@8" int, var

#uselib "user32.dll"
#func GetSystemMetrics "GetSystemMetrics" int
#func EnableWindow "EnableWindow" int, int
#func CreateMenu "CreateMenu"
#func CreatePopupMenu "CreatePopupMenu"
#func AppendMenuA "AppendMenuA" int, int, int, sptr
#func SetMenu "SetMenu" int, int
#func DrawMenuBar "DrawMenuBar" int
#func CheckMenuItem "CheckMenuItem" int, int, int
#func EnableMenuItem "EnableMenuItem" int, int, int
#func TrackPopupMenuEx "TrackPopupMenuEx" int, int, int, int, int, int
#func DestroyMenu "DestroyMenu" int
#func DeleteMenu "DeleteMenu" int, int, int
#func RemoveMenu "RemoveMenu" int, int, int
#func SetTimer "SetTimer" int, int, int, int
#func KillTimer "KillTimer" int, int
#func GetWindowLongW "GetWindowLongW" int, int
#func SetWindowLongW "SetWindowLongW" int, int, int
#func SetWindowPos "SetWindowPos" int, int, int, int, int, int, int
#func func_15 "GetWindowLongW" int, int
#func func_16 "SetWindowLongW" int, int, int
#func func_17 "SetWindowPos" int, int, int, int, int, int, int
#func GetWindowPlacement "GetWindowPlacement" int, var
#func LoadCursorA "LoadCursorA" int, int
#func SetClassLongA "SetClassLongA" int, int, int
#func SetCursor "SetCursor" int
#func CreateWindowExA "CreateWindowExA" int, int, int, int, int, int, int, int, int, int, int, int
#func SendMessageA "SendMessageA" int, int, int, int
#func DestroyWindow "DestroyWindow" int
#func SetFocus "SetFocus" int
#func GetWindow "GetWindow" int, int
#func IsWindow "IsWindow" int
#func GetWindowTextA "GetWindowTextA" int, int, int
#func GetClassNameA "GetClassNameA" int, int, int
#func func_21 "GetWindowPlacement" int, var
#func func_25 "GetSystemMetrics" int
#func func_33 "SetFocus" int
#func func_34 "SetFocus" int

#uselib "gdi32.dll"
#func GetTextExtentPoint32A "GetTextExtentPoint32A" int, sptr, int, var
#func GetTextFaceA "GetTextFaceA" int, int, int
#func func_35 "GetTextExtentPoint32A" int, sptr, int, var
#func func_36 "GetTextExtentPoint32A" int, sptr, int, var

#uselib "KERNEL32.DLL"
#func Sleep "Sleep" int

#uselib "comdlg32.dll"
#func GetOpenFileNameA "GetOpenFileNameA" sptr
#func GetOpenFileNameW "GetOpenFileNameW" sptr
#func GetSaveFileNameA "GetSaveFileNameA" sptr
#func GetSaveFileNameW "GetSaveFileNameW" sptr

#uselib "Kernel32.dll"
#func WideCharToMultiByte "WideCharToMultiByte" int, int, int, int, int, int, int, int
#func MultiByteToWideChar "MultiByteToWideChar" int, int, int, int, int, int
#func CreateFileA "CreateFileA" int, int, int, int, int, int, int
#func CreateFileW "CreateFileW" int, int, int, int, int, int, int
#func func_18 "CloseHandle" int
#cfunc func_19 "GetLastError"
#func func_27 "WideCharToMultiByte" int, int, int, int, int, int, int, int
#func func_28 "MultiByteToWideChar" int, int, int, int, int, int
#func func_29 "CreateFileA" int, int, int, int, int, int, int
#func func_30 "CreateFileW" int, int, int, int, int, int, int
#func func_31 "CloseHandle" int
#cfunc func_32 "GetLastError"

#uselib "shell32.dll"
#cfunc SHBrowseForFolder "SHBrowseForFolder" int
#func SHGetPathFromIDList "SHGetPathFromIDList" int, int
#func DragAcceptFiles "DragAcceptFiles" int, int
#func DragQueryFileA "DragQueryFileA" int, int, int, int
#func DragQueryFileW "DragQueryFileW" int, int, int, int
#func DragQueryPoint "DragQueryPoint" int, int
#func DragFinish "DragFinish" int

#uselib "ole32.dll"
#func CoTaskMemFree "CoTaskMemFree" int

#uselib "comdlg32"
#cfunc ChooseColorA "ChooseColorA" int

#uselib "winmm.dll"
#func waveOutOpen "waveOutOpen" int, int, int, int, int, int
#func waveOutPrepareHeader "waveOutPrepareHeader" int, int, int
#func waveOutUnprepareHeader "waveOutUnprepareHeader" int, int, int
#func waveOutWrite "waveOutWrite" int, int, int
#func waveOutReset "waveOutReset" int
#func waveOutClose "waveOutClose" int
#func waveOutGetPosition "waveOutGetPosition" int, int, int
#func waveOutPause "waveOutPause" int
#func waveOutRestart "waveOutRestart" int
#func waveOutGetNumDevs "waveOutGetNumDevs"
#func waveOutGetDevCapsA "waveOutGetDevCapsA" int, int, int
#func midiInGetNumDevs "midiInGetNumDevs"
#func midiInGetDevCapsA "midiInGetDevCapsA" int, int, int
#func func_39 "midiInOpen" int, int, int, int, int
#func func_40 "midiInClose" int
#func func_41 "midiInStart" int
#func func_42 "midiInStop" int
#func midiOutGetNumDevs "midiOutGetNumDevs"
#func midiOutGetDevCapsA "midiOutGetDevCapsA" int, int, int
#func midiOutOpen "midiOutOpen" int, int, int, int, int
#func midiOutClose "midiOutClose" int
#func midiOutReset "midiOutReset" int
#func midiOutShortMsg "midiOutShortMsg" int, int
#func midiOutLongMsg "midiOutLongMsg" int, int, int
#func midiOutPrepareHeader "midiOutPrepareHeader" int, int, int
#func midiOutUnprepareHeader "midiOutUnprepareHeader" int, int, int

#uselib "comctl32.dll"
#func InitCommonControlsEx "InitCommonControlsEx" int

#uselib "Shlwapi.dll"
#cfunc PathIsDirectoryA "PathIsDirectoryA" sptr
#cfunc func_22 "PathIsDirectoryA" sptr
#cfunc func_26 "PathIsDirectoryA" sptr

#uselib "psapi.dll"
#func EnumProcesses "EnumProcesses" var, int, var

#uselib "user32"
#cfunc GetWindowLongA "GetWindowLongA" int, int
#func SetWindowLongA "SetWindowLongA" int, int, int
#func func_37 "SetWindowPos" int, nullptr, nullptr, nullptr, nullptr, nullptr, int

#uselib "GDI32.DLL"
#cfunc CreateSolidBrush "CreateSolidBrush" int
#func SetTextColor "SetTextColor" int, int
#func SetBkColor "SetBkColor" int, int

	var_0 = 0
	goto *label_014
#deffunc dll_getfunc var prm_5, str prm_6, int prm_7
	if ( prm_7 & (-256) ) {
		var_1 = prm_7
	}
	else {
		var_1 = var_2(prm_7)
	}
	GetProcAddress var_1, prm_6
	prm_5 = stat
	if ( prm_5 == 0 ) {
		dialog "can not find '" + prm_6 + "'\ndll=" + prm_7
	}
	return
#deffunc _init_llmod
	if ( var_2 ) {
		return
	}
	var_3 = 0
	sdim var_4, 64, 16
	var_4(0) = "kernel32"
	var_4(1) = "user32"
	var_4(2) = "shell32"
	var_4(3) = "comctl32"
	var_4(4) = "comdlg32"
	var_4(5) = "gdi32"
	repeat 6
		LoadLibraryA var_4(cnt)
		var_2(cnt) = stat
	loop
	var_4 = "GetActiveWindow"
	repeat 1
		GetProcAddress var_2(1), var_4(cnt)
		var_5(cnt) = stat
	loop
	sdim var_4, 64
	return
#deffunc dllproc str prm_8, array prm_9, int prm_10, int prm_11
	if ( prm_11 & (-256) ) {
		var_1 = prm_11
	}
	else {
		var_1 = var_2(prm_11)
	}
	GetProcAddress var_1, prm_8
	var_6 = stat
	if ( var_6 ) {
		var_7 = callfunc(prm_9, var_6, prm_10)
	}
	else {
		dialog "can not find '" + prm_8 + "'\ndll=" + prm_11
		getkey var_8, 16
		if ( var_8 ) {
			end
		}
	}
	return var_7
#deffunc getmjrdll var prm_12, int prm_13
	prm_12 = var_2(prm_13)
	return
#deffunc getmjrfunc var prm_14, int prm_15
	prm_14 = var_5(prm_15)
	return
#deffunc _get_active_window var prm_16
	prm_16 = callfunc(var_9, var_5(0), 0)
	return
#deffunc setwndlong var prm_17, int prm_18
	if ( prm_18 ) {
		var_4 = "G"
		var_8 = 2
	}
	else {
		var_4 = "S"
		var_8 = 3
	}
	var_4 += "etWindowLongA"
	dllproc var_4, prm_17, var_8, 1
	return
#deffunc _null_sep_str var prm_19, int prm_20
	var_10 = strlen(prm_19)
	var_8 = 0
	var_9 = 0
	repeat var_10
		var_8 = peek(prm_19, cnt)
		if ( var_8 == prm_20 ) {
			poke prm_19, cnt, 0
			var_9++
		}
	loop
	return var_9
#deffunc _makewnd array prm_21, str prm_22
	pos prm_21(0), prm_21(1)
	winobj prm_22, "", prm_21(6), prm_21(4), prm_21(2), prm_21(3), 0, 0
	prm_21 = stat
	return
#deffunc _is_wnd int prm_23
	var_11 = prm_23
	dllproc "IsWindow", var_11, 1, 1
	return
#deffunc _hspobjhandle int prm_24
	return objinfo(prm_24, 2)
#deffunc _hspobjid int prm_25
	mref var_12, 67
	var_7 = -1
	if ( prm_25 == 0 ) {
		return -1
	}
	repeat var_12(72)
		if ( prm_25 == objinfo(cnt, 2) ) {
			var_7 = cnt
			break
		}
	loop
	return var_7
#deffunc charupper var prm_26
	var_13 = varptr(prm_26)
	dllproc "CharUpperA", var_13, 1, 1
	return
#deffunc charlower var prm_27
	var_13 = varptr(prm_27)
	dllproc "CharLowerA", var_13, 1, 1
	return
*label_014
	_init_llmod
	goto *label_019
#deffunc sel_udbtn int prm_28
	var_14 = var_15
	var_15 = prm_28
	return
#deffunc udset int prm_29, int prm_30, int prm_31
	var_16 = prm_30
	var_17 = prm_31
	if ( prm_29 == 0 ) {
		var_18 = 1129
		var_17 = 0
		_hspobjhandle prm_30
		if ( stat ) {
			var_16 = stat
		}
		else {
			_is_wnd var_16
			if ( stat == 0 ) {
				return -1
			}
		}
	}
	if ( prm_29 == 1 ) {
		var_17 = var_16 << 16 | var_17
		var_18 = 1125
		var_16 = 0
	}
	if ( prm_29 == 2 ) {
		var_18 = 1127
		var_17 = var_16
		var_16 = 0
	}
	if ( prm_29 == 3 ) {
		var_18 = 1133
		var_17 = 0
		if ( var_16 ) {
			var_16 = 10
		}
		else {
			var_16 = 16
		}
	}
	if ( prm_29 == 4 ) {
		var_18 = 1131
	}
	sendmsg objinfo(var_15, 2), var_18, var_16, var_17
	var_19 = stat
	if ( prm_29 == 0 ) {
		_hspobjid var_19
		if ( stat != (-1) ) {
			var_19 = stat
		}
	}
	return var_19
#deffunc udget int prm_32, int prm_33, int prm_34
	var_18 = 1130, 1126, 1128, 1134, 1132
	var_18 = var_18(prm_32)
	if ( prm_32 == 2 ) {
		prm_34 = prm_33
		prm_33 = 0
	}
	sendmsg objinfo(var_15, 2), var_18, prm_33, prm_34
	var_19 = stat
	if ( prm_32 == 0 ) {
		_hspobjid var_19
		if ( stat >= 0 ) {
			var_19 = stat
		}
	}
	return var_19
#deffunc udbtn int prm_35, int prm_36, int prm_37, int prm_38
	var_20 = prm_37
	if ( var_20 == 0 ) {
		var_20 = var_21
	}
	var_20 = var_20 | 1342177282
	sdim var_18, 64
	var_18 = ginfo(22), ginfo(23), prm_35, prm_36, var_20, 0, 512
	_makewnd var_18, "msctls_updown32"
	var_15 = var_18
	udset 0, prm_38
	return var_15
*label_019
	goto *label_028
#deffunc get_icon var prm_39, str prm_40, int prm_41, int prm_42
	var_22 = strlen(prm_40)
	if ( var_22 >= 64 ) {
		sdim var_23, var_22 + 1
	}
	var_23 = prm_40
	var_24 = varptr(var_23)
	var_25(0) = var_24
	var_25(1) = prm_41
	var_25(2) = 0
	var_25(3) = 0
	if ( prm_41 != (-1) ) {
		var_24 = varptr(prm_39)
		if ( prm_42 ) {
			var_25(3) = var_24
		}
		else {
			var_25(2) = var_24
		}
	}
	dll_getfunc var_26, "ExtractIconExA", 2
	if ( prm_41 != (-2) ) {
		var_25(4) = 1
	}
	else {
		var_22 = var_25, -1, 0, 0, 0
		var_22 = varptr(var_23)
		var_27 = callfunc(var_22, var_26, 5)
		var_25(4) = var_27
		var_25(1) = 0
	}
	var_27 = callfunc(var_25, var_26, 5)
	sdim var_23, 64
	return var_27
#deffunc draw_icon int prm_43, int prm_44, int prm_45, int prm_46
	var_28 = prm_43
	sdim var_25, 68
	var_25(0) = hdc, prm_44, prm_45, prm_43, 0, 0, 0, 0, 3
	dllproc "DrawIconEx", var_25, 9, 1
	var_28 = stat
	if ( prm_46 == 0 ) {
		redraw
	}
	sdim var_25, 64
	return var_28
#deffunc get_fileicon var prm_47, str prm_48, int prm_49
	var_22 = 1, 2, 65536, 32768, 4096, 512, 1024
	var_29 = prm_48
	var_30 = prm_49
	if ( var_30 < 16 ) {
		var_25 = 0
		repeat 5
			if ( 1 << cnt & var_30 ) {
				var_25 += var_22(cnt)
			}
		loop
		var_30 = var_25 | 256
	}
	else {
		repeat 3, 4
			if ( var_30 >> cnt & 1 ) {
				var_30 = cnt
				break
			}
		loop
		var_30 = var_22(var_30)
	}
	sdim var_22, 352
	var_25(0) = 0, 0, 0, 352, var_30
	var_25(0) = varptr(var_29)
	var_25(2) = varptr(var_22)
	dllproc "SHGetFileInfoA", var_25, 5, 2
	if ( var_30 & 4096 | (var_30 & 512) ) {
		memcpy prm_47, var_22, 260, 0, 12
	}
	else {
		if ( var_30 & 1024 ) {
			memcpy prm_47, var_22, 80, 0, 272
		}
		else {
			prm_47 = lpeek(var_22, 0)
		}
	}
	sdim var_22, 64
	return
#deffunc create_imglist int prm_50, int prm_51, int prm_52, int prm_53
	var_25 = prm_50, prm_51, prm_52, prm_53, 0
	dllproc "ImageList_Create", var_25, 5, 3
	return
#deffunc destroy_imglist array prm_54, int prm_55
	var_29 = prm_55
	if ( var_29 == 0 ) {
		var_29 = 1
	}
	dll_getfunc var_22, "ImageList_Destroy", 3
	repeat var_29
		var_25 = prm_54(cnt)
		var_27 = callfunc(var_25, var_22, 1)
	loop
	return
#deffunc addicon_imglist int prm_56, int prm_57
	var_25 = prm_56, prm_57
	dllproc "ImageList_AddIcon", var_25, 2, 3
	return
#deffunc draw_imglist int prm_58, int prm_59, int prm_60, int prm_61
	var_25 = prm_58, prm_59, hdc, prm_60, prm_61, 0
	dllproc "ImageList_Draw", var_25, 6, 3
	return
#deffunc getinfo_imglist var prm_62, int prm_63, int prm_64, int prm_65
	var_31 = prm_65
	var_25 = prm_63, prm_64
	var_25(2) = varptr(var_22)
	dllproc "ImageList_GetImageInfo", var_25, 3, 3
	if ( var_31 ) {
		var_31--
		prm_62 = var_22(var_31)
	}
	else {
		prm_62 = var_22(6), var_22(7)
	}
	return
*label_028
	goto *label_035
#deffunc objgray int prm_66, int prm_67
	var_32 = prm_66
	_hspobjhandle var_32
	if ( stat ) {
		var_32 = stat
	}
	var_33 = var_32, prm_67
	if ( prm_67 < 0 ) {
		dllproc "IsWindowEnabled", var_33, 1, 1
	}
	else {
		dllproc "EnableWindow", var_33, 2, 1
	}
	return
#deffunc p_scrwnd var
	var_34 = "ScreenToClient"
	goto *label_032
#deffunc p_wndscr var prm_69
	var_34 = "ClientToScreen"
*label_032
	var_33(1) = varptr(prm_69)
	var_33 = hwnd
	dllproc var_34, var_33, 2, 1
	return
#deffunc getobjsize array prm_70, int prm_71
	var_35 = prm_71
	_hspobjhandle var_35
	if ( stat ) {
		var_35 = stat
	}
	var_34 = varptr(prm_70(2))
	var_33 = var_35, var_34
	dllproc "GetWindowRect", var_33, 2, 1
	var_33 = stat
	prm_70 = prm_70(4) - prm_70(2), prm_70(5) - prm_70(3)
	p_scrwnd prm_70(2)
	p_scrwnd prm_70(4)
	return var_33
#deffunc resizeobj int prm_72, array prm_73, int prm_74
	var_32 = prm_72
	_hspobjhandle var_32
	if ( stat ) {
		var_32 = stat
	}
	var_36 = var_32, prm_73(2), prm_73(3), prm_73, prm_73(1), 1
	if ( prm_74 ) {
		getobjsize var_37, var_36
		if ( stat == (-1) ) {
			return -1
		}
		if ( prm_74 == 1 ) {
			var_36(1) = var_37(2), var_37(3)
		}
		if ( prm_74 == 2 ) {
			var_36(3) = var_37, var_37(1)
		}
	}
	dllproc "MoveWindow", var_36, 6, 1
	return
*label_035
	goto *label_042
#deffunc trackbox int prm_75, int prm_76, int prm_77
	var_38 = prm_77
	if ( var_38 == 0 ) {
		var_38 = var_39
	}
	var_38 = var_38 | 1342177280
	dim var_40, 7
	var_40 = ginfo(22), ginfo(23), prm_75, prm_76, var_38, 0, 512
	_makewnd var_40, "msctls_trackbar32"
	var_41 = var_40
	return var_41
#deffunc sel_trackbox int prm_78
	var_42 = var_41
	var_41 = prm_78
	return var_42
#deffunc trackpos int prm_79, int prm_80
	var_43 = prm_79
	if ( prm_80 ) {
		var_40 = 1024
		var_38 = 0
	}
	else {
		var_40 = 1029
		var_38 = 1
	}
	sendmsg objinfo(var_41, 2), var_40, var_38, var_43
	return
#deffunc trackrng int prm_81, int prm_82, int prm_83
	if ( prm_83 ) {
		if ( prm_81 ) {
			var_40 = 1025
		}
		else {
			var_40 = 1026
		}
		sendmsg objinfo(var_41, 2), var_40, 0, 0
		var_44 = stat
	}
	else {
		sendmsg objinfo(var_41, 2), 1031, 1, prm_81
		sendmsg objinfo(var_41, 2), 1032, 1, prm_82
		var_44 = 0
	}
	return var_44
#deffunc trackmrk int prm_84, int prm_85, int prm_86
	var_43 = prm_84
	var_45 = prm_85
	if ( var_45 ) {
		var_40 = 0, 1040, 1044, 1027, 1033
		var_40 = var_40(var_45)
		if ( var_45 == 4 ) {
			var_43 = prm_86 ^ 1
		}
		else {
			if ( var_45 == 2 ) {
				var_45 = prm_86
			}
		}
	}
	else {
		var_40 = 1028
		var_45 = var_43
		var_43 = 0
	}
	sendmsg objinfo(var_41, 2), var_40, var_43, var_45
	return
#deffunc tracksel int prm_87, int prm_88, int prm_89
	var_43 = prm_87
	var_45 = prm_88
	var_38 = prm_89
	if ( var_43 == var_45 ) {
		if ( var_43 ) {
			var_40 = 1042
		}
		else {
			var_40 = 1041
		}
		var_43 = 0
		var_45 = 0
	}
	else {
		var_46 = var_38 >> 4 ^ 1
		var_38 = var_38 & 15
		if ( var_38 ) {
			var_40 = 0, 1035, 1036, 1043
			var_40 = var_40(var_38)
			if ( var_38 == 3 ) {
				var_45 = 0
			}
			else {
				if ( var_38 == 1 ) {
					var_45 = var_43
				}
			}
			var_43 = var_46
		}
		else {
			sendmsg objinfo(var_41, 2), 1035, var_46, var_43
			sendmsg objinfo(var_41, 2), 1036, var_46, var_45
			return 0
		}
	}
	sendmsg objinfo(var_41, 2), var_40, var_43, var_45
	return
*label_042
	goto *label_044
#deffunc msgdlg str prm_90, str prm_91, int prm_92, int prm_93
	var_47 = strlen(prm_90)
	if ( var_47 >= 64 ) {
		sdim var_48, var_47 + 1
	}
	var_47 = strlen(prm_91)
	if ( var_47 >= 64 ) {
		sdim var_49, var_47 + 1
	}
	var_50 = prm_93
	var_48 = prm_90
	var_49 = prm_91
	dim var_51, 37
	var_51(0) = 148
	var_52 = varptr(var_51)
	dllproc "GetVersionExA", var_52, 1, 0
	var_47 = 0
	if ( var_50 & 256 ) {
		var_47 = 48
		var_50 = var_50 - 256
	}
	dllproc "MessageBeep", var_47, 1, 1
	var_53(0) = 40
	_get_active_window var_47
	var_53(1) = var_47
	var_47 = hinstance
	var_53(2) = var_47
	var_53(3) = varptr(var_48)
	var_53(4) = varptr(var_49)
	if ( var_50 == 5 ) {
		var_50 = 128
	}
	else {
		var_50 = var_50 << 4
	}
	var_53(5) = prm_92 + var_50
	var_53(6) = 128
	var_52 = varptr(var_53)
	dllproc "MessageBoxIndirectA", var_52, 1, 1
	var_52 = stat
	sdim var_48, 64
	sdim var_49, 64
	return var_52
*label_044
	goto *label_062
#defcfunc vslib_getprjmastervolume int prm_635
	var_54 = 1.0
	GetPrjMasterVolume prm_635, var_54
	return var_54
#defcfunc vslib_getprjtempo int prm_636
	var_55 = 120.0
	GetPrjTempo prm_636, var_55
	return var_55
#defcfunc vslib_gettrackvolume int prm_637, int prm_638
	var_54 = 1.0
	GetTrackVolume prm_637, prm_638, var_54
	return var_54
#defcfunc vslib_gettrackpan int prm_639, int prm_640
	var_56 = 0.0
	GetTrackPan prm_639, prm_640, var_56
	return var_56
#defcfunc vslib_gettrackname int prm_641, int prm_642
	sdim var_57, 260
	GetTrackName prm_641, prm_642, var_57
	return var_57
#defcfunc vslib_getprjitemoffset int prm_643, int prm_644
	var_58 = 0.0
	GetPrjItemOffset prm_643, prm_644, var_58
	return var_58
#defcfunc vslib_getprjitemfreqa4 int prm_645, int prm_646
	var_59 = 0.0
	GetPrjItemFreqA4 prm_645, prm_646, var_59
	return var_59
#defcfunc vslib_getprjitemmeasoffset int prm_647, int prm_648
	var_60 = 0.0
	GetPrjItemMeasOffset prm_647, prm_648, var_60
	return var_60
#defcfunc vslib_getii_filename int prm_649
	sdim var_57, 260
	GetII_fileName prm_649, var_57
	return var_57
#defcfunc vslib_geticp_dyn_org int prm_650, int prm_651
	var_61 = 0.0
	GetICP_dyn_org prm_650, prm_651, var_61
	return var_61
#defcfunc vslib_geticp_dyn_edit int prm_652, int prm_653
	var_61 = 0.0
	GetICP_dyn_edit prm_652, prm_653, var_61
	return var_61
#defcfunc vslib_geticp_vol int prm_654, int prm_655
	var_54 = 0.0
	GetICP_vol prm_654, prm_655, var_54
	return var_54
#defcfunc vslib_geticp_pan int prm_656, int prm_657
	var_56 = 0.0
	GetICP_pan prm_656, prm_657, var_56
	return var_56
#defcfunc vslib_getstretchorgsmp int prm_658, double prm_659, var prm_660
	var_62 = 0.0
	GetStretchOrgSmp prm_658, prm_659, var_62, prm_660
	return var_62
#defcfunc vslib_getstretchedtsmp int prm_661, double prm_662, var prm_663
	var_63 = 0.0
	GetStretchEdtSmp prm_661, prm_662, var_63, prm_663
	return var_63
#defcfunc vslib_getstretchorgsec int prm_664, double prm_665, var prm_666
	var_64 = 0.0
	GetStretchOrgSec prm_664, prm_665, var_64, prm_666
	return var_64
#defcfunc vslib_getstretchedtsec int prm_667, double prm_668, var prm_669
	var_65 = 0.0
	GetStretchEdtSec prm_667, prm_668, var_65, prm_669
	return var_65
*label_062
	goto *label_069
#deffunc vswait int prm_723
	var_66 = var_67(8)
	var_68 = var_66
	if ( 0 ) {
		var_69++
	}
	if ( var_68 == 0 | var_69 ) {
		var_69 = 0
		wait prm_723
		goto *label_064
	}
	if ( 1 ) {
		Sleep prm_723 * 10
		wait 0
		goto *label_064
	}
*label_064
	return
#deffunc waitmainloop
	vswait 2
	return
#deffunc waittaskdispatch
	vswait 2
	return
#deffunc waitobjectupdate
	vswait 5
	return
#deffunc waitinputpolling
	vswait 5
	return
*label_069
	goto *label_071
#deffunc screen_max int prm_736, int, int, int prm_739, int prm_740, int prm_741, int prm_742, int prm_743
	screen prm_736, ginfo(20) * 150 / 100, ginfo(21) * 125 / 100, prm_739, prm_740, prm_741, prm_742, prm_743
	GetWindowLongW hwnd, -16
	SetWindowLongW hwnd, -16, stat | 65536
	SetWindowPos hwnd, 0, 0, 0, 0, 0, 2 | 1 | 4 | 32
	return
*label_071
	goto *label_073
#deffunc screen_nomin int prm_756, int prm_757, int prm_758, int prm_759
	screen prm_756, prm_757, prm_758, prm_759
	func_15 hwnd, -16
	func_16 hwnd, -16, stat - (stat & 131072)
	func_17 hwnd, 0, 0, 0, 0, 0, 2 | 1 | 4 | 32
	return
*label_073
	goto *label_075
#defcfunc getactivewindow
	var_70 = ginfo(2)
	if ( var_70 >= 0 ) {
		var_71 = ginfo(3)
		dim var_72, 11
		var_72(0) = 44
		gsel var_70
		GetWindowPlacement hwnd, var_72
		if ( var_72(2) == 2 ) {
			var_70 = -1
		}
		gsel var_71
	}
	return var_70
*label_075
	goto *label_078
#defcfunc _mousex
	var_73(0) = ginfo(0), 0
	p_scrwnd var_73
	return var_73(0)
#defcfunc _mousey
	var_73(0) = 0, ginfo(1)
	p_scrwnd var_73
	return var_73(1)
*label_078
	goto *label_080
#deffunc changecursor int prm_768
	var_74 = prm_768
	var_75 = 0
	LoadCursorA var_75, var_74
	var_76 = stat
	SetClassLongA hwnd, -12, var_76
	SetCursor var_76
	return 0
*label_080
	goto *label_082
#deffunc cmdtopath str prm_769, var prm_770
	sdim var_77, 8192
	sdim var_78, 8192
	memset var_78, 0, 8192
	var_77 = prm_769
	var_79 = strlen(var_77)
	if ( var_79 == 0 ) {
		return
	}
	if ( peek(var_77, 0) == 34 ) {
		var_77 = strmid(var_77, 1, var_79 - 2)
		var_79 = var_79 - 2
		var_80 = 1
		var_81 = 0
		var_82 = 0
		repeat
			if ( var_81 == var_79 ) {
				break
			}
			var_83 = peek(var_77, var_81)
			if ( var_83 == 34 ) {
				poke var_78, var_82, 13
				var_82++
				poke var_78, var_82, 10
				var_82++
				var_81 += 3
				var_80++
			}
			else {
				poke var_78, var_82, var_83
				var_81++
				var_82++
			}
		loop
	}
	else {
		var_80 = 1
		var_81 = 0
		var_82 = 0
		repeat
			if ( var_81 == var_79 ) {
				break
			}
			var_83 = peek(var_77, var_81)
			if ( var_83 == 32 ) {
				poke var_78, var_82, 13
				var_82++
				poke var_78, var_82, 10
				var_82++
				var_81++
				var_80++
			}
			else {
				poke var_78, var_82, var_83
				var_81++
				var_82++
			}
		loop
		poke var_78, var_82, 13
		poke var_78, var_82 + 1, 10
	}
	prm_770 = var_78
	return
*label_082
	goto *label_084
#deffunc openvolctrl
	var_84 = sysinfo(0)
	exist dirinfo(3) + "\\sndvol.exe"
	if ( strsize > 0 ) {
		exec "sndvol"
	}
	return
*label_084
	goto *label_086
#deffunc fileselectdialog var prm_804, int prm_805, str prm_806, str prm_807, str prm_808, str prm_809, int
	var_85 = prm_806
	sdim var_86, 256
	sdim var_87, 256 * 2
	sdim var_88, 256 * 2
	memset var_88, 0, 256 * 2
	var_89 = 0
	var_90 = 0
	repeat
		getstr var_86, var_85, var_89
		if ( strsize == 0 ) {
			break
		}
		var_89 += strsize
		MultiByteToWideChar 0, 0, varptr(var_86), -1, varptr(var_87), 260
		var_91 = stat * 2
		memcpy var_88, var_87, var_91, var_90, 0
		var_90 += var_91
	loop
	var_92 = prm_807
	var_93 = prm_808
	var_94 = prm_809
	sdim var_95, 260 * 2
	sdim var_96, 260 * 2
	sdim var_97, 2048 * 2
	MultiByteToWideChar 0, 0, varptr(var_92), -1, varptr(var_95), 260
	MultiByteToWideChar 0, 0, varptr(var_93), -1, varptr(var_96), 260
	MultiByteToWideChar 0, 0, varptr(var_94), -1, varptr(var_97), 260
	dim var_98, 19
	var_98(0) = 76
	var_98(1) = hwnd
	var_98(3) = varptr(var_88)
	var_98(6) = 1
	var_98(7) = varptr(var_97)
	var_98(8) = 2048
	if ( var_92 != "" ) {
		var_98(11) = varptr(var_95)
	}
	if ( var_93 != "" ) {
		var_98(12) = varptr(var_96)
	}
	var_98(13) = 2 | 4 | 4096 | 524288
	if ( prm_805 == 0 ) {
		GetOpenFileNameW varptr(var_98)
	}
	else {
		GetSaveFileNameW varptr(var_98)
	}
	if ( stat == 0 ) {
		var_99 = -1
		prm_804 = ""
		return var_99
	}
	else {
		var_99 = var_98(6)
	}
	sdim var_100, 260
	WideCharToMultiByte 0, 0, varptr(var_97), -1, varptr(var_100), 260, 0, 0
	if ( prm_805 == 0 ) {
		var_101 = -2147483648
		var_102 = 3
		var_103 = 128
		CreateFileW varptr(var_97), var_101, 7, 0, var_102, var_103, 0
		var_104 = stat
		var_105 = func_19()
		func_18 var_104
		CreateFileA varptr(var_100), var_101, 7, 0, var_102, var_103, 0
		var_106 = stat
		var_107 = func_19()
		func_18 var_106
		if ( var_104 == (-1) ) {
			vserrordialog 350, "" + var_105
			var_99 = -1
			prm_804 = ""
		}
		else {
			if ( var_106 == (-1) ) {
				vserrordialog 351, "" + var_107
				var_99 = -1
				prm_804 = ""
			}
			else {
				prm_804 = var_100
			}
		}
	}
	else {
		prm_804 = var_100
		if ( instr(prm_804, 0, "?") != (-1) ) {
			vserrordialog 353, ""
			var_99 = -1
			prm_804 = ""
		}
	}
	return var_99
*label_086
	goto *label_088
#deffunc folderselectdialog var prm_815, str prm_816
	dim var_108
	dim var_109, 16
	sdim var_110, 260
	sdim var_111, 260
	sdim var_112, 260
	var_110 = prm_816
	var_109(0) = hwnd, 0, varptr(var_111), varptr(var_110)
	var_109(4) = 1, 0, 0, 0
	var_108 = SHBrowseForFolder(varptr(var_109))
	if ( var_108 == 0 ) {
		return 0
	}
	SHGetPathFromIDList var_108, varptr(var_112)
	prm_815 = var_112
	CoTaskMemFree var_108
	return
*label_088
	goto *label_090
#deffunc msgdialogex str prm_817, int prm_818, str prm_819
	var_113 = ginfo(3)
	var_114 = getactivewindow()
	if ( var_114 >= 0 ) {
		gsel var_114
	}
	dialog prm_817, prm_818, prm_819
	var_115 = stat
	gsel var_113
	return stat
*label_090
	goto *label_092
#deffunc msgdialog str prm_820, int prm_821
	msgdialogex prm_820, prm_821, ""
	return
*label_092
	goto *label_094
#deffunc choosecolordialog int prm_823, int prm_824, int prm_825
	dim var_116, 9
	if ( prm_825 ) {
		var_117 = prm_825
	}
	else {
		var_117 = varptr(var_118)
	}
	var_116 = 36, hwnd, 0, prm_824, var_117, 1 | prm_823
	if ( ChooseColorA(varptr(var_116)) ) {
		mref var_119, 67
		var_119(40) = var_116(3)
	}
	return stat
*label_094
	goto *label_096
#defcfunc getkeyflg int prm_826
	var_120 = 0
	getkey var_120, prm_826
	return var_120
*label_096
	goto *label_098
#deffunc selectinputtext int prm_827
	objsel prm_827
	sendmsg objinfo(prm_827, 2), 177, 0, -1
	return
*label_098
	goto *label_106
#deffunc setfont_init
	font "Meiryo UI"
	sdim var_121, 64
	GetTextFaceA hdc, 64, varptr(var_121)
	if ( var_121 == "Meiryo UI" ) {
		var_122 = 1
	}
	else {
		var_122 = 0
	}
	return
#deffunc setfont_normal
	if ( var_122 == 0 ) {
		font "MS UI Gothic", 13, 0
	}
	else {
		font "Meiryo UI", 12, 0
	}
	return
#deffunc setfont_bold
	if ( var_122 == 0 ) {
		font "MS UI Gothic", 13, 1
	}
	else {
		font "Meiryo UI", 12, 1
	}
	return
#deffunc setfont_time_small
	if ( var_122 == 0 ) {
		font "MS UI Gothic", 12, 1
	}
	else {
		font "Meiryo UI", 11, 1
	}
	return
#deffunc setfont_time_big
	if ( var_122 == 0 ) {
		font "MS UI Gothic", 20, 1
	}
	else {
		font "Meiryo UI", 17, 1
	}
	return
#deffunc setfont_level_eter
	if ( var_122 == 0 ) {
		font "MS UI Gothic", 10, 0
	}
	else {
		font "Meiryo UI", 9, 0
	}
	return
#deffunc setfont_popup
	setfont_time_big
	return
*label_106
	goto *label_108
#deffunc execconsole var prm_859, str prm_860
	var_123 = prm_860
	if ( var_123 == "" ) {
		return -1
	}
	sdim var_124, 260 + 2
	var_125 = "Comspec"
	var_126 = GetEnvironmentVariableA(var_125, var_124, 260)
	if ( var_126 == 0 ) {
		return -1
	}
	var_123 = var_124 + " /c " + var_123
	var_127(0) = 12, 0, 1
	var_126 = CreatePipe(var_128, var_129, var_127, 0)
	dim var_130, 17
	dim var_131, 4
	var_130(0) = 68
	var_130(11) = 256 | 1
	var_130(12) = 0
	var_130(15) = var_129
	var_126 = CreateProcessA(0, var_123, 0, 0, 1, 0, 0, 0, var_130, var_131)
	if ( var_126 == 0 ) {
		return -1
	}
	var_132 = var_131(0)
	var_126 = WaitForSingleObject(var_132, -1)
	func_20 var_129
	sdim var_133, 4096 + 1
	prm_859 = ""
	repeat
		vswait 1
		var_126 = PeekNamedPipe(var_128, 0, 0, 0, var_134, 0)
		var_126 = ReadFile(var_128, var_133, 4096, var_135, 0)
		if ( var_135 < 4096 ) {
			poke var_133, var_135, 0
			prm_859 += var_133
			break
		}
		if ( var_135 == 0 ) {
			break
		}
		prm_859 += var_133
	loop
	func_20 var_128
	sdim var_133, 0
	sdim var_124, 0
	return 0
*label_108
	goto *label_123
#deffunc initgetnotename
	sdim var_136, 8, 24
	var_136(0) = "C", "Db", "D", "Eb", "E", "F", "Gb", "G", "Ab", "A", "Bb", "B"
	var_136(12) = "C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"
	sdim var_137, 8, 24
	if ( var_67(58) == 2 ) {
		var_137(0) = "Do", "Reb", "Re", "Mib", "Mi", "Fa", "Solb", "Sol", "Lab", "La", "Sib", "Si"
		var_137(12) = "Do", "Do#", "Re", "Re#", "Mi", "Fa", "Fa#", "Sol", "Sol#", "La", "La#", "Si"
	}
	else {
		var_137(0) = "ド", "レb", "レ", "ミb", "ミ", "ファ", "ソb", "ソ", "ラb", "ラ", "シb", "シ"
		var_137(12) = "ド", "ド#", "レ", "レ#", "ミ", "ファ", "ファ#", "ソ", "ソ#", "ラ", "ラ#", "シ"
	}
	sdim var_138, 16, 15
	var_138(0) = "low^5", "low^4", "low^3", "low^2", "low", "mid1", "mid2"
	var_138(7) = "hi", "hihi", "hihihi", "hi^4", "hi^5", "hi^6", "hi^7", "hi^8"
	sdim var_139, 8, 13
	var_139(0) = "-", "C/Am", "Db/Bbm", "D/Bm", "Eb/Cm", "E/C#m", "F/Dm", "Gb/Ebm", "G/Em", "Ab/Fm", "A/F#m", "Bb/Gm", "B/G#m"
	dim var_140, 12
	var_140(0) = 1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 0, 1
	dim var_141, 12
	var_141(0) = 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 1
	dim var_142, 12
	dim var_143, 12
	dim var_144, 12
	dim var_145, 12
	var_142(0) = 0, 12, 4, 16, -14, -2, -10, 2, 14, -16, 18, -12
	var_143(0) = 0, -10, 4, -6, 8, -2, 12, 2, -8, 6, -4, 10
	var_144(0) = 0, 17, -7, 10, -14, 3, -20, -3, 14, -10, 7, -17
	var_145(0) = 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
	return
#defcfunc getscalename int prm_861
	return var_139(prm_861)
#defcfunc getscaleflg int prm_862, int prm_863
	var_146 = 1
	if ( prm_863 != 0 ) {
		var_147 = prm_863 - 1
		var_146 = var_140((prm_862 - var_147 + 12) \ 12)
	}
	return var_146
#defcfunc getnoteoctname int prm_864, int prm_865
	var_148 = prm_864 \ 12
	var_149 = prm_864 / 12 - 1
	if ( prm_865 != 0 ) {
		var_147 = prm_865 - 1
		var_150 = var_141(var_147) * 12
	}
	else {
		var_150 = 12
	}
	var_151 = var_67(36)
	if ( 0 ) {
		var_152++
	}
	if ( var_151 == 0 | var_152 ) {
		var_152 = 0
		var_153 = var_136(var_148 + var_150) + str(var_149)
		goto *label_113
		var_152++
	}
	if ( var_151 == 1 | var_152 ) {
		var_152 = 0
		var_153 = var_137(var_148 + var_150) + str(var_149)
		goto *label_113
	}
	if ( 1 ) {
		var_153 = var_138((prm_864 + 15) / 12) + var_136(var_148 + var_150)
		goto *label_113
	}
*label_113
	return var_153
#defcfunc getnoteoctname2 int prm_866, int prm_867
	var_148 = prm_866 \ 12
	var_149 = prm_866 / 12 - 1
	if ( prm_867 != 0 ) {
		var_147 = prm_867 - 1
		var_150 = var_141(var_147) * 12
	}
	else {
		var_150 = 12
	}
	var_153 = var_136(var_148 + var_150) + str(var_149)
	return var_153
#defcfunc getnotename int prm_868, int prm_869
	var_148 = prm_868 \ 12
	if ( prm_869 != 0 ) {
		var_147 = prm_869 - 1
		var_150 = var_141(var_147) * 12
	}
	else {
		var_150 = 12
	}
	var_151 = var_67(36)
	if ( 0 ) {
		var_152++
	}
	if ( var_151 == 1 | var_152 ) {
		var_152 = 0
		var_153 = var_137(var_148 + var_150)
		goto *label_116
	}
	if ( 1 ) {
		var_153 = var_136(var_148 + var_150)
		goto *label_116
	}
*label_116
	return var_153
#defcfunc cnvnn2pitchd int prm_870, double prm_871, int prm_872, int prm_873, int prm_874
	if ( prm_871 != 440.0 ) {
		var_154 = 1200.0 * logf(prm_871 / 440.0) / logf(2.0)
	}
	else {
		var_154 = 0.0
	}
	var_155 = 0
	if ( prm_872 != 0 ) {
		var_147 = prm_872 - 1
		var_151 = prm_873
		if ( 0 ) {
			var_152++
		}
		if ( var_151 == 0 | var_152 ) {
			var_152 = 0
			var_155 = 0
			goto *label_118
			var_152++
		}
		if ( var_151 == 1 | var_152 ) {
			var_152 = 0
			var_155 = var_142((prm_870 - var_147 + 12) \ 12) - var_142((9 - var_147 + 12) \ 12)
			goto *label_118
			var_152++
		}
		if ( var_151 == 2 | var_152 ) {
			var_152 = 0
			var_155 = var_143((prm_870 - var_147 + 12) \ 12) - var_143((9 - var_147 + 12) \ 12)
			goto *label_118
			var_152++
		}
		if ( var_151 == 3 | var_152 ) {
			var_152 = 0
			var_155 = var_144((prm_870 - var_147 + 12) \ 12) - var_144((9 - var_147 + 12) \ 12)
			goto *label_118
			var_152++
		}
		if ( var_151 == 4 | var_152 ) {
			var_152 = 0
			GetPrjItemUserTune var_67(17), prm_874, var_145
			var_155 = var_145((prm_870 - var_147 + 12) \ 12) - var_145((9 - var_147 + 12) \ 12)
			goto *label_118
		}
	}
*label_118
	var_156 = double(prm_870) * 100.0 + var_154 + var_155
	return var_156
#defcfunc cnvnn2pitch int prm_875, double prm_876, int prm_877, int prm_878, int prm_879
	return int(cnvnn2pitchd(prm_875, prm_876, prm_877, prm_878, prm_879) + 0.5)
#defcfunc cnvpitch2nn int prm_880, double prm_881, int prm_882, int prm_883, int prm_884
	if ( prm_881 != 440.0 ) {
		var_157 = 1200.0 * logf(prm_881 / 440.0) / logf(2.0)
		if ( var_157 >= 0.0 ) {
			var_154 = int(var_157 + 0.5)
		}
		else {
			var_154 = int(var_157 - 0.5)
		}
	}
	else {
		var_154 = 0
	}
	var_148 = (prm_880 - var_154 + 50) / 100
	var_158 = abs(cnvnn2pitch(var_148 - 1, prm_881, prm_882, prm_883, prm_884) - prm_880)
	var_159 = abs(cnvnn2pitch(var_148 + 0, prm_881, prm_882, prm_883, prm_884) - prm_880)
	var_160 = abs(cnvnn2pitch(var_148 + 1, prm_881, prm_882, prm_883, prm_884) - prm_880)
	if ( var_158 < var_159 ) {
		var_148--
	}
	if ( var_160 < var_159 ) {
		var_148++
	}
	return var_148
#defcfunc getcentname int prm_885, double prm_886, int prm_887, int prm_888, int prm_889
	var_148 = cnvpitch2nn(prm_885, prm_886, prm_887, prm_888, prm_889)
	var_161 = cnvnn2pitch(var_148, prm_886, prm_887, prm_888, prm_889)
	var_162 = prm_885 - var_161
	return getnoteoctname(var_148, prm_887) + strf("%+03d", var_162)
#defcfunc snappitch int prm_890, double prm_891, int prm_892, int prm_893, int prm_894
	var_148 = cnvpitch2nn(prm_890, prm_891, prm_892, prm_893, var_163)
	return cnvnn2pitch(var_148, prm_891, prm_892, prm_893, prm_894)
*label_123
	goto *label_126
#defcfunc cnvnname2nn str prm_895
	var_164 = prm_895
	var_165 = peek(var_164, 0)
	var_166 = peek(var_164, 1)
	var_167 = peek(var_164, limit(strlen(var_164) - 1, 1, 2))
	if ( var_165 >= 96 ) {
		var_165 -= 32
	}
	var_168 = var_165
	if ( 0 ) {
		var_169++
	}
	if ( var_168 == 67 | var_169 ) {
		var_169 = 0
		var_170 = 0
		goto *label_125
		var_169++
	}
	if ( var_168 == 68 | var_169 ) {
		var_169 = 0
		var_170 = 2
		goto *label_125
		var_169++
	}
	if ( var_168 == 69 | var_169 ) {
		var_169 = 0
		var_170 = 4
		goto *label_125
		var_169++
	}
	if ( var_168 == 70 | var_169 ) {
		var_169 = 0
		var_170 = 5
		goto *label_125
		var_169++
	}
	if ( var_168 == 71 | var_169 ) {
		var_169 = 0
		var_170 = 7
		goto *label_125
		var_169++
	}
	if ( var_168 == 65 | var_169 ) {
		var_169 = 0
		var_170 = 9
		goto *label_125
		var_169++
	}
	if ( var_168 == 66 | var_169 ) {
		var_169 = 0
		var_170 = 11
		goto *label_125
	}
	if ( 1 ) {
		var_170 = 9
		goto *label_125
	}
*label_125
	if ( var_166 == 35 ) {
		var_170++
	}
	if ( var_166 == 98 ) {
		var_170--
	}
	if ( var_167 >= 48 & var_167 <= 57 ) {
		var_170 += (var_167 - 48 + 1) * 12
	}
	return limit(var_170, 0, 128)
*label_126
	goto *label_129
#defcfunc cnvpitch2freqd double prm_896
	return 440.0 * powf(2.0, double(prm_896 - 6900.0) / 1200.0)
#defcfunc getfreqstr int prm_897
	var_171 = cnvpitch2freqd(double(prm_897))
	if ( var_171 < 100.0 ) {
		var_172 = strf("%5.3fHz", var_171)
	}
	else {
		if ( var_171 < 1000.0 ) {
			var_172 = strf("%4.2fHz", var_171)
		}
		else {
			var_172 = strf("%3.1fHz", var_171)
		}
	}
	return var_172
*label_129
	goto *label_139
#defcfunc getbeatsec
	if ( var_67(17) != 0 ) {
		var_173 = vslib_getprjtempo(var_67(17))
	}
	else {
		var_173 = 120.0
	}
	return 60.0 / var_173
#defcfunc gethakusec
	if ( var_67(17) != 0 ) {
		var_174 = GetPrjMeasure(var_67(17))
	}
	else {
		var_174 = 4
	}
	if ( var_174 == 6 | var_174 == 9 | var_174 == 12 ) {
		var_175 = getbeatsec() / 3.0
	}
	else {
		var_175 = getbeatsec()
	}
	return var_175
#defcfunc getquarternotesec
	if ( var_67(17) != 0 ) {
		var_176 = GetPrjMeasBase(var_67(17))
	}
	else {
		var_176 = 4
	}
	return gethakusec() * var_176 / 4.0
#defcfunc timesectostr double prm_898
	var_177 = int(prm_898 * 1000.0)
	if ( var_177 >= 0 ) {
		var_178 = ""
	}
	else {
		var_177 = abs(var_177)
		var_178 = "-"
	}
	var_179 = var_177 / 60000
	var_180 = var_177 \ 60000 / 1000
	var_181 = var_177 \ 1000
	var_178 = strf("%02d:%02d.%03d", var_179, var_180, var_181)
	return var_178
#defcfunc strtotimesec str prm_899
	var_182 = prm_899
	getstr var_183, var_182, 0, 46
	getstr var_184, var_182, strsize, 46
	getstr var_185, var_183, 0, 58
	getstr var_186, var_183, strsize, 58
	var_180 = double(var_185) * 60.0 + double(var_186) + double(var_184) * 0.001
	return var_180
#defcfunc timesmptostr double prm_900, int prm_901
	var_178 = ""
	if ( var_67(17) != 0 ) {
		var_173 = vslib_getprjtempo(var_67(17))
		var_174 = GetPrjMeasure(var_67(17))
		var_176 = GetPrjMeasBase(var_67(17))
		var_187 = GetPrjSampFreq(var_67(17))
	}
	else {
		var_173 = 120.0
		var_174 = 4
		var_176 = 4
		var_187 = 44100
	}
	var_188 = prm_901
	if ( 0 ) {
		var_189++
	}
	if ( var_188 == 0 | var_189 ) {
		var_189 = 0
		var_177 = int(prm_900 * 1000.0 / var_187 + 0.5)
		if ( var_177 >= 0 ) {
			var_178 = ""
		}
		else {
			var_177 = abs(var_177)
			var_178 = "-"
		}
		var_179 = var_177 / 60000
		var_180 = var_177 \ 60000 / 1000
		var_181 = var_177 \ 1000
		var_178 += strf("%02d:%02d.%03d", var_179, var_180, var_181)
		goto *label_136
		var_189++
	}
	if ( var_188 == 1 | var_189 ) {
		var_189 = 0
		var_190 = int(prm_900 / var_187 / getquarternotesec() * 960.0)
		var_191 = 960 * 4 / var_176
		var_192 = var_191 * var_174
		var_193 = var_190 / var_192
		if ( var_190 < 0 & var_190 \ var_192 != 0 ) {
			var_193--
		}
		var_190 -= var_193 * var_192
		var_194 = var_190 \ var_192 / var_191
		var_195 = var_190 \ var_191
		var_178 = strf("%03d:%02d:%03d", var_193 + 1, var_194 + 1, var_195)
		goto *label_136
		var_189++
	}
	if ( var_188 == 2 | var_189 ) {
		var_189 = 0
		var_178 = strf("%d", int(prm_900 + 0.5))
		goto *label_136
	}
*label_136
	return var_178
#defcfunc strtotimesmp str prm_902, int prm_903
	var_196 = 0.0
	var_182 = prm_902
	if ( var_67(17) != 0 ) {
		var_173 = vslib_getprjtempo(var_67(17))
		var_174 = GetPrjMeasure(var_67(17))
		var_176 = GetPrjMeasBase(var_67(17))
		var_187 = GetPrjSampFreq(var_67(17))
	}
	else {
		var_173 = 120.0
		var_174 = 4
		var_176 = 4
		var_187 = 44100
	}
	var_188 = prm_903
	if ( 0 ) {
		var_189++
	}
	if ( var_188 == 0 | var_189 ) {
		var_189 = 0
		if ( peek(var_182, 0) == 45 ) {
			var_182 = strmid(var_182, 1, strlen(var_182) - 1)
			var_197 = -1.0
		}
		else {
			var_197 = 1.0
		}
		getstr var_183, var_182, 0, 46
		getstr var_184, var_182, strsize, 46
		getstr var_185, var_183, 0, 58
		getstr var_186, var_183, strsize, 58
		var_180 = double(var_185) * 60.0 + double(var_186) + double(var_184) * 0.001
		var_196 = var_197 * var_180 * var_187
		goto *label_138
		var_189++
	}
	if ( var_188 == 1 | var_189 ) {
		var_189 = 0
		var_191 = 960 * 4 / var_176
		var_192 = var_191 * var_174
		var_198 = 0
		getstr var_185, var_182, var_198, 58
		var_198 += strsize
		getstr var_186, var_182, var_198, 58
		var_198 += strsize
		getstr var_184, var_182, var_198, 58
		var_190 = double(int(var_185) - 1) * var_192 + double(int(var_186) - 1) * var_191 + double(var_184)
		var_196 = var_190 / 960.0 * getquarternotesec() * var_187
		goto *label_138
		var_189++
	}
	if ( var_188 == 2 | var_189 ) {
		var_189 = 0
		var_196 = double(var_182)
		goto *label_138
	}
*label_138
	return var_196
*label_139
	goto *label_141
#deffunc timesectomeas double prm_904, var prm_905, var prm_906, var prm_907
	if ( var_67(17) != 0 ) {
		var_199 = vslib_getprjtempo(var_67(17))
		var_200 = GetPrjMeasure(var_67(17))
		var_201 = GetPrjMeasBase(var_67(17))
		var_202 = GetPrjSampFreq(var_67(17))
	}
	else {
		var_199 = 120.0
		var_200 = 4
		var_201 = 4
		var_202 = 44100
	}
	var_203 = int(prm_904 / getquarternotesec() * 960.0)
	var_204 = 960 * 4 / var_201
	var_205 = var_204 * var_200
	prm_905 = var_203 / var_205
	if ( var_203 < 0 & var_203 \ var_205 != 0 ) {
		prm_905--
	}
	var_203 -= prm_905 * var_205
	prm_906 = var_203 \ var_205 / var_204
	prm_907 = var_203 \ var_204
	return
*label_141
	goto *label_143
#defcfunc timemeastosec int prm_908, int prm_909, int prm_910
	if ( var_67(17) != 0 ) {
		var_206 = vslib_getprjtempo(var_67(17))
		var_207 = GetPrjMeasure(var_67(17))
		var_208 = GetPrjMeasBase(var_67(17))
		var_209 = GetPrjSampFreq(var_67(17))
	}
	else {
		var_206 = 120.0
		var_207 = 4
		var_208 = 4
		var_209 = 44100
	}
	var_210 = 960 * 4 / var_208
	var_211 = var_210 * var_207
	var_212 = double(prm_908) * var_211 + double(prm_909) * var_210 + double(prm_910)
	var_213 = var_212 / 960.0 * getquarternotesec()
	return var_213
*label_143
	goto *label_146
#defcfunc roundintval int prm_911, int prm_912
	if ( prm_911 >= 0 ) {
		var_214 = (prm_911 + prm_912 / 2) / prm_912 * prm_912
	}
	else {
		var_214 = (prm_911 - prm_912 / 2) / prm_912 * prm_912
	}
	return var_214
#defcfunc rounddoubleval double prm_913, double prm_914
	if ( prm_913 >= 0.0 ) {
		var_214 = prm_914 * int((prm_913 + prm_914 / 2.0) / prm_914)
	}
	else {
		var_214 = prm_914 * int((prm_913 - prm_914 / 2.0) / prm_914)
	}
	return var_214
*label_146
	goto *label_151
#deffunc errdialog str prm_915
	msgdialogex prm_915, 1, "VocalShifter ver.3.45" + " ERROR"
	return
#deffunc infodialog str prm_916
	msgdialogex prm_916, 0, "VocalShifter ver.3.45"
	return
#deffunc vserrordialog int prm_917, str prm_918
	var_215 = prm_917
	if ( 0 ) {
		var_216++
	}
	if ( var_215 == 100 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 100 occurred.\n\n[Error Details]\nvslib.dll not found\n\n[Cause and Solution]\nRunning from a compressed file\n⇒Please extract (unzip) before running.\nNot installed correctly\n⇒Please install again.\nMoved or deleted vslib.dll after installation\n⇒Please do not move or delete vslib.dll.\nMoved the executable file after installation\n⇒Please do not move the executable file.\nNo access rights\n⇒Please run with a user who has access rights."
		}
		else {
			errdialog "エラー100が発生しました。\n\n【エラー内容】\nvslib.dllが見つかりません\n\n【原因と対処】\n圧縮ファイルのまま実行している\n⇒展開(解凍)してから実行してください。\n正しくインストールされていない\n⇒再度インストールしてください。\nインストール後にvslib.dllを移動または削除した\n⇒vslib.dllを移動または削除しないでください。\nインストール後に実行ファイルを移動した\n⇒実行ファイルを移動しないでください。\nアクセス権限がない\n⇒権限のあるユーザで実行してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 101 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 101 occurred.\n\n[Error Details]\nvslib.dll version invalid\n\n[Cause and Solution]\nNot installed correctly\n⇒Please install again."
		}
		else {
			errdialog "エラー101が発生しました。\n\n【エラー内容】\nvslib.dllバージョン不正\n\n【原因と対処】\n正しくインストールされていない\n⇒再度インストールしてください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 102 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 102 occurred.\n\n[Error Details]\nExpired\n\n[Cause and Solution]\nExpired\n⇒Please use the new version."
		}
		else {
			errdialog "エラー102が発生しました。\n\n【エラー内容】\n使用期限超過\n\n【原因と対処】\n使用期限を超過している\n⇒新しいバージョンを使用してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 103 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 103 occurred.\n\n[Error Details]\nMultiple startup error\n\n[Cause and Solution]\nStarted 5 times simultaneously\n⇒Please do not start 5 times at the same time.\nDid not finish normally last time\n⇒Please restart Windows."
		}
		else {
			errdialog "エラー103が発生しました。\n\n【エラー内容】\n多重起動エラー\n\n【原因と対処】\n同時に5重起動した\n⇒同時に5重起動しないでください。\n前回正常に終了しなかった\n⇒Windowsを再起動してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 104 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 104 occurred.\n\n[Error Details]\nworld4vs3.dll not found\n\n[Cause and Solution]\nRunning from a compressed file\n⇒Please extract (unzip) before running.\nNot installed correctly\n⇒Please install again.\nMoved or deleted world4vs3.dll after installation\n⇒Please do not move or delete world4vs3.dll.\nMoved the executable file after installation\n⇒Please do not move the executable file.\nNo access rights\n⇒Please run with a user who has access rights."
		}
		else {
			errdialog "エラー104が発生しました。\n\n【エラー内容】\nworld4vs3.dllが見つかりません\n\n【原因と対処】\n圧縮ファイルのまま実行している\n⇒展開(解凍)してから実行してください。\n正しくインストールされていない\n⇒再度インストールしてください。\nインストール後にworld4vs3.dllを移動または削除した\n⇒world4vs3.dllを移動または削除しないでください。\nインストール後に実行ファイルを移動した\n⇒実行ファイルを移動しないでください。\nアクセス権限がない\n⇒権限のあるユーザで実行してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 200 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 200 occurred.\n\n[Error Details]\nFailed to open MIDI output device\n\n[Cause and Solution]\nAnother software (DAW, etc.) is occupying the MIDI device.\n⇒Please close the software using the device."
		}
		else {
			errdialog "エラー200が発生しました。\n\n【エラー内容】\nMIDI出力デバイスのオープンに失敗\n\n【原因と対処】\n他のソフト(DAWなど)がMIDIデバイスを占有している\n⇒デバイスを使用しているソフトを終了してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 201 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 201 occurred.\n\n[Error Details]\nFailed to open MIDI input device\n\n[Cause and Solution]\nAnother software (DAW, etc.) is occupying the MIDI device.\n⇒Please close the software using the device."
		}
		else {
			errdialog "エラー201が発生しました。\n\n【エラー内容】\nMIDI入力デバイスのオープンに失敗\n\n【原因と対処】\n他のソフト(DAWなど)がMIDIデバイスを占有している\n⇒デバイスを使用しているソフトを終了してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 210 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 210 occurred.\n\n[Error Details]\nFailed to open WAVE output device\n\n[Cause and Solution]\nAnother software (DAW, etc.) is occupying the WAVE output device.\n⇒Please close the software using the device.\n⇒Please open the configuration screen and change the playback device."
		}
		else {
			errdialog "エラー210が発生しました。\n\n【エラー内容】\nWAVE出力デバイスのオープンに失敗\n\n【原因と対処】\n他のソフト(DAWなど)がWAVE出力デバイスを占有している\n⇒デバイスを使用しているソフトを終了してください。\n⇒設定画面を開き、再生デバイスを変更してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 300 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 300 occurred.\n\n[Error Details]\nFailed to open project file\n\n[Cause and Solution]\nPlease specify a valid file name.\n⇒Please check the file name.\nThe file name contains environment-dependent characters.\n⇒Please change the file name.\nNo access rights\n⇒Please run with a user who has access rights.\n"
		}
		else {
			errdialog "エラー300が発生しました。\n\n【エラー内容】\nプロジェクトファイルのオープンに失敗\n\n【原因と対処】\n不正なファイル名を指定した\n⇒ファイル名を確認してください。\nファイル名に環境依存文字が含まれている\n⇒ファイル名を変更してください。\nアクセス権限がない\n⇒アクセス権限のあるユーザで実行してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 301 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 301 occurred.\n\n[Error Details]\nInvalid project file\n\n[Cause and Solution]\nUnsupported format\n⇒Files in unsupported formats cannot be opened.\nThe project file is corrupted\n⇒Corrupted project files cannot be opened.\n"
		}
		else {
			errdialog "エラー301が発生しました。\n\n【エラー内容】\n不正なプロジェクトファイル\n\n【原因と対処】\n対応していないフォーマット\n⇒対応していないフォーマットのファイルは開けません。\nプロジェクトファイルが壊れている\n⇒壊れたプロジェクトファイルは開けません。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 302 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 302 occurred.\n\n[Error Details]\nFailed to save project file\n\n[Cause and Solution]\nThere is not enough free space on the disk.\n⇒Please ensure that there is enough free space to save the file.\nYou have specified an invalid file name.\n⇒Please check the file name.\nThe file name contains environment-dependent characters.\n⇒Please change the file name.\nThe file is read-only.\n⇒Please change the file attributes.\nYou do not have access rights.\n⇒Please run with a user who has access rights.\n"
		}
		else {
			errdialog "エラー302が発生しました。\n\n【エラー内容】\nプロジェクトファイルの保存に失敗\n\n【原因と対処】\nディスクに空き容量がない\n⇒保存できる空き容量を確保してください。\n不正なファイル名を指定した\n⇒ファイル名を確認してください。\nファイル名に環境依存文字が含まれている\n⇒ファイル名を変更してください。\nファイルが読み取り専用である\n⇒ファイルの属性を変更してください。\nアクセス権限がない\n⇒アクセス権限のあるユーザで実行してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 310 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 310 occurred.\n\n[Error Details]\nFailed to open audio file\n\n[Cause and Solution]\nThe audio file does not exist.\n⇒The project file cannot be opened if the audio file is deleted or moved.\nPlease specify a valid file name.\n⇒Please check the file name.\nThe file name contains environment-dependent characters.\n⇒Please change the file name.\nNo access rights\n⇒Please run with a user who has access rights.\n"
		}
		else {
			errdialog "エラー310が発生しました。\n\n【エラー内容】\n音声ファイルのオープンに失敗\n\n【原因と対処】\n音声ファイルが存在しない\n⇒音声ファイルが削除・移動されると\nプロジェクトファイルを開けません。\n不正なファイル名を指定した\n⇒ファイル名を確認してください。\nファイル名に環境依存文字が含まれている\n⇒ファイル名を変更してください。\nアクセス権限がない\n⇒アクセス権限のあるユーザで実行してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 311 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 311 occurred.\n\n[Error Details]\nInvalid audio file\n\n[Cause and Solution]\nUnsupported format\n⇒Files in unsupported formats cannot be opened.\nPlease convert to Wave format (Linear PCM) before opening.\nFile is corrupted\n⇒Corrupted files cannot be opened.\n" + "\n" + prm_918
		}
		else {
			errdialog "エラー311が発生しました。\n\n【エラー内容】\n不正な音声ファイル\n\n【原因と対処】\n対応していないフォーマット\n⇒対応していないフォーマットのファイルは開けません。\nWave形式(リニアPCM)に変換してから開いてください。\nファイルが壊れている\n⇒壊れたファイルは開けません。\n" + "\n" + prm_918
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 312 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			infodialog "You cannot overwrite files that have already been added to the project."
		}
		else {
			infodialog "プロジェクトに追加されているファイルには\n上書きできません。別のファイル名を指定してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 313 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 313 occurred.\n\n[Error Details]\nFailed to output Wave file\n\n[Cause and Solution]\nThere is not enough free space on the disk.\n⇒Please ensure that there is enough free space to save.\nYou have specified an invalid file name.\n⇒Please check the file name.\nThe file name contains environment-dependent characters.\n⇒Please change the file name.\nThe file is read-only.\n⇒Please change the file attributes.\nNo access rights\n⇒Please run with a user who has access rights." + "\n(Detail code" + prm_918 + ")"
		}
		else {
			errdialog "エラー313が発生しました。\n\n【エラー内容】\nWaveファイルの出力に失敗\n\n【原因と対処】\nディスクに空き容量がない\n⇒保存できる空き容量を確保してください。\n不正なファイル名を指定した\n⇒ファイル名を確認してください。\nファイル名に環境依存文字が含まれている\n⇒ファイル名を変更してください。\nファイルが読み取り専用である\n⇒ファイルの属性を変更してください。\nアクセス権限がない\n⇒アクセス権限のあるユーザで実行してください。" + "\n(詳細コード" + prm_918 + ")"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 314 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 314 occurred.\n\n[Error Details]\nOverwrite output to a file in a format other than Wave\n\n[Cause and Solution]\nAttempted to overwrite output to a file in a format other than Wave\n⇒Overwriting output to a file in a format other than Wave is not possible.\nPlease select \"Output to Wave file\" and specify the Wave file name."
		}
		else {
			errdialog "エラー314が発生しました。\n\n【エラー内容】\nWave以外の形式のファイルに上書き出力\n\n【原因と対処】\nWave以外の形式のファイルに上書き出力しようとした\n⇒Wave以外の形式のファイルに上書き出力することは\nできません。「Waveファイルに出力」を選択して\nWaveファイル名を指定してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 315 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			infodialog "Multiple items cannot be output to a Wave file. Please select one item."
		}
		else {
			infodialog "複数のアイテムをWaveファイルに出力することはできません。\nアイテムを1つ選択してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 320 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 320 occurred.\n\n[Error Details]\nFailed to open clipboard file\n\n[Cause and Solution]\nThe audio file does not exist.\n⇒If the audio file that existed at the time of copying is deleted or moved,\nthe project file cannot be opened."
		}
		else {
			errdialog "エラー320が発生しました。\n\n【エラー内容】\nクリップボードファイルのオープンに失敗\n\n【原因と対処】\n音声ファイルが存在しない\n⇒コピー時に存在した音声ファイルが削除・移動されると\nプロジェクトファイルを開けません。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 326 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 326 occurred.\n\n[Error Details]\nFailed to create clipboard file\n\n[Cause and Solution]\nThere is not enough free space on the disk.\n⇒Please ensure that there is enough free space to save."
		}
		else {
			errdialog "エラー326が発生しました。\n\n【エラー内容】\nクリップボードファイルの作成に失敗\n\n【原因と対処】\nディスクに空き容量がない\n⇒保存できる空き容量を確保してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 327 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 327 occurred.\n\n[Error Details]\nInvalid MIDI file format\n\n[Cause and Solution]\nUnsupported format\n⇒Files in unsupported formats cannot be opened.\nFile is corrupted\n⇒Corrupted files cannot be opened."
		}
		else {
			errdialog "エラー327が発生しました。\n\n【エラー内容】\nMIDIファイルフォーマット不正\n\n【原因と対処】\n対応していないフォーマット\n⇒対応していないフォーマットのファイルは開けません。\nファイルが壊れている\n⇒壊れたファイルは開けません。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 330 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 330 occurred.\n\n[Error Details]\nFailed to create initialization file\n\n[Cause and Solution]\nThere is not enough free space on the disk.\n⇒Please ensure that there is enough free space to save."
		}
		else {
			errdialog "エラー330が発生しました。\n\n【エラー内容】\n初期化ファイルの作成に失敗\n\n【原因と対処】\nディスクに空き容量がない\n⇒保存できる空き容量を確保してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 331 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 331 occurred.\n\n[Error Details]\nFailed to create undo point\n\n[Cause and Solution]\nThere is not enough free space on the disk.\n⇒Please ensure that there is enough free space to save."
			}
		else {
			errdialog "エラー331が発生しました。\n\n【エラー内容】\nアンドゥポイントの作成に失敗\n\n【原因と対処】\nディスクに空き容量がない\n⇒保存できる空き容量を確保してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 332 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 332 occurred.\n\n[Error Details]\nFailed to create backup file\n\n[Cause and Solution]\nThere is not enough free space on the disk.\n⇒Please ensure that there is enough free space to save."
		}
		else {
			errdialog "エラー332が発生しました。\n\n【エラー内容】\nバックアップファイルの作成に失敗\n\n【原因と対処】\nディスクに空き容量がない\n⇒保存できる空き容量を確保してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 333 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 333 occurred.\n\n[Error Details]\nFailed to create temporary file\n\n[Cause and Solution]\nThere is not enough free space on the disk.\n⇒Please ensure that there is enough free space to save."
		}
		else {
			errdialog "エラー333が発生しました。\n\n【エラー内容】\n一時ファイルの作成に失敗\n\n【原因と対処】\nディスクに空き容量がない\n⇒保存できる空き容量を確保してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 340 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 340 occurred.\n\n[Error Details]\nFile not found\n\n[Cause and Solution]\nThe file name contains environment-dependent characters.\n⇒Please change the file name.\nAn invalid file name was specified.\n⇒Please check the file name.\nNo access rights\n⇒Please run with a user who has access rights."
			}
		else {
			errdialog "エラー340が発生しました。\n\n【エラー内容】\nファイルが見つかりません\n\n【原因と対処】\nファイル名に環境依存文字が含まれている\n⇒ファイル名を変更してください。\n不正なファイル名を指定した\n⇒ファイル名を確認してください。\nアクセス権限がない\n⇒アクセス権限のあるユーザで実行してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 341 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 341 occurred.\n\n[Error Details]\nFile not found\n\n[Cause and Solution]\nManual file not found\n⇒Please install again."
			}
		else {
			errdialog "エラー341が発生しました。\n\n【エラー内容】\nファイルが見つかりません。\n\n【原因と対処】\nマニュアルファイルが見つからない\n⇒再度インストールしてください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 342 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 342 occurred.\n\n[Error Details]\nThe file is in an unsupported format.\n\n[Cause and Solution]\nFiles in formats other than wave are not supported.\n⇒Please convert to wave file before opening.\n\n*You can open files in formats other than wave by installing the decoding application.\nPlease refer to the manual for details."
		}
		else {
			errdialog "エラー342が発生しました。\n\n【エラー内容】\n対応していない形式のファイルです。\n\n【原因と対処】\nwave以外の形式のファイルには対応していません。\n⇒waveファイルに変換してから開いてください。\n\n※デコード用アプリケーションをインストールすると\nwave以外の形式のファイルを開けるようになります。\n詳細についてはマニュアルをご覧ください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 343 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			infodialog "The external application that opens the Wave file is not properly registered."
		}
		else {
			infodialog "Waveファイルを開く外部アプリケーションが\n正しく登録されていません。設定画面を開き、\n「Waveファイルを開く外部アプリケーション」を\n設定してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 350 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 350 occurred.\n\n[Error Details]\nFile not found\n\n[Cause and Solution]\nAn invalid file name was specified.\n⇒Please check the file name." + "\n(Detailed code" + prm_918 + ")"
		}
		else {
			errdialog "エラー350が発生しました。\n\n【エラー内容】\nファイルが見つかりません\n\n【原因と対処】\n不正なファイル名を指定した\n⇒ファイル名を確認してください。" + "\n(詳細コード" + prm_918 + ")"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 351 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 351 occurred.\n\n[Error Details]\nFile not found\n\n[Cause and Solution]\nEnvironment-dependent characters are included in the file name.⇒Please change the file name.\nThe file path is too long.⇒Please change the file path." + "\n(Detailed code" + prm_918 + ")"
		}
		else {
			errdialog "エラー351が発生しました。\n\n【エラー内容】\nファイルが見つかりません\n\n【原因と対処】\nファイル名に環境依存文字が含まれている\n⇒ファイル名を変更してください。\nファイルパスが長すぎる\n⇒ファイルパスを変更してください。" + "\n(詳細コード" + prm_918 + ")"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 353 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 353 occurred.\n\n[Error Details]\nFailed to save file.\n\n[Cause and Solution]\nEnvironment-dependent characters are included in the file name.⇒Please change the file name."
		}
		else {
			errdialog "エラー353が発生しました。\n\n【エラー内容】\nファイルの保存に失敗しました。\n\n【原因と対処】\nファイル名に環境依存文字が含まれている\n⇒ファイル名を変更してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 400 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			infodialog "Too many items. Please delete unnecessary items."
		}
		else {
			infodialog "アイテム数が多すぎます。\n不要なアイテムを削除してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 401 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			infodialog "Sampling frequency is different from the project setting."
		}
		else {
			infodialog "サンプリング周波数がプロジェクトの設定と異なります。\n追加する音声ファイルのサンプリング周波数を\nプロジェクトの設定に合わせて変換してから追加してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 410 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			infodialog "Too many tracks. Please delete unnecessary tracks."
		}
		else {
			infodialog "トラック数が多すぎます。\n不要なトラックを削除してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 420 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			infodialog "Select the range of output before executing."
		}
		else {
			infodialog "出力する範囲が選択されていません。\n範囲を選択してから実行してください。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 900 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 900 occurred.\n\n[Error Details]\nOut of memory\n\n[Cause and Solution]\nOut of memory\n->The operation cannot be continued due to insufficient memory."
		}
		else {
			errdialog "エラー900が発生しました。\n\n【エラー内容】\nメモリ不足\n\n【原因と対処】\nメモリが不足している\n⇒メモリ不足のため操作を続行できません。"
		}
		goto *label_150
		var_216++
	}
	if ( var_215 == 910 | var_216 ) {
		var_216 = 0
		if ( var_67(58) == 2 ) {
			errdialog "Error 910 occurred.\n\n[Error Details]\nEngine error\n\n[Cause and Solution]\nAn engine error has occurred."
			}
		else {
			errdialog "エラー910が発生しました。\n\n【エラー内容】\nエンジンエラー\n\n【原因と対処】\nエンジンエラーが発生しました。"
		}
		goto *label_150
	}
	if ( 1 ) {
		errdialog "ERROR " + prm_917
		goto *label_150
	}
*label_150
	return
*label_151
	goto *label_153
#defcfunc tltx str prm_919, str prm_920
	if ( var_67(58) == 2 ) {
		return prm_920
	}
	else {
		return prm_919
	}
*label_153
	goto *label_161
#deffunc initbuttonmod
	dim var_217, 64, 14
	var_218 = -1
	var_219 = -1
	GetSystemMetrics 23
	if ( stat == 0 ) {
		var_220 = 1
	}
	else {
		var_220 = 2
	}
	var_221 = 1
	var_222 = 0
	return
#deffunc createbutton int prm_921, int prm_922, int prm_923, int prm_924, int prm_925, int prm_926, int prm_927, int prm_928
	if ( var_221 == 0 ) {
		initbuttonmod
	}
	var_217(prm_921, 0) = 2
	var_217(prm_921, 2) = ginfo(3)
	var_217(prm_921, 3) = prm_922
	var_217(prm_921, 4) = prm_925
	var_217(prm_921, 5) = prm_926
	var_217(prm_921, 6) = prm_923
	var_217(prm_921, 7) = prm_924
	var_217(prm_921, 8) = ginfo(22)
	var_217(prm_921, 9) = ginfo(23)
	var_217(prm_921, 10) = prm_927
	if ( prm_928 == 0 ) {
		var_217(prm_921, 11) = -2
	}
	else {
		if ( ginfo(16) + ginfo(17) + ginfo(18) == 0 ) {
			var_217(prm_921, 11) = -1
		}
		else {
			var_217(prm_921, 11) = ginfo(16)
			var_217(prm_921, 11) = ginfo(17)
			var_217(prm_921, 11) = ginfo(18)
		}
	}
	var_217(prm_921, 1) = 0
	return
#deffunc changebuttonimg int prm_929, int prm_930, int prm_931, int prm_932
	if ( var_221 == 0 ) {
		initbuttonmod
	}
	var_217(prm_929, 3) = prm_930
	var_217(prm_929, 6) = prm_931
	var_217(prm_929, 7) = prm_932
	return
#deffunc deletebutton int prm_933
	if ( var_221 == 0 ) {
		initbuttonmod
	}
	var_217(prm_933, 0) = 0
	return
#deffunc enablebutton int prm_934, int prm_935
	if ( var_221 == 0 ) {
		initbuttonmod
	}
	if ( var_217(prm_934, 0) == 0 ) {
		return
	}
	var_217(prm_934, 0) = prm_935 + 1
	return
#deffunc setbutton
	if ( var_221 == 0 ) {
		initbuttonmod
	}
	var_223 = ginfo(3)
	repeat 64
		if ( var_217(cnt, 0) == 0 ) {
			continue
		}
		gsel var_217(cnt, 2)
		pos var_217(cnt, 8), var_217(cnt, 9)
		if ( var_217(cnt, 11) == (-2) ) {
			gmode 0
		}
		else {
			if ( var_217(cnt, 11) == (-1) ) {
				gmode 2
			}
			else {
				gmode 4, 0, 0, 256
				color var_217(cnt, 11), var_217(cnt, 12), var_217(cnt, 13)
			}
		}
		if ( var_217(cnt, 0) == 2 ) {
			if ( var_217(cnt, 10) == 1 ) {
				gcopy var_217(cnt, 3), var_217(cnt, 6), var_217(cnt, 7) + var_217(cnt, 5) * var_217(cnt, 1), var_217(cnt, 4), var_217(cnt, 5)
				continue
			}
			else {
				gcopy var_217(cnt, 3), var_217(cnt, 6) + var_217(cnt, 4) * var_217(cnt, 1), var_217(cnt, 7), var_217(cnt, 4), var_217(cnt, 5)
				continue
			}
		}
		if ( var_217(cnt, 0) == 1 ) {
			if ( var_217(cnt, 10) == 1 ) {
				gcopy var_217(cnt, 3), var_217(cnt, 6), var_217(cnt, 5) * 3 + var_217(cnt, 7), var_217(cnt, 4), var_217(cnt, 5)
				continue
			}
			else {
				gcopy var_217(cnt, 3), var_217(cnt, 4) * 3 + var_217(cnt, 6), var_217(cnt, 7), var_217(cnt, 4), var_217(cnt, 5)
				continue
			}
		}
	loop
	gsel var_223
	return
#deffunc drawbutton int prm_936
	if ( var_221 == 0 ) {
		initbuttonmod
	}
	var_223 = ginfo(3)
	var_224 = var_222
	getkey var_222, var_220
	var_225 = -1
	repeat 64
		if ( var_217(cnt, 0) != 2 ) {
			continue
		}
		if ( getactivewindow() != var_217(cnt, 2) ) {
			continue
		}
		gsel var_217(cnt, 2)
		var_226 = _mousex()
		var_227 = _mousey()
		if ( var_226 >= var_217(cnt, 8) & var_226 <= var_217(cnt, 8) + var_217(cnt, 4) & var_227 >= var_217(cnt, 9) & var_227 <= var_217(cnt, 9) + var_217(cnt, 5) ) {
			if ( var_217(cnt, 11) == (-2) ) {
				var_225 = cnt
				break
			}
			else {
				if ( var_217(cnt, 11) == (-1) ) {
					var_228 = var_217(cnt, 6) + var_226 - var_217(cnt, 8)
					var_229 = var_217(cnt, 7) + var_227 - var_217(cnt, 9)
					gsel var_217(cnt, 3)
					pget var_228, var_229
					if ( ginfo(16) + ginfo(17) + ginfo(18) != 0 ) {
						var_225 = cnt
						break
					}
				}
				else {
					var_228 = var_217(cnt, 6) + var_226 - var_217(cnt, 8)
					var_229 = var_217(cnt, 7) + var_227 - var_217(cnt, 9)
					gsel var_217(cnt, 3)
					pget var_228, var_229
					if ( ginfo(16) != var_217(cnt, 11) | ginfo(17) != var_217(cnt, 12) | ginfo(18) != var_217(cnt, 13) ) {
						var_225 = cnt
						break
					}
				}
			}
		}
	loop
	var_230 = var_225
	if ( var_225 != var_218 & var_219 == (-1) ) {
		if ( var_218 >= 0 ) {
			gsel var_217(var_218, 2)
			if ( var_217(var_218, 11) == (-2) ) {
				gmode 0
			}
			else {
				if ( var_217(var_218, 11) == (-1) ) {
					gmode 2
				}
				else {
					gmode 4, 0, 0, 256
					color var_217(var_218, 11), var_217(var_218, 12), var_217(var_218, 13)
				}
			}
			pos var_217(var_218, 8), var_217(var_218, 9)
			var_217(var_218, 1) = 0
			gcopy var_217(var_218, 3), var_217(var_218, 6), var_217(var_218, 7), var_217(var_218, 4), var_217(var_218, 5)
			var_218 = -1
		}
		if ( var_225 >= 0 ) {
			gsel var_217(var_225, 2)
			if ( var_217(var_225, 11) == (-2) ) {
				gmode 0
			}
			else {
				if ( var_217(var_225, 11) == (-1) ) {
					gmode 2
				}
				else {
					gmode 4, 0, 0, 256
					color var_217(var_225, 11), var_217(var_225, 12), var_217(var_225, 13)
				}
			}
			pos var_217(var_225, 8), var_217(var_225, 9)
			if ( var_217(var_225, 10) == 1 ) {
				var_217(var_225, 1) = 1
				gcopy var_217(var_225, 3), var_217(var_225, 6), var_217(var_225, 7) + var_217(var_225, 5), var_217(var_225, 4), var_217(var_225, 5)
			}
			else {
				var_217(var_225, 1) = 1
				gcopy var_217(var_225, 3), var_217(var_225, 6) + var_217(var_225, 4), var_217(var_225, 7), var_217(var_225, 4), var_217(var_225, 5)
			}
			var_218 = var_225
		}
	}
	if ( var_222 == 1 & var_224 == 0 & var_225 >= 0 ) {
		gsel var_217(var_225, 2)
		if ( var_217(var_225, 11) == (-2) ) {
			gmode 0
		}
		else {
			if ( var_217(var_225, 11) == (-1) ) {
				gmode 2
			}
			else {
				gmode 4, 0, 0, 256
				color var_217(var_225, 11), var_217(var_225, 12), var_217(var_225, 13)
			}
		}
		pos var_217(var_225, 8), var_217(var_225, 9)
		if ( var_217(var_225, 10) == 1 ) {
			var_217(var_225, 1) = 2
			gcopy var_217(var_225, 3), var_217(var_225, 6), var_217(var_225, 7) + var_217(var_225, 5) * 2, var_217(var_225, 4), var_217(var_225, 5)
		}
		else {
			var_217(var_225, 1) = 2
			gcopy var_217(var_225, 3), var_217(var_225, 6) + var_217(var_225, 4) * 2, var_217(var_225, 7), var_217(var_225, 4), var_217(var_225, 5)
		}
		var_219 = var_225
		var_218 = var_225
		if ( prm_936 ) {
			setbutton
		}
		gsel var_223
		return var_230 + 256 + 512
	}
	if ( var_219 >= 0 ) {
		if ( var_225 != var_218 ) {
			gsel var_217(var_219, 2)
			if ( var_217(var_219, 11) == (-2) ) {
				gmode 0
			}
			else {
				if ( var_217(var_219, 11) == (-1) ) {
					gmode 2
				}
				else {
					gmode 4, 0, 0, 256
					color var_217(var_219, 11), var_217(var_219, 12), var_217(var_219, 13)
				}
			}
			pos var_217(var_219, 8), var_217(var_219, 9)
			if ( var_225 == var_219 ) {
				if ( var_217(var_219, 10) == 1 ) {
					var_217(var_219, 1) = 2
					gcopy var_217(var_219, 3), var_217(var_219, 6), var_217(var_219, 7) + var_217(var_219, 5) * 2, var_217(var_219, 4), var_217(var_219, 5)
				}
				else {
					var_217(var_219, 1) = 2
					gcopy var_217(var_219, 3), var_217(var_219, 6) + var_217(var_219, 4) * 2, var_217(var_219, 7), var_217(var_219, 4), var_217(var_219, 5)
				}
			}
			else {
				var_217(var_219, 1) = 0
				gcopy var_217(var_219, 3), var_217(var_219, 6), var_217(var_219, 7), var_217(var_219, 4), var_217(var_219, 5)
			}
		}
		if ( var_222 == 0 ) {
			if ( var_219 == var_225 ) {
				gsel var_217(var_219, 2)
				pos var_217(var_219, 8), var_217(var_219, 9)
				if ( var_217(var_219, 11) == (-2) ) {
					gmode 0
				}
				else {
					if ( var_217(var_219, 11) == (-1) ) {
						gmode 2
					}
					else {
						gmode 4, 0, 0, 256
						color var_217(var_219, 11), var_217(var_219, 12), var_217(var_219, 13)
					}
				}
				if ( var_217(var_219, 10) == 1 ) {
					var_217(var_219, 1) = 1
					gcopy var_217(var_219, 3), var_217(var_219, 6), var_217(var_219, 7) + var_217(var_219, 5), var_217(var_219, 4), var_217(var_219, 5)
				}
				else {
					var_217(var_219, 1) = 1
					gcopy var_217(var_219, 3), var_217(var_219, 6) + var_217(var_219, 4), var_217(var_219, 7), var_217(var_219, 4), var_217(var_219, 5)
				}
				var_219 = -1
				var_218 = var_225
				if ( prm_936 ) {
					setbutton
				}
				gsel var_223
				return var_230 + 1024
			}
			var_219 = -1
		}
		else {
			if ( var_219 == var_225 ) {
				var_218 = var_225
				if ( prm_936 ) {
					setbutton
				}
				gsel var_223
				return var_230 + 256
			}
			else {
				var_218 = var_225
				if ( prm_936 ) {
					setbutton
				}
				gsel var_223
				return -1
			}
		}
		var_218 = var_225
		if ( prm_936 ) {
			setbutton
		}
		gsel var_223
		return var_230
	}
	if ( prm_936 ) {
		setbutton
	}
	gsel var_223
	return var_230
*label_161
	goto *label_172
#deffunc woinit int prm_962, int prm_963, int prm_964, int prm_965, int prm_966
	var_231 = prm_962
	var_232 = prm_963
	var_233 = prm_964
	var_234 = prm_965
	var_235 = prm_966
	sdim var_236, 18
	wpoke var_236, 0, 1
	wpoke var_236, 2, var_234
	lpoke var_236, 4, var_232
	lpoke var_236, 8, var_232 * (var_233 / 8) * var_234
	wpoke var_236, 12, var_233 / 8 * var_234
	wpoke var_236, 14, var_233
	wpoke var_236, 16, 0
	var_237 = 0
	waveOutOpen varptr(var_237), var_231 - 1, varptr(var_236), 0, 0, 0
	if ( stat != 0 ) {
		return stat
	}
	sdim var_238, var_235 * (var_233 / 8) * var_234
	dim var_239, 8
	var_239(0) = varptr(var_238)
	var_239(1) = var_235 * (var_233 / 8) * var_234
	var_239(4) = 0
	waveOutPrepareHeader var_237, varptr(var_239), 32
	if ( stat != 0 ) {
		return stat
	}
	sdim var_240, var_235 * (var_233 / 8) * var_234
	dim var_241, 8
	var_241(0) = varptr(var_240)
	var_241(1) = var_235 * (var_233 / 8) * var_234
	var_241(4) = 0
	waveOutPrepareHeader var_237, varptr(var_241), 32
	if ( stat != 0 ) {
		return stat
	}
	var_242 = 0
	var_243 = 0
	var_244 = 0
	dim var_245, 8
	var_246 = 1
	return 0
#defcfunc wogetdbsize
	return var_235 * (var_233 / 8) * var_234
#defcfunc wogetdbptr
	if ( var_242 == 0 ) {
		var_247 = varptr(var_238)
	}
	else {
		var_247 = varptr(var_240)
	}
	return var_247
#deffunc wowrite
	if ( var_246 == 1 ) {
		if ( var_242 == 0 ) {
			var_239(4) = var_239(4) & (-2)
			waveOutWrite var_237, varptr(var_239), 32
			var_243 = 1
		}
		else {
			var_241(4) = var_241(4) & (-2)
			waveOutWrite var_237, varptr(var_241), 32
			var_244 = 1
		}
		if ( stat != 0 ) {
			return stat
		}
		var_242 = (var_242 + 1) \ 2
	}
	return 0
#defcfunc wodone
	if ( var_246 == 1 ) {
		if ( var_242 == 0 ) {
			if ( (var_239(4) & 1) == 1 | var_243 == 0 ) {
				return 1
			}
		}
		else {
			if ( (var_241(4) & 1) == 1 | var_244 == 0 ) {
				return 1
			}
		}
	}
	return 0
#defcfunc wogetpos
	if ( var_246 == 1 ) {
		var_245(0) = 2
		waveOutGetPosition var_237, varptr(var_245), 32
		return var_245(1)
	}
	return 0
#deffunc woreset
	if ( var_246 == 1 ) {
		waveOutReset var_237
	}
	return
#deffunc woclose
	if ( var_246 == 1 ) {
		waveOutReset var_237
		waveOutUnprepareHeader var_237, varptr(var_239), 32
		waveOutUnprepareHeader var_237, varptr(var_241), 32
		waveOutClose var_237
		sdim var_238, 0
		sdim var_240, 0
		var_246 = 0
	}
	return
#defcfunc wogetnumdevs
	waveOutGetNumDevs
	return stat + 1
#deffunc wogetdevname var prm_967
	prm_967 = ""
	sdim var_248, 48
	sdim var_249, 32
	var_250 = wogetnumdevs()
	repeat var_250
		waveOutGetDevCapsA cnt - 1, varptr(var_248), 48
		memcpy var_249, var_248, 32, 0, 8
		prm_967 += var_249 + "\n"
	loop
	return
*label_172
	goto *label_188
#deffunc m_vsplay_init
	var_251 = 0
	return
#defcfunc vsplay_getnumdevs
	return wogetnumdevs()
#deffunc vsplay_getdevname var prm_968
	wogetdevname prm_968
	return
#deffunc vsplay_init int prm_969, int prm_970, int prm_971
	if ( var_251 == 0 ) {
		var_252 = GetPrjSampFreq(prm_969)
		var_253 = 16
		var_254 = 2
		var_255 = var_252 * limit(prm_971, 10, 1000) / 1000
		woinit prm_970, var_252, var_253, var_254, var_255
		if ( stat != 0 ) {
			vserrordialog 210, ""
			prm_970 = 0
			woinit prm_970, var_252, var_253, var_254, var_255
			if ( stat != 0 ) {
				return
			}
		}
		var_256 = 0
		var_257 = 0
		var_251 = 1
		var_258 = 0
		var_259 = 0
		var_260 = 0
		var_261 = var_255 / (var_252 / 100)
		if ( var_261 == 0 ) {
			var_261 = 1
		}
		dimtype var_262, 3, (64 + 1) * 2 * (var_261 * 2), 0, 0, 0
	}
	return
#deffunc vsplay_exit int
	if ( var_251 != 0 ) {
		woclose
		var_251 = 0
	}
	return
#deffunc vsplay_update int prm_973
	if ( var_251 != 0 & var_256 != 0 ) {
		if ( wodone() != 0 ) {
			if ( var_258 + var_259 >= GetMixSample(prm_973) ) {
				var_258 = 0
				var_259 = 0
				var_256 = 0
				var_257 = 2
			}
			else {
				var_263 = (64 + 1) * 2 * var_261 * 8
				memcpy var_262, var_262, var_263, 0, var_263
				var_264 = varptr(var_262) + var_263
				var_265 = var_258 + var_259
				dupptr var_266, wogetdbptr(), 1
				var_267(0) = 0, 0, 0, 0, 0
				if ( var_67(198) != 0 ) {
					if ( getactivewindow() == 12 ) {
						if ( var_67(17) != 0 & var_67(269) > 0 ) {
							var_268 = limit(var_67(270), 0, var_67(269) - 1)
							var_269 = getidetabitemnum(var_268)
							if ( var_67(189) != 0 ) {
								var_267(0) = 4, 0, var_269, 0, 0
							}
						}
					}
				}
				var_270 = 0.0
				if ( var_67(33) != 0 ) {
					var_270 = powf(10.0, double(var_67(35)) / 20.0)
				}
				var_271 = var_67(34)
				GetMixDataEx prm_973, var_266, var_258 + var_259, var_255, 0, 16, 2, varptr(var_267), 0, var_264, var_271, var_270
				if ( var_272 == 0 ) {
					var_273 = var_252 * 10 / 1000
					FadeWaveData var_266, var_255, var_273, 0
				}
				wowrite
				var_259 += var_255
			}
		}
	}
	var_272 = var_256
	return
#deffunc vsplay_play int prm_974
	if ( var_251 != 0 ) {
		if ( var_256 == 0 ) {
			woreset
			var_260 = wogetpos()
			var_259 = 0
			var_256 = 1
			vsplay_update prm_974
		}
	}
	return
#deffunc vsplay_stop int
	if ( var_251 != 0 & var_256 != 0 ) {
		var_258 += wogetpos()
		if ( var_67(77) != 0 ) {
			var_258 -= var_260
		}
		woreset
		var_260 = wogetpos()
		var_259 = 0
		var_256 = 0
		var_257 = 1
	}
	return
#deffunc vsplay_seek int prm_976, int prm_977
	if ( var_251 != 0 ) {
		var_258 = limit(int(0.001 * prm_977 * var_252 + 0.5), 0, GetMixSample(prm_976))
		if ( var_256 != 0 ) {
			var_259 = 0
			woreset
			var_260 = wogetpos()
			vsplay_update prm_976
		}
	}
	return
#defcfunc vsplay_getpos int prm_978
	var_274 = 0
	if ( var_251 != 0 ) {
		if ( var_256 ) {
			var_275 = var_258 + wogetpos()
			if ( var_67(77) != 0 ) {
				var_275 -= var_260
			}
		}
		else {
			var_275 = var_258
		}
		var_275 = limit(var_275, 0, GetMixSample(prm_978))
		var_274 = int(1000.0 * var_275 / var_252 + 0.5)
	}
	return var_274
#defcfunc vsplay_getpossmp int prm_979
	var_275 = 0
	if ( var_251 != 0 ) {
		if ( var_256 ) {
			var_275 = var_258 + wogetpos()
			if ( var_67(77) != 0 ) {
				var_275 -= var_260
			}
		}
		else {
			var_275 = var_258
		}
		var_275 = limit(var_275, 0, GetMixSample(prm_979))
	}
	return var_275
#defcfunc vsplay_getstatus int
	return var_256
#defcfunc vsplay_getstopfactor int
	var_276 = var_257
	var_257 = 0
	return var_276
#deffunc vsplay_gettrackcurvol int prm_982, int prm_983, var prm_984, var prm_985
	var_277 = prm_982
	var_275 = prm_983
	if ( var_256 == 0 ) {
		prm_984 = 0.0
		prm_985 = 0.0
	}
	else {
		if ( var_275 >= var_265 ) {
			var_278 = (var_275 - var_265) / (var_252 / 100) + var_261
		}
		else {
			var_278 = (var_275 - (var_265 - var_255)) / (var_252 / 100)
		}
		if ( var_278 >= 0 & var_278 <= var_261 * 2 - 1 ) {
			prm_984 = var_262((64 + 1) * 2 * var_278 + var_277 * 2 + 0)
			prm_985 = var_262((64 + 1) * 2 * var_278 + var_277 * 2 + 1)
		}
	}
	return
#deffunc getvsplaydebuginfo int prm_986, var prm_987
	prm_987 = ""
	prm_987 += "resetPos = " + var_258 + "\n"
	prm_987 += "woPpos = " + wogetpos() + "\n"
	prm_987 += "wavSmpFreq = " + var_252 + "\n"
	prm_987 += "mixSample = " + GetMixSample(prm_986) + "\n"
	prm_987 += "curTime[ms] = " + vsplay_getpos(prm_986) + "\n"
	prm_987 += "curTime[smp] = " + vsplay_getpossmp(prm_986)
	return
*label_188
	goto *label_197
#deffunc createlstview int prm_1007, int prm_1008, int prm_1009, int prm_1010
	dim var_279, 2
	var_279(0) = 8
	var_279(1) = 1
	InitCommonControlsEx varptr(var_279)
	var_280 = 1073741824 | 268435456 | 1
	var_281 = "SysListView32"
	var_282 = varptr(var_281)
	CreateWindowExA 512, var_282, 0, var_280, prm_1007, prm_1008, prm_1009, prm_1010, hwnd, 0, hinstance, 0
	var_283 = stat
	return var_283
#deffunc lsvexset int prm_1011, int prm_1012
	var_283 = prm_1011
	var_284 = prm_1012
	SendMessageA var_283, 4151, 0, 0
	var_285 = stat
	var_285 += var_284
	SendMessageA var_283, 4150, 0, var_285
	return
#deffunc destroylstview int prm_1013
	var_283 = prm_1013
	DestroyWindow var_283
	return
#deffunc lsvcladd int prm_1014, str prm_1015, int prm_1016, int prm_1017, int prm_1018
	var_283 = prm_1014
	var_286 = prm_1015
	var_287 = prm_1016
	var_288 = prm_1017
	var_289 = prm_1018
	if ( var_287 < 0 ) {
		var_287 = 0
	}
	if ( var_288 <= 0 ) {
		var_288 = 100
	}
	if ( var_289 < 0 | var_289 > 2 ) {
		var_289 = 0
	}
	dim var_290, 7
	var_290(0) = 15
	var_290(1) = var_289
	var_290(2) = var_288
	var_290(3) = varptr(var_286)
	var_290(4) = strlen(var_286)
	var_290(5) = var_287
	var_290(6) = 0
	SendMessageA var_283, 4123, var_287, varptr(var_290)
	dim var_290, 0
	sdim var_286, 0
	return
#deffunc lsvimadd int prm_1019, str prm_1020, int prm_1021
	var_283 = prm_1019
	var_286 = prm_1020
	var_287 = prm_1021
	dim var_291, 9
	var_291(0) = 3
	var_291(1) = var_287
	var_291(2) = 0
	var_291(5) = varptr(var_286)
	var_291(6) = strlen(var_286)
	SendMessageA var_283, 4103, 0, varptr(var_291)
	sdim var_286, 0
	dim var_291, 0
	return
#deffunc lsvsubadd int prm_1022, str prm_1023, int prm_1024, int prm_1025
	var_283 = prm_1022
	var_286 = prm_1023
	var_287 = prm_1024
	var_292 = prm_1025
	dim var_291, 9
	var_291(0) = 1
	var_291(1) = var_287
	var_291(2) = var_292
	var_291(5) = varptr(var_286)
	SendMessageA var_283, 4102, 0, varptr(var_291)
	sdim var_286, 0
	dim var_291, 0
	return
#defcfunc lsvfound int prm_1026
	var_283 = prm_1026
	var_287 = -1
	SendMessageA var_283, 4108, var_287, 2
	return stat
#deffunc lsvimsel int prm_1027, int prm_1028
	var_283 = prm_1027
	var_287 = prm_1028
	dim var_291, 9
	var_291(0) = 8
	var_291(1) = var_287
	var_291(2) = 0
	var_291(3) = 3
	var_291(4) = -1
	SendMessageA var_283, 4102, 0, varptr(var_291)
	SetFocus var_283
	dim var_291, 0
	return
*label_197
	goto *label_199
#deffunc vsmain
	if ( var_67(7) == 0 ) {
		vstimerinterrupt
	}
	calcdeltatime
	if ( getdeltatime() == 0 ) {
		return
	}
	var_67(14) = var_67(11)
	var_67(13) = var_67(10)
	var_67(15) = var_67(12)
	getmousewheelinfo
	clearmainstatusstr
	clearidestatusstr
	var_67(166) = 32512
	resizewindow
	automtiscroll
	autoidescroll
	editmainmasterpanel
	editmaintimepanel
	editmaintrackpanel
	editmainitempanel
	editmainscrollpanel
	clearidefocus
	editidetabpanel
	editidelistpanel
	editidetimepanel
	editidescalepanel
	editidegraphpanel
	editidelabelpanel
	editidescrollpanel
	editidespcscale
	buttonevent
	checkshortcut
	scrollbarevent
	updateideselarea
	drawmainmasterpanel
	drawmaintimepanel
	drawmaintrackpanel
	drawmainitempanel
	drawmaincurtime
	drawmainstatus
	drawidetabpanel
	drawidelistpanel
	drawidetimepanel
	drawidescalepanel
	drawidegraphpanel
	drawidelabelpanel
	drawidecurtime
	drawidespcscale
	drawidestatus
	updatemainwindow
	updateidewindow
	showpopupmenu
	execdragdrop
	execcommand
	if ( var_67(166) != var_293 ) {
		changecursor var_67(166)
		var_293 = var_67(166)
	}
	var_67(9)++
	var_294 = var_67(9)
	return
*label_199
	goto *label_201
#deffunc refreshplaystatus
	var_67(11) = vsplay_getpos(var_67(17))
	var_67(10) = vsplay_getpossmp(var_67(17))
	var_67(12) = vsplay_getstatus(var_67(17))
	var_67(14) = var_67(11)
	var_67(13) = var_67(10)
	var_67(15) = var_67(12)
	return
*label_201
	goto *label_205
#deffunc calcdeltatime
	var_295 = var_296
	var_296 = GetTickCount()
	var_297 = limit(var_296 - var_295, 0, 100)
	var_298 = (var_297 + var_299) / (1000 / 60) * (1000 / 60)
	var_299 = var_297 + var_299 - var_298
	if ( var_296 >= var_300 + 1000 ) {
		var_301 = var_67(9) - var_302
		var_302 = var_67(9)
		var_300 = var_296
	}
	return
#defcfunc getdeltatime
	return var_298
#defcfunc cnvscrollsize int prm_1029
	return prm_1029 * var_298 / (1000 / 60)
*label_205
	goto *label_207
#deffunc resizewindow
	if ( var_67(9) \ 4 == 0 ) {
		gsel 6
		if ( ginfo(12) != var_67(107) | ginfo(13) != var_67(108) ) {
			resizemainwindow
		}
		gsel 12
		if ( ginfo(12) != var_67(201) | ginfo(13) != var_67(202) ) {
			resizeidewindow
		}
		if ( var_67(20) == 12 ) {
			gsel 12, -1
			gsel 6
			var_67(198) = 0
			var_67(20) = 0
		}
	}
	return
*label_207
	goto *label_211
#deffunc setbtntable int prm_1030, int prm_1031, str prm_1032
	var_303(prm_1030) = prm_1031
	var_304(prm_1030) = prm_1032
	var_305 = getcommandkeystr(prm_1031)
	if ( var_305 != "" ) {
		var_304(prm_1030) = var_304(prm_1030) + "(" + var_305 + ")"
	}
	return
#deffunc initbuttonevent
	dim var_303, 42
	sdim var_304, 64, 42
	setbtntable 0, 38, tltx("トラック追加", "Add track")
	setbtntable 1, 39, tltx("トラック削除", "Delete track")
	setbtntable 2, 40, tltx("トラックを上に移動", "Move selected track up")
	setbtntable 3, 41, tltx("トラックを下に移動", "Move selected track down")
	setbtntable 4, 42, tltx("再生位置を前に移動", "Seek backward")
	setbtntable 5, 43, tltx("停止", "Stop")
	setbtntable 6, 44, tltx("最初から再生", "Playback from the beginning")
	setbtntable 7, 45, tltx("再生/停止", "Start/Stop playing")
	setbtntable 8, 48, tltx("再生位置を後に移動", "Seek forward")
	setbtntable 9, 49, tltx("横に拡大", "Expand horizontally")
	setbtntable 10, 50, tltx("横に縮小", "Contract horizontally")
	setbtntable 11, 51, tltx("縦に拡大", "Expand vertically")
	setbtntable 12, 52, tltx("縦に縮小", "Contract vertically")
	setbtntable 13, 57, tltx("オートスクロール", "Auto scroll")
	setbtntable 14, 58, tltx("リピート再生", "Repeat")
	setbtntable 15, 60, tltx("時間単位切換え(秒/小節)", "Change grid(Measure/Second)")
	setbtntable 16, 63, tltx("アイテム位置のスナップ", "Snap")
	setbtntable 17, 64, tltx("スナップ単位", "Snap unit")
	setbtntable 18, 65, tltx("編集ツール", "Editing tool")
	setbtntable 19, 66, tltx("選択ツール", "Selection tool")
	setbtntable 20, 122, tltx("再生位置を前に移動", "Seek backward")
	setbtntable 21, 123, tltx("停止", "Stop")
	setbtntable 22, 124, tltx("最初から再生", "Playback from the beginning")
	setbtntable 23, 125, tltx("再生/停止", "Start/Stop playing")
	setbtntable 24, 128, tltx("再生位置を後に移動", "Seek forward")
	setbtntable 25, 129, tltx("横に拡大", "Expand horizontally")
	setbtntable 26, 130, tltx("横に縮小", "Contract horizontally")
	setbtntable 27, 132, tltx("縦に拡大", "Expand vertically")
	setbtntable 28, 133, tltx("縦に縮小", "Contract vertically")
	setbtntable 29, 138, tltx("オートスクロール", "Auto scroll")
	setbtntable 30, 58, tltx("リピート再生", "Repeat")
	setbtntable 31, 139, tltx("半音単位で描画", "Draw in semitone increments")
	setbtntable 32, 140, tltx("他のアイテムのグラフをレイヤー表示", "Display layers")
	setbtntable 33, 144, tltx("パラメータのポップアップ表示", "Popup parameter")
	setbtntable 34, 159, tltx("アイテムソロ再生", "Solo")
	setbtntable 35, 145, tltx("選択範囲にクリップボードのデータを表示", "Show clip board data")
	setbtntable 38, 146, tltx("選択ツール", "Selection tool")
	setbtntable 39, 147, tltx("ペンツール", "Pen tool")
	setbtntable 40, 148, tltx("直線ツール", "Line tool")
	setbtntable 41, 149, tltx("ノート編集ツール", "Note tool")
	setbtntable 36, 60, tltx("時間単位切換え(秒/小節)", "Change grid(Measure/Second)")
	setbtntable 37, 156, tltx("時間表示モード切換え(トラック内時間/アイテム内時間)", "Change time display mode(track/item)")
	return
#deffunc buttonevent
	drawbutton 0
	var_306 = stat
	if ( var_306 >= 0 ) {
		var_307 = var_306 \ 256
	}
	else {
		var_307 = -1
		var_306 = 0
	}
	repeat 42
		if ( var_303(cnt) != 0 & var_306 == 1024 + cnt ) {
			requestcommand var_303(cnt)
		}
	loop
	var_308 = vsplay_getstatus(var_67(17))
	if ( var_308 != var_309 ) {
		changebuttonimg 7, 0, 66 * var_308, 22 * 2
		changebuttonimg 23, 0, 66 * var_308, 22 * 2
		drawbutton 1
		var_309 = var_308
	}
	if ( var_67(96) != var_310 ) {
		changebuttonimg 13, 0, 66 * var_67(96), 22 * 7
		drawbutton 1
		var_310 = var_67(96)
	}
	if ( var_67(97) != var_311 ) {
		changebuttonimg 14, 0, 132 + 66 * var_67(97), 22 * 15
		drawbutton 1
		var_311 = var_67(97)
	}
	if ( var_67(98) != var_312 ) {
		changebuttonimg 15, 0, 132, 22 * (11 + var_67(98))
		drawbutton 1
		var_312 = var_67(98)
	}
	if ( var_67(99) != var_313 ) {
		changebuttonimg 16, 0, 66 * var_67(99), 22 * 8
		drawbutton 1
		var_313 = var_67(99)
	}
	if ( var_67(100) != var_314 ) {
		var_315 = var_67(100)
		changebuttonimg 17, 0, 66 * (2 + var_315 \ 2), 22 * (var_315 / 2)
		drawbutton 1
		var_314 = var_315
	}
	if ( var_67(101) != var_316 ) {
		var_317 = 0
		if ( var_67(101) == 0 ) {
			var_317 = 1
		}
		changebuttonimg 18, 0, 66 * var_317, 22 * 9
		var_317 = 0
		if ( var_67(101) == 1 ) {
			var_317 = 1
		}
		changebuttonimg 19, 0, 66 * var_317, 22 * 10
		drawbutton 1
		var_316 = var_67(101)
	}
	if ( var_67(179) != var_318 ) {
		changebuttonimg 29, 0, 66 * var_67(179), 22 * 7
		drawbutton 1
		var_318 = var_67(179)
	}
	if ( var_67(97) != var_319 ) {
		changebuttonimg 30, 0, 132 + 66 * var_67(97), 22 * 15
		drawbutton 1
		var_319 = var_67(97)
	}
	if ( var_67(180) != var_320 ) {
		changebuttonimg 31, 0, 66 * var_67(180), 22 * 14
		drawbutton 1
		var_320 = var_67(180)
	}
	if ( var_67(181) != var_321 ) {
		changebuttonimg 32, 0, 66 * var_67(181), 22 * 15
		drawbutton 1
		var_321 = var_67(181)
	}
	if ( var_67(187) != var_322 ) {
		changebuttonimg 35, 0, 132 + 66 * var_67(187), 22 * 10
		drawbutton 1
		var_322 = var_67(187)
	}
	if ( var_67(186) != var_323 ) {
		changebuttonimg 33, 0, 66 * var_67(186), 22 * 16
		drawbutton 1
		var_323 = var_67(186)
	}
	if ( var_67(189) != var_324 ) {
		changebuttonimg 34, 0, 132 + 66 * var_67(189), 22 * 16
		drawbutton 1
		var_324 = var_67(189)
	}
	if ( var_67(185) != var_325 ) {
		var_317 = 0
		if ( var_67(185) == 0 ) {
			var_317 = 1
		}
		changebuttonimg 38, 0, 66 * var_317, 22 * 10
		var_317 = 0
		if ( var_67(185) == 1 ) {
			var_317 = 1
		}
		changebuttonimg 39, 0, 66 * var_317, 22 * 11
		var_317 = 0
		if ( var_67(185) == 2 ) {
			var_317 = 1
		}
		changebuttonimg 40, 0, 66 * var_317, 22 * 12
		var_317 = 0
		if ( var_67(185) == 3 ) {
			var_317 = 1
		}
		changebuttonimg 41, 0, 66 * var_317, 22 * 13
		drawbutton 1
		var_325 = var_67(185)
	}
	if ( var_67(98) != var_326 ) {
		changebuttonimg 36, 0, 132, 22 * (11 + var_67(98))
		drawbutton 1
		var_326 = var_67(98)
	}
	if ( var_67(188) != var_327 ) {
		changebuttonimg 37, 0, 132, 22 * (13 + var_67(188))
		drawbutton 1
		var_327 = var_67(188)
	}
	if ( var_307 >= 0 & var_307 <= 19 ) {
		setmainstatusstr var_304(var_307), 0
	}
	if ( var_307 >= 20 & var_307 <= 41 ) {
		setidestatusstr var_304(var_307), 0
	}
	return
*label_211
	goto *label_214
#deffunc scrollbarevent
	if ( var_67(17) != 0 ) {
		var_328 = GetMixSample(var_67(17))
		var_329 = GetPrjSampFreq(var_67(17))
		var_330 = GetTrackNum(var_67(17))
		var_331 = int(double(var_328) / var_329 * var_67(143))
		var_331 += var_67(129) / 2
		var_332 = var_67(129)
		var_333 = var_67(145)
		var_334 = 40
		setscrollbar 0, var_331, var_332, var_333, var_334
		var_331 = var_67(130)
		var_331 += limit(var_330 - 1, 0, 64 - 1) * var_67(144)
		var_332 = var_67(130)
		var_333 = var_67(146)
		var_334 = var_67(144)
		setscrollbar 1, var_331, var_332, var_333, var_334
		if ( var_67(269) > 0 ) {
			var_335 = limit(var_67(270), 0, var_67(269) - 1)
			var_336 = getidetabitemnum(var_335)
			var_337 = GetPrjItem(var_67(17), var_336)
			var_338 = GetII_editSample(var_337)
			var_339 = var_340(var_335 * 51 + 18)
			var_341 = var_340(var_335 * 51 + 19)
			var_331 = int(double(var_338) * var_341 / var_329)
			var_331 += var_67(227) / 2
			var_332 = var_67(227)
			var_333 = var_339
			var_334 = 40
			setscrollbar 2, var_331, var_332, var_333, var_334
			var_342 = var_340(var_335 * 51 + 1)
			var_343 = var_342
			if ( 0 ) {
				var_344++
			}
			if ( var_343 == 0 | var_344 ) {
				var_344 = 0
				var_344++
			}
			if ( var_343 == 6 | var_344 ) {
				var_344 = 0
				var_345 = var_340(var_335 * 51 + 21)
				var_346 = var_340(var_335 * 51 + 22)
				var_331 = var_346 * 128
				goto *label_213
				var_344++
			}
			if ( var_343 == 1 | var_344 ) {
				var_344 = 0
				var_345 = var_340(var_335 * 51 + 23)
				var_346 = var_340(var_335 * 51 + 24)
				var_331 = var_346 * 48
				goto *label_213
			}
			if ( 1 ) {
				var_345 = 0
				var_346 = 0
				var_331 = 0
				goto *label_213
			}
*label_213
			var_332 = var_67(228)
			var_333 = var_345
			var_334 = 40
			setscrollbar 3, var_331, var_332, var_333, var_334
		}
		else {
			setscrollbar 2, 0, 0, 0, 0
			setscrollbar 3, 0, 0, 0, 0
		}
		drawscrollbar
		var_333 = getscrollbaroffset(0)
		if ( var_333 != var_67(145) & getmoveitemphase() == 0 ) {
			var_67(145) = var_333
			chkdisableautoscroll
			var_67(148) = 1
			var_67(150) = 1
		}
		var_333 = getscrollbaroffset(1)
		if ( var_333 != var_67(146) ) {
			var_67(146) = var_333
			var_67(149) = 1
			var_67(150) = 1
		}
		if ( var_67(269) > 0 ) {
			var_333 = getscrollbaroffset(2)
			if ( var_333 != var_339 & getidephase() == 0 ) {
				var_340(var_335 * 51 + 18) = var_333
				chkdisableidescroll
				if ( var_67(43) != 0 ) {
					var_67(179) = 0
					setautoscrollenablerequest
				}
				var_67(249) = 1
				var_67(247) = 1
				var_67(251) = 1
			}
			var_333 = getscrollbaroffset(3)
			if ( var_333 != var_345 ) {
				if ( var_342 == 0 | var_342 == 6 ) {
					var_340(var_335 * 51 + 21) = var_333
				}
				if ( var_342 == 1 ) {
					var_340(var_335 * 51 + 23) = var_333
				}
				var_67(249) = 1
				var_67(248) = 1
			}
		}
	}
	else {
		setscrollbar 0, 0, 0, 0, 0
		setscrollbar 1, 0, 0, 0, 0
		setscrollbar 2, 0, 0, 0, 0
		setscrollbar 3, 0, 0, 0, 0
		drawscrollbar
	}
	var_67(160) = 1
	var_67(159) = 1
	var_67(262) = 1
	var_67(263) = 1
	return
*label_214
	goto *label_217
#deffunc showpopupmenu
	if ( var_67(167) != 0 ) {
		var_347 = var_67(167)
		if ( 0 ) {
			var_348++
		}
		if ( var_347 == 1 | var_348 ) {
			var_348 = 0
			showmastertrackpopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 2 | var_348 ) {
			var_348 = 0
			showtrackpopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 3 | var_348 ) {
			var_348 = 0
			showitempopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 4 | var_348 ) {
			var_348 = 0
			showidetabpopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 5 | var_348 ) {
			var_348 = 0
			showidepitpopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 6 | var_348 ) {
			var_348 = 0
			showidefrmpopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 7 | var_348 ) {
			var_348 = 0
			showidevolpopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 8 | var_348 ) {
			var_348 = 0
			showidepanpopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 9 | var_348 ) {
			var_348 = 0
			showidedynpopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 10 | var_348 ) {
			var_348 = 0
			showidetimepopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 11 | var_348 ) {
			var_348 = 0
			showideapitpopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 12 | var_348 ) {
			var_348 = 0
			showidebrepopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 13 | var_348 ) {
			var_348 = 0
			showidebripopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 14 | var_348 ) {
			var_348 = 0
			showideclepopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 15 | var_348 ) {
			var_348 = 0
			showideheqpopupmenu
			goto *label_216
			var_348++
		}
		if ( var_347 == 16 | var_348 ) {
			var_348 = 0
			showidenotepopupmenu
			goto *label_216
		}
*label_216
		var_67(167) = 0
	}
	return
*label_217
	goto *label_221
#deffunc receivevsmsg
	var_349 = wparam
	if ( 0 ) {
		var_350++
	}
	if ( var_349 == 1430537026 | var_350 ) {
		var_350 = 0
		requestcommand 290
		goto *label_219
	}
*label_219
	return
#deffunc sendupdatecbmsg
	sdim var_351, 256
	sdim var_352, 256
	gsel 12
	GetWindow hwnd, 0
	var_353 = stat
	repeat 1024
		GetWindow var_353, 2
		var_354 = stat
		if ( var_354 == 0 ) {
			break
		}
		GetWindowTextA var_354, varptr(var_351), 256
		GetClassNameA var_354, varptr(var_352), 256
		var_355 = strlen("VocalShifter")
		if ( strmid(var_351, 0, var_355) == "VocalShifter" & var_352 == "hspwnd0" ) {
			sendmsg var_354, 32768, 1430537026, 0
		}
		var_353 = var_354
	loop
	return
*label_221
	goto *label_223
#deffunc getmousewheelinfo
	gsel 6
	var_67(164) = getmtivwheel()
	var_67(165) = getmtihwheel() * (-1)
	if ( abs(var_67(164)) > abs(var_67(165)) ) {
		var_67(163) = var_67(164)
	}
	else {
		var_67(163) = var_67(165)
	}
	gsel 12
	var_67(267) = getidevwheel()
	var_67(268) = getidehwheel() * (-1)
	if ( abs(var_67(267)) > abs(var_67(268)) ) {
		var_67(266) = var_67(267)
	}
	else {
		var_67(266) = var_67(268)
	}
	return
*label_223
	goto *label_225
#deffunc vstimerinterrupt
	if ( var_67(17) != 0 ) {
		vsplay_update var_67(17)
		var_67(11) = vsplay_getpos(var_67(17))
		var_67(10) = vsplay_getpossmp(var_67(17))
		var_67(12) = vsplay_getstatus(var_67(17))
		if ( var_67(196) != 0 ) {
			var_356 = limittimeinitem(var_67(11))
			if ( var_356 < var_67(11) ) {
				if ( var_67(97) == 1 ) {
					if ( var_67(22) < var_67(23) ) {
						if ( var_67(22) < var_356 ) {
							var_356 = limittimeinitem(var_67(22))
							vsplay_seek var_67(17), var_356
						}
						else {
							var_356 = limittimeinitem(0)
							vsplay_seek var_67(17), var_356
						}
					}
					else {
						var_356 = limittimeinitem(0)
						vsplay_seek var_67(17), var_356
					}
				}
				else {
					var_356 = limittimeinitem(0)
					vsplay_stop var_67(17)
					vsplay_seek var_67(17), var_356
				}
			}
		}
		repeatplay
		syncmtcslave
		syncmtcmaster
	}
	else {
		var_67(11) = 0
		var_67(10) = 0
		var_67(12) = 0
	}
	return
*label_225
	goto *label_227
#deffunc repeatplay
	var_357 = var_67(12)
	if ( var_358 == 1 & var_357 == 0 ) {
		if ( vsplay_getstopfactor() == 2 ) {
			if ( var_67(97) == 1 ) {
				if ( var_67(22) < var_67(23) ) {
					var_359 = var_67(22)
				}
				else {
					var_359 = 0
				}
				if ( var_67(196) != 0 ) {
					var_359 = limittimeinitem(var_359)
				}
				vsplay_seek var_67(17), var_359
				vsplay_play var_67(17)
			}
		}
	}
	var_360 = 0
	if ( var_67(22) < var_67(23) ) {
		if ( var_67(11) >= var_67(23) ) {
			var_360 = 1
		}
	}
	if ( var_360 == 1 & var_361 == 0 ) {
		if ( var_357 == 1 & var_67(97) == 1 ) {
			var_359 = var_67(22)
			if ( var_67(196) != 0 ) {
				var_359 = limittimeinitem(var_359)
			}
			vsplay_seek var_67(17), var_359
		}
	}
	var_361 = var_360
	var_358 = var_357
	var_67(11) = vsplay_getpos(var_67(17))
	var_67(10) = vsplay_getpossmp(var_67(17))
	var_67(12) = vsplay_getstatus(var_67(17))
	return
*label_227
	goto *label_229
#deffunc syncmtcslave
	if ( var_67(44) != 0 & var_67(47) == 0 ) {
		var_362(0) = 30, 25, 24
		var_363 = var_362(var_67(45))
		var_364 = 0
		var_365 = GetMidiTime(var_363, var_364) + var_67(46)
		var_366 = GetTickCount()
		if ( var_364 != var_367 ) {
			var_368 = var_366 - var_369
			if ( var_368 > 200 ) {
				var_370 = var_364
			}
			if ( var_364 >= var_370 + 8 ) {
				var_371 = GetPrjSampFreq(var_67(17))
				var_372 = GetMixSample(var_67(17))
				var_373 = int(1000.0 * var_372 / var_371)
				if ( var_365 < var_373 - 200 ) {
					if ( var_67(12) == 0 ) {
						vsplay_seek var_67(17), var_365
						requestcommand 45
					}
					if ( abs(var_67(11) - var_365) > 100 ) {
						vsplay_seek var_67(17), var_365
					}
				}
			}
			var_369 = var_366
			var_367 = var_364
		}
		var_368 = var_366 - var_369
		if ( var_368 > 200 & var_368 <= 300 ) {
			if ( var_67(12) == 1 ) {
				requestcommand 45
			}
		}
	}
	return
*label_229
	goto *label_232
#deffunc syncmtcmaster
	if ( var_67(47) != 0 & var_67(44) == 0 ) {
		if ( var_67(12) == 1 ) {
			var_374 = GetTickCount()
			if ( var_375 == 0 ) {
				var_376 = var_374
				var_377 = 0
			}
			var_378(0) = 30, 25, 24
			var_379 = var_378(var_67(48))
			var_380 = int(double(var_374 - var_376) * var_379 * 4 / 1000)
			repeat var_380 - var_377, var_377
				var_381 = cnt \ 8
				if ( var_381 == 0 ) {
					var_382 = var_67(11) + var_67(49)
					var_383 = var_382 / (60 * 60 * 1000)
					var_384 = var_382 / (60 * 1000) \ 60
					var_385 = var_382 / 1000 \ 60
					var_386 = var_382 \ 1000 * var_379 / 1000
				}
				var_387 = var_381
				if ( 0 ) {
					var_388++
				}
				if ( var_387 == 0 | var_388 ) {
					var_388 = 0
					var_389 = var_386 \ 16
					goto *label_231
					var_388++
				}
				if ( var_387 == 1 | var_388 ) {
					var_388 = 0
					var_389 = var_386 / 16
					goto *label_231
					var_388++
				}
				if ( var_387 == 2 | var_388 ) {
					var_388 = 0
					var_389 = var_385 \ 16
					goto *label_231
					var_388++
				}
				if ( var_387 == 3 | var_388 ) {
					var_388 = 0
					var_389 = var_385 / 16
					goto *label_231
					var_388++
				}
				if ( var_387 == 4 | var_388 ) {
					var_388 = 0
					var_389 = var_384 \ 16
					goto *label_231
					var_388++
				}
				if ( var_387 == 5 | var_388 ) {
					var_388 = 0
					var_389 = var_384 / 16
					goto *label_231
					var_388++
				}
				if ( var_387 == 6 | var_388 ) {
					var_388 = 0
					var_389 = var_383 \ 16
					goto *label_231
					var_388++
				}
				if ( var_387 == 7 | var_388 ) {
					var_388 = 0
					var_389 = var_383 / 16
					goto *label_231
				}
*label_231
				sendmidimsg 241, var_381 * 16 + var_389, 0
			loop
			var_377 = var_380
		}
	}
	var_375 = var_67(12)
	return
*label_232
	goto *label_234
#deffunc vsstart
	screen 6, 1, 1, 2
	onerror *label_941
	initvocalshifter0
	loadsetting
	initvocalshifter1
	initdragdrop
	setfont_init
	createmainwindow
	initvocalshifter2
	createidewindow
	initcommand
	initshortcut
	initeditshortcutkey
	initbuttonevent
	initgetnotename
	initdrawidescalepanel
	initdrawidegraphpanel
	initeditidelist
	initidecommand
	createtrackvolumeimage
	vsvst_init
	initideselarea
	loadideclipboarddata
	createvspopupmenu
	setmainwindowtitle ""
	createnewproject
	if ( dirinfo(4) != "" ) {
		sdim var_390, 8192
		cmdtopath dirinfo(4), var_390
		notesel var_390
		repeat noteinfo(0)
			noteget var_391, cnt
			adddragdropfile var_391
		loop
		noteunsel
	}
	return
*label_234
	goto *label_238
#deffunc initvocalshifter0
	dim var_67, 274
	sdim var_392, 512, 58
	dim var_340, 51 * 32
	return
#deffunc initvocalshifter1
	var_67(2) = -1
	var_392(1) = dirinfo(0) + "\\"
	sdim var_393, 260
	sdim var_394, 260
	sdim var_395, 260
	var_396 = dirinfo(0)
	GetTempPathA 260, var_395
	if ( var_392(3) != "" ) {
		var_397 = var_392(3)
		if ( strmid(var_397, strlen(var_397) - 1, 1) != "\\" ) {
			var_392(3) += "\\"
			var_397 = var_392(3)
		}
		vslibSaveFile var_392(3) + "dummy", var_398, 4
		if ( stat != 0 ) {
		}
		else {
			delete var_392(3) + "dummy"
			var_395 = var_392(3)
		}
	}
	chdir var_395
	dirlist var_393, "vocalshifter_tmp", 5
	notesel var_393
	noteget var_394, 0
	if ( var_394 != "vocalshifter_tmp" ) {
		mkdir var_395 + "vocalshifter_tmp"
	}
	var_392(2) = var_395 + "vocalshifter_tmp" + "\\"
	chdir var_396
	if ( gettime(0) * 10000 + gettime(1) * 100 + gettime(3) > 29991231 ) {
		vserrordialog 102, ""
		vsexit
	}
	exist var_392(1) + "vslib.dll"
	if ( strsize < 0 ) {
		vserrordialog 100, ""
		vsexit
	}
	if ( GetLibVersion() != 2022123101 ) {
		vserrordialog 101, ""
		vsexit
	}
	exist var_392(1) + "world4vs3.dll"
	if ( strsize < 0 ) {
		vserrordialog 104, ""
		vsexit
	}
	var_399 = ginfo(3)
	buffer 0
	picload "vsbutton.bmp"
	gsel var_399
	loadbgimg
	return
#deffunc initvocalshifter2
	checkrecoverproject
	sdim var_400, 256
	repeat 4
		var_400 = "VOCALSHIFTER_VER2_ACKIE_SOUND_" + str(cnt)
		CreateMutexA 0, 1, varptr(var_400)
		var_401 = stat
		var_402 = GetLastError()
		if ( var_402 == 183 ) {
			CloseHandle var_401
			continue
		}
		else {
			var_67(1) = var_401
			var_67(2) = cnt
			break
		}
	loop
	if ( var_402 == 183 ) {
		vserrordialog 103, ""
		vsexit
	}
	var_403 = var_392(2) + "vstmp_" + var_67(2) + ".pid"
	var_404 = GetCurrentProcessId()
	vslibSaveFile var_403, var_404, 4
	SetWaveDecodeInfo var_67(2), var_392(2)
	var_405 = vsplay_getnumdevs()
	var_67(30) = limit(var_67(30), 0, var_405 - 1)
	if ( var_67(44) != 0 ) {
		var_406 = getmidiindevnum()
		if ( var_67(44) - 1 < var_406 ) {
			midiinopen var_67(44) - 1, GetMidiInProcPtr()
			if ( stat != 0 ) {
				vserrordialog 201, ""
				var_67(44) = 0
			}
			else {
				midiinstart
			}
		}
		else {
			vserrordialog 201, ""
			var_67(44) = 0
		}
	}
	if ( var_67(47) != 0 ) {
		getmididevnum
		var_407 = stat
		if ( var_67(47) - 1 < var_407 ) {
			midiopen var_67(47) - 1
			if ( stat != 0 ) {
				vserrordialog 200, ""
				var_67(47) = 0
			}
		}
		else {
			vserrordialog 200, ""
			var_67(47) = 0
		}
	}
	var_408 = var_67(25)
	var_409 = var_67(26)
	var_410 = var_67(27)
	var_411 = var_67(28)
	SetVsTempPath var_392(2), var_67(2)
	LoadEngineDll 8, var_392(1) + "world4vs3.dll"
	repeat 8
		exist var_392(34 + cnt)
		if ( strsize > 0 ) {
			LoadEngineDll 16 + cnt, var_392(34 + cnt)
			if ( stat != 0 ) {
			}
		}
		var_392(50 + cnt) = var_392(34 + cnt)
		var_392(42 + cnt) = var_392(26 + cnt)
	loop
	return
*label_238
	goto *label_242
#deffunc loadini str prm_1042
	exist prm_1042
	var_413 = strsize
	if ( var_413 < 0 ) {
		var_414 = 0
		return
	}
	sdim var_415, var_413
	notesel var_415
	noteload prm_1042
	var_414 = noteinfo(0)
	sdim var_416, 32, var_414
	sdim var_417, 256, var_414
	sdim var_418, 256
	sdim var_419, 256
	repeat var_414
		noteget var_418, cnt
		getstr var_416(cnt), var_418, 0, 61
		var_420 = strsize
		getstr var_417(cnt), var_418, var_420
	loop
	sdim var_415, 0
	return
#defcfunc readini_s str prm_1043, str prm_1044
	var_421 = prm_1044
	repeat var_414
		if ( var_416(cnt) == prm_1043 ) {
			var_421 = var_417(cnt)
			break
		}
	loop
	return var_421
#defcfunc readini_i str prm_1045, int prm_1046
	var_422 = prm_1046
	repeat var_414
		if ( var_416(cnt) == prm_1045 ) {
			var_422 = int(var_417(cnt))
			break
		}
	loop
	return var_422
*label_242
	goto *label_247
#deffunc initsaveini
	sdim var_423, 32, 256
	sdim var_424, 256, 256
	var_425 = 0
	return
#deffunc writeini_s str prm_1047, str prm_1048
	var_426 = prm_1047
	var_427 = prm_1048
	var_428 = 0
	repeat var_425
		if ( var_423(var_428) == var_426 ) {
			break
		}
		var_428++
	loop
	var_423(var_428) = var_426
	var_424(var_428) = var_427
	if ( var_425 < var_428 + 1 ) {
		var_425 = var_428 + 1
	}
	return
#deffunc writeini_i str prm_1049, int prm_1050
	var_426 = prm_1049
	var_429 = prm_1050
	writeini_s var_426, str(var_429)
	return
#deffunc saveini str prm_1051, str prm_1052
	sdim var_430, 4096
	var_430 = "[" + prm_1051 + "]\n"
	repeat var_425
		var_430 += var_423(cnt) + "=" + var_424(cnt) + "\n"
	loop
	vslibSaveFile prm_1052, var_430, strlen(var_430)
	if ( stat != 0 ) {
		vserrordialog 330, ""
	}
	sdim var_430, 0
	return
*label_247
	goto *label_249
#deffunc loadsetting
	var_431 = dirinfo(0)
	var_432 = dirinfo(65536 | 26)
	var_433 = PathIsDirectoryA(var_432)
	if ( var_433 != 0 ) {
		chdir var_432
		dirlist var_434, "ackiesound", 5
		if ( stat == 0 ) {
			mkdir "ackiesound"
		}
	}
	if ( var_433 != 0 ) {
		chdir var_432 + "\\" + "ackiesound"
		dirlist var_434, "vocalshifter", 5
		if ( stat == 0 ) {
			mkdir "vocalshifter"
		}
	}
	chdir var_431
	var_435 = var_392(1) + "vocalshifter3.ini"
	exist var_435
	if ( strsize == (-1) & var_433 != 0 ) {
		var_435 = var_432 + "\\" + "ackiesound" + "\\" + "vocalshifter" + "\\" + "vocalshifter3.ini"
	}
	loadini var_435
	var_67(8) = limit(readini_i("waitMode", 0), 0, 2)
	var_67(25) = readini_i("code1", 0)
	var_67(26) = readini_i("code2", 0)
	var_67(27) = readini_i("code3", 0)
	var_67(28) = readini_i("code4", 0)
	var_67(105) = limit(readini_i("mainWinPx", 0), 0, ginfo(20) - 100)
	var_67(106) = limit(readini_i("mainWinPy", 0), 0, ginfo(21) - 100)
	var_67(109) = readini_i("mainWinSx", -1)
	var_67(110) = readini_i("mainWinSy", -1)
	var_67(30) = limit(readini_i("woDevNum", 0), 0, 255)
	var_67(31) = limit(readini_i("woBufSize", 200), 50, 1000)
	var_67(32) = limit(readini_i("ppShiftSize", 5000), 100, 30000)
	var_67(33) = limit(readini_i("enableMetronome", 0), 0, 1)
	var_67(34) = limit(readini_i("metronomeTypeEx", 0), 0, 2)
	var_67(35) = limit(readini_i("metronomeVolume", -20), -100, 0)
	var_67(36) = limit(readini_i("noteNameType", 0), 0, 2)
	var_67(37) = limit(readini_i("redrawRate", 1), -1, 2)
	var_67(38) = limit(readini_i("bgKeyCol", 0), 0, 1)
	var_67(39) = limit(readini_i("clearPit", 1), 0, 1)
	var_67(40) = limit(readini_i("tiltWheel", 0), 0, 1)
	var_67(41) = limit(readini_i("drawNote", 0), 0, 1)
	var_67(42) = limit(readini_i("lineWidth", 5), 0, 7)
	var_67(43) = limit(readini_i("autoScrollMode", 0), 0, 2)
	var_67(44) = readini_i("miDevNum", 0)
	var_67(45) = limit(readini_i("mtcSlvFrame", 0), 0, 2)
	var_67(46) = readini_i("mtcSlvTime", 0)
	var_67(47) = readini_i("moDevNum", 0)
	var_67(48) = limit(readini_i("mtcMstFrame", 0), 0, 2)
	var_67(49) = readini_i("mtcMstTime", 0)
	var_67(50) = limit(readini_i("userTune", 0), 0, 1)
	var_67(51) = limit(readini_i("showAnalyzeSettings2", 1), 0, 1)
	var_67(52) = limit(readini_i("showSynthModeSetting", 1), 0, 1)
	var_67(53) = limit(readini_i("analyzeNnStart", 24), 24, 107)
	var_67(54) = limit(readini_i("analyzeNnEnd", 107), 24, 107)
	var_67(55) = limit(readini_i("nnPreset", 0), 0, 4)
	var_67(56) = limit(readini_i("analyzeMethod2", 1), 0, 1)
	var_67(57) = limit(readini_i("language_", 1), 0, 2)
	var_67(61) = limit(readini_i("scrollSpeed", 100), 100, 300)
	var_67(62) = limit(readini_i("exportTrackNameType", 0), 0, 2)
	var_67(63) = limit(readini_i("enableExSettings", 0), 0, 1)
	var_67(64) = limit(readini_i("fastWaveDraw", 0), 0, 1)
	var_67(67) = limit(readini_i("disMtiSelEdit", 0), 0, 1)
	var_67(66) = limit(readini_i("screenShot", 0), 0, 1)
	var_67(68) = limit(readini_i("initTrackNum", 1), 1, 64)
	var_67(69) = limit(readini_i("initSndFilePath", 0), 0, 1)
	var_67(70) = limit(readini_i("drawItemInfo", 0), 0, 1)
	var_67(71) = limit(readini_i("bgimgAlpha", 25), 0, 100)
	var_67(72) = limit(readini_i("bgimgPos", 0), 0, 9)
	var_67(73) = limit(readini_i("enableReAnalyze", 0), 0, 1)
	var_67(74) = limit(readini_i("iniFilePath", 0), 0, 1)
	var_67(75) = limit(readini_i("swapMouse", 0), 0, 1)
	var_67(76) = limit(readini_i("enableMorphing", 1), 1, 1)
	var_67(77) = limit(readini_i("enablePposOffset2", 1), 0, 1)
	var_67(78) = limit(readini_i("enableItemFlag", 0), 0, 1)
	var_67(79) = limit(readini_i("enableVuAnalyze", 1), 0, 1)
	var_67(80) = limit(readini_i("enableExtEngine", 0), 0, 1)
	var_67(81) = limit(readini_i("enableDio", 0), 0, 1)
	var_67(82) = limit(readini_i("graphColor_pit_org", 16777216), 0, 16777216)
	var_67(83) = limit(readini_i("graphColor_pit_edt", 16777216), 0, 16777216)
	var_67(84) = limit(readini_i("graphColor_frm", 16777216), 0, 16777216)
	var_67(85) = limit(readini_i("graphColor_vol", 16777216), 0, 16777216)
	var_67(86) = limit(readini_i("graphColor_pan", 16777216), 0, 16777216)
	var_67(87) = limit(readini_i("graphColor_dyn_org", 16777216), 0, 16777216)
	var_67(88) = limit(readini_i("graphColor_dyn_edt", 16777216), 0, 16777216)
	var_67(89) = limit(readini_i("graphColor_time", 16777216), 0, 16777216)
	var_67(90) = limit(readini_i("graphColor_apit", 16777216), 0, 16777216)
	var_67(91) = limit(readini_i("graphColor_bre", 16777216), 0, 16777216)
	var_67(92) = limit(readini_i("graphColor_eq1", 16777216), 0, 16777216)
	var_67(93) = limit(readini_i("graphColor_eq2", 16777216), 0, 16777216)
	var_67(94) = limit(readini_i("graphColor_heq", 16777216), 0, 16777216)
	var_67(95) = limit(readini_i("graphColor_play_pos", 13684944), 0, 16777215)
	var_67(65) = 1
	var_67(96) = limit(readini_i("mainAutoScroll", 1), 0, 1)
	var_67(97) = limit(readini_i("mainLoop", 0), 0, 1)
	var_67(98) = limit(readini_i("timeScaleType", 1), 0, 1)
	var_67(99) = limit(readini_i("mainSnap", 1), 0, 1)
	var_67(100) = limit(readini_i("mainQuantize", 2), 0, 18)
	var_67(102) = limit(readini_i("mainTimeMode", 0), 0, 3)
	var_67(103) = limit(readini_i("scrollKey", 25632), 0, 30583)
	var_67(104) = limit(readini_i("scrollKeyT", 1679827044), 0, 2004318071)
	var_67(179) = limit(readini_i("ideAutoScroll", 1), 0, 1)
	var_67(180) = limit(readini_i("ideSnap", 0), 0, 1)
	var_67(181) = limit(readini_i("ideLayer", 0), 0, 1)
	var_67(182) = limit(readini_i("ideLayerWave", 0), 0, 1)
	var_67(183) = limit(readini_i("ideLayerNote", 1), 0, 1)
	var_67(184) = limit(readini_i("ideLayerOrgGraph", 1), 0, 1)
	var_67(186) = limit(readini_i("idePopup", 0), 0, 1)
	var_67(187) = limit(readini_i("ideDrawCb", 0), 0, 1)
	var_67(188) = limit(readini_i("ideTimeGlMode", 1), 0, 1)
	var_67(190) = limit(readini_i("ideSyncScroll", 1), 0, 1)
	var_67(191) = limit(readini_i("ideShowLabel", 0), 0, 1)
	var_67(192) = limit(readini_i("idePenStabilize", 1), 0, 5)
	var_67(193) = limit(readini_i("ideShowNoteFreq", 0), 0, 1)
	var_67(194) = limit(readini_i("ideVolDynLog", 0), 0, 1)
	var_67(195) = limit(readini_i("ideWaveLog", 0), 0, 1)
	var_67(196) = limit(readini_i("idelimitTime", 0), 0, 1)
	var_67(197) = limit(readini_i("ideNoteGridType", 0), 0, 2)
	repeat 10
		var_392(16 + cnt) = readini_s("history" + (cnt + 1) \ 10, "")
	loop
	var_392(4) = readini_s("FFmpeg", "")
	var_392(5) = readini_s("wavext", "")
	var_392(6) = readini_s("waveOpenExe", "")
	var_392(3) = readini_s("tmpDir", "")
	var_392(7) = readini_s("bgimg", "")
	repeat 8
		var_392(26 + cnt) = readini_s("extEngineName" + (cnt + 1), "")
	loop
	repeat 8
		var_392(34 + cnt) = readini_s("extEnginePath" + (cnt + 1), "")
	loop
	GetSystemMetrics 23
	var_67(3) = 1
	var_67(4) = 2
	if ( var_67(75) ) {
		var_436 = var_67(3)
		var_67(3) = var_67(4)
		var_67(4) = var_436
	}
	var_67(58) = var_67(57)
	var_67(18) = 1
	return
*label_249
	goto *label_251
#deffunc loadbgimg
	buffer 24, 1, 1
	buffer 25, 1, 1
	buffer 26, 1, 1
	if ( var_392(7) != "" ) {
		exist var_392(7)
		if ( strsize > 0 ) {
			gsel 24
			picload var_392(7)
			var_67(24) = 1
		}
	}
	else {
		var_67(24) = 0
	}
	return
*label_251
	goto *label_273
#deffunc createvspopupmenu
	dim var_437, 18
	CreatePopupMenu
	var_437(0) = stat
	AppendMenuA var_437(0), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(0), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(0), 2048, 0, ""
	AppendMenuA var_437(0), 0, 86, tltx("切り取り(&T)", "Cut")
	AppendMenuA var_437(0), 0, 87, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(0), 0, 88, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(0), 0, 89, tltx("削除(&D)", "Delete")
	AppendMenuA var_437(0), 2048, 0, ""
	AppendMenuA var_437(0), 0, 90, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(0), 0, 91, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(0), 2048, 0, ""
	AppendMenuA var_437(0), 0, 94, tltx("マスタートラック設定(&M)...", "Master track Settings...")
	CreatePopupMenu
	var_437(1) = stat
	AppendMenuA var_437(1), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(1), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(1), 2048, 0, ""
	AppendMenuA var_437(1), 0, 86, tltx("切り取り(&T)", "Cut")
	AppendMenuA var_437(1), 0, 87, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(1), 0, 88, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(1), 0, 89, tltx("削除(&D)", "Delete")
	AppendMenuA var_437(1), 2048, 0, ""
	AppendMenuA var_437(1), 0, 90, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(1), 0, 91, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(1), 2048, 0, ""
	AppendMenuA var_437(1), 0, 92, tltx("トラック追加(&N)", "Add track")
	AppendMenuA var_437(1), 0, 93, tltx("トラック設定(&S)...", "Track Settings...")
	AppendMenuA var_437(1), 0, 106, tltx("アイテム追加(&I)...", "Add item...")
	AppendMenuA var_437(1), 0, 95, tltx("選択トラックをWaveファイルに出力(&E)...", "Export selected tracks...")
	AppendMenuA var_437(1), 0, 96, tltx("選択トラックをトラックごとにWaveファイルに出力...", "Export selected tracks by track...")
	CreatePopupMenu
	var_437(2) = stat
	AppendMenuA var_437(2), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(2), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(2), 2048, 0, ""
	AppendMenuA var_437(2), 0, 99, tltx("切り取り(&T)", "Cut")
	AppendMenuA var_437(2), 0, 100, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(2), 0, 101, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(2), 0, 102, tltx("削除(&D)", "Delete")
	AppendMenuA var_437(2), 2048, 0, ""
	AppendMenuA var_437(2), 0, 103, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(2), 0, 104, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(2), 0, 105, tltx("次のアイテムを選択(&X)", "Select next item")
	AppendMenuA var_437(2), 2048, 0, ""
	AppendMenuA var_437(2), 0, 112, tltx("音声ファイル差し替え(編集データ破棄)(&O)", "Reload(break edited data)")
	AppendMenuA var_437(2), 0, 113, tltx("音声ファイル差し替え(編集データ保持)(&M)", "Reload(keep edited data)")
	if ( var_67(73) == 1 ) {
		AppendMenuA var_437(2), 0, 114, tltx("*PITをガイドとしてピッチ再解析(&N)", "Re-analyze pitch")
	}
	AppendMenuA var_437(2), 0, 115, tltx("Waveファイルに出力(&F)...", "Export as...")
	AppendMenuA var_437(2), 0, 116, tltx("Waveファイルに上書き出力(&B)", "Export")
	AppendMenuA var_437(2), 2048, 0, ""
	AppendMenuA var_437(2), 0, 106, tltx("アイテム追加(&I)...", "Add item...")
	AppendMenuA var_437(2), 0, 107, tltx("アイテム設定(&S)...", "Item settings...")
	AppendMenuA var_437(2), 0, 108, tltx("アイテムEQ設定(&Q)...", "Item EQ settings...")
	AppendMenuA var_437(2), 0, 109, tltx("アイテムHEQ設定(&H)...", "Item HEQ settings...")
	AppendMenuA var_437(2), 0, 110, tltx("アイテムのプロパティ(&Y)", "Item properties")
	AppendMenuA var_437(2), 0, 111, tltx("アイテム編集(&E)", "Edit item")
	CreatePopupMenu
	var_437(3) = stat
	AppendMenuA var_437(3), 0, 67, tltx("全音符(&1)", "Whole note")
	AppendMenuA var_437(3), 0, 68, tltx("2分音符(&2)", "Half note")
	AppendMenuA var_437(3), 0, 69, tltx("4分音符(&4)", "Quarter note")
	AppendMenuA var_437(3), 0, 70, tltx("8分音符(&8)", "Eighth note")
	AppendMenuA var_437(3), 0, 71, tltx("16分音符(&6)", "Sixteenth note")
	AppendMenuA var_437(3), 0, 72, tltx("32分音符(&3)", "Thirty-second note")
	AppendMenuA var_437(3), 0, 73, tltx("64分音符", "Sixty-fourth note")
	AppendMenuA var_437(3), 2048, 0, ""
	AppendMenuA var_437(3), 0, 74, tltx("付点2分音符", "Dotted half note")
	AppendMenuA var_437(3), 0, 75, tltx("付点4分音符", "Dotted quarter note")
	AppendMenuA var_437(3), 0, 76, tltx("付点8分音符", "Dotted eighth note")
	AppendMenuA var_437(3), 0, 77, tltx("付点16分音符", "Dotted sixteenth note")
	AppendMenuA var_437(3), 0, 78, tltx("付点32分音符", "Dotted thirty-second note")
	AppendMenuA var_437(3), 0, 79, tltx("付点64分音符", "Dotted sixty-fourth note")
	AppendMenuA var_437(3), 2048, 0, ""
	AppendMenuA var_437(3), 0, 80, tltx("3連2分音符", "Half-note triplet")
	AppendMenuA var_437(3), 0, 81, tltx("3連4分音符", "Quarter-note triplet")
	AppendMenuA var_437(3), 0, 82, tltx("3連8分音符", "Eighth-note triplet")
	AppendMenuA var_437(3), 0, 83, tltx("3連16分音符", "Sixteenth-note triplet")
	AppendMenuA var_437(3), 0, 84, tltx("3連32分音符", "Thirty-second-note triplet")
	AppendMenuA var_437(3), 0, 85, tltx("3連64分音符", "Sixty-fourth-note triplet")
	CreatePopupMenu
	var_437(4) = stat
	AppendMenuA var_437(4), 0, 117, tltx("タブを閉じる(&C)", "Close tab")
	AppendMenuA var_437(4), 0, 118, tltx("他のタブを閉じる(&O)", "Close other tabs")
	AppendMenuA var_437(4), 0, 119, tltx("左側のタブを閉じる(&L)", "Close left side tabs")
	AppendMenuA var_437(4), 0, 120, tltx("右側のタブを閉じる(&R)", "Close right side tabs")
	AppendMenuA var_437(4), 0, 121, tltx("全てのタブを閉じる(&A)", "Close all tabs")
	CreatePopupMenu
	var_437(5) = stat
	AppendMenuA var_437(5), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(5), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(5), 2048, 0, ""
	AppendMenuA var_437(5), 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(5), 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(5), 2048, 0, ""
	AppendMenuA var_437(5), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(5), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(5), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(5), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(5), 2048, 0, ""
	AppendMenuA var_437(5), 0, 211, tltx("初期化(&I)", "Initialize")
	AppendMenuA var_437(5), 0, 212, tltx("セント指定ピッチシフト(&H)...", "pitch shift(cent)...")
	AppendMenuA var_437(5), 0, 213, tltx("度数指定ピッチシフト(&D)...", "pitch shift(degree)...")
	AppendMenuA var_437(5), 0, 214, tltx("ピッチ設定(&T)...", "Set pitch...")
	AppendMenuA var_437(5), 0, 216, tltx("平均化(&G)", "Averaging")
	AppendMenuA var_437(5), 0, 215, tltx("平滑化(&S)...", "Smoothing...")
	AppendMenuA var_437(5), 0, 217, tltx("ビブラート付加(&V)...", "Add vibrato...")
	AppendMenuA var_437(5), 0, 218, tltx("クオンタイズ(&Q)...", "Quantize...")
	AppendMenuA var_437(5), 0, 219, tltx("平均値をクオンタイズ(&E)", "Quantize Average")
	AppendMenuA var_437(5), 0, 220, tltx("自動補正(&O)...", "Auto correction...")
	AppendMenuA var_437(5), 0, 221, tltx("ケロケロボイス(&K)...", "Kerokero voice...")
	AppendMenuA var_437(5), 2048, 0, ""
	AppendMenuA var_437(5), 0, 272, tltx("編集可能(ピッチあり)にする(&F)", "Enable pitch editing")
	AppendMenuA var_437(5), 0, 273, tltx("編集禁止(ピッチなし)にする(&N)", "Disable pitch editing")
	CreatePopupMenu
	var_437(6) = stat
	AppendMenuA var_437(6), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(6), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(6), 2048, 0, ""
	AppendMenuA var_437(6), 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(6), 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(6), 2048, 0, ""
	AppendMenuA var_437(6), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(6), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(6), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(6), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(6), 2048, 0, ""
	AppendMenuA var_437(6), 0, 231, tltx("初期化(&I)", "Initialize")
	AppendMenuA var_437(6), 0, 232, tltx("フォルマントシフト(&H)...", "Change formant...")
	AppendMenuA var_437(6), 0, 233, tltx("フォルマント設定(&T)...", "Set formant...")
	CreatePopupMenu
	var_437(7) = stat
	AppendMenuA var_437(7), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(7), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(7), 2048, 0, ""
	AppendMenuA var_437(7), 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(7), 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(7), 2048, 0, ""
	AppendMenuA var_437(7), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(7), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(7), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(7), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(7), 2048, 0, ""
	AppendMenuA var_437(7), 0, 234, tltx("初期化(&I)", "Initialize")
	AppendMenuA var_437(7), 0, 235, tltx("ボリューム変更(&H)...", "Change Volume...")
	AppendMenuA var_437(7), 0, 236, tltx("ボリューム設定(&T)...", "Set Volume...")
	AppendMenuA var_437(7), 0, 237, tltx("ミュート(&M)", "Mute")
	AppendMenuA var_437(7), 0, 238, tltx("フェードイン(&N)", "Fade-in")
	AppendMenuA var_437(7), 0, 239, tltx("フェードアウト(&O)", "Fade-out")
	AppendMenuA var_437(7), 0, 240, tltx("フェードイン→フェードアウト(&F)...", "Fade-in/Fade-out...")
	AppendMenuA var_437(7), 0, 241, tltx("フェードアウト→フェードイン(&E)...", "Fade-out/Fade-in...")
	AppendMenuA var_437(7), 0, 242, tltx("ダイナミクスに反映(&D)", "Reflect to DYN")
	CreatePopupMenu
	var_437(8) = stat
	AppendMenuA var_437(8), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(8), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(8), 2048, 0, ""
	AppendMenuA var_437(8), 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(8), 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(8), 2048, 0, ""
	AppendMenuA var_437(8), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(8), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(8), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(8), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(8), 2048, 0, ""
	AppendMenuA var_437(8), 0, 243, tltx("初期化(&I)", "Initialize")
	AppendMenuA var_437(8), 0, 244, tltx("パン変更(&H)...", "Change Pan...")
	AppendMenuA var_437(8), 0, 245, tltx("パン設定(&T)...", "Set Pan...")
	CreatePopupMenu
	var_437(9) = stat
	AppendMenuA var_437(9), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(9), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(9), 2048, 0, ""
	AppendMenuA var_437(9), 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(9), 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(9), 2048, 0, ""
	AppendMenuA var_437(9), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(9), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(9), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(9), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(9), 2048, 0, ""
	AppendMenuA var_437(9), 0, 246, tltx("初期化(&I)", "Initialize")
	AppendMenuA var_437(9), 0, 247, tltx("ノーマライズ(&N)", "Normalize")
	AppendMenuA var_437(9), 0, 248, tltx("ダイナミクス変更(&H)...", "Change Dynamics...")
	AppendMenuA var_437(9), 0, 249, tltx("ミュート(&M)", "Mute")
	AppendMenuA var_437(9), 0, 250, tltx("ビブラート付加(&V)...", "Add vibrato...")
	AppendMenuA var_437(9), 0, 251, tltx("コンプレッサー(&E)...", "Compressor...")
	AppendMenuA var_437(9), 0, 252, tltx("リミッター(&T)...", "Limiter...")
	AppendMenuA var_437(9), 0, 253, tltx("増幅率制限(&G)...", "Limit DYN gain...")
	AppendMenuA var_437(9), 0, 254, tltx("自動調整(&D)...", "Auto correction...")
	CreatePopupMenu
	var_437(10) = stat
	AppendMenuA var_437(10), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(10), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(10), 2048, 0, ""
	AppendMenuA var_437(10), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(10), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(10), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(10), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(10), 2048, 0, ""
	AppendMenuA var_437(10), 0, 255, tltx("再生位置に制御点追加(&N)", "Add control point to playback position")
	AppendMenuA var_437(10), 0, 256, tltx("選択範囲に制御点追加(&S)", "Add control points to selected section")
	AppendMenuA var_437(10), 0, 257, tltx("ノート位置に制御点追加(&T)", "Add control points to notes position")
	AppendMenuA var_437(10), 0, 258, tltx("アタック検出(&U)", "Detect attacks")
	AppendMenuA var_437(10), 0, 259, tltx("制御点削除(&D)", "Delete control points")
	AppendMenuA var_437(10), 0, 260, tltx("編集前制御点クオンタイズ(&Q)...", "Quantize control points(before editing)...")
	AppendMenuA var_437(10), 0, 261, tltx("前回の設定で編集前制御点クオンタイズ(&Z)", "Quantize control points by previous settings(before editing)...")
	AppendMenuA var_437(10), 0, 262, tltx("編集後制御点クオンタイズ(&G)...", "Quantize control points(after editing)...")
	AppendMenuA var_437(10), 0, 263, tltx("前回の設定で編集後制御点クオンタイズ(&P)", "Quantize control points by previous settings(after editing)...")
	AppendMenuA var_437(10), 0, 264, tltx("初期化(&I)", "Initialize")
	AppendMenuA var_437(10), 2048, 0, ""
	AppendMenuA var_437(10), 0, 265, tltx("トリミング(&M)", "Trimming")
	AppendMenuA var_437(10), 0, 266, tltx("削除(&E)", "Delete")
	CreatePopupMenu
	var_437(11) = stat
	AppendMenuA var_437(11), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(11), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(11), 2048, 0, ""
	AppendMenuA var_437(11), 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(11), 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(11), 2048, 0, ""
	AppendMenuA var_437(11), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(11), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(11), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(11), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(11), 2048, 0, ""
	AppendMenuA var_437(11), 0, 267, tltx("ピッチ初期化(&I)", "Initialize")
	AppendMenuA var_437(11), 0, 268, tltx("ピッチ変更(&H)...", "Change *PIT parameter...")
	AppendMenuA var_437(11), 0, 269, tltx("ピッチ設定(&T)...", "Set *PIT parameter...")
	AppendMenuA var_437(11), 0, 270, tltx("ピッチ平均化(&G)", "Averaging")
	AppendMenuA var_437(11), 0, 271, tltx("クオンタイズ(&Q)", "Quantize")
	if ( var_67(79) == 1 ) {
		AppendMenuA var_437(11), 0, 274, tltx("ピッチ有無検出(&X)...", "Detect pitch flag...")
	}
	AppendMenuA var_437(11), 0, 272, tltx("編集可能(ピッチあり)にする(&F)", "Enable pitch editing")
	AppendMenuA var_437(11), 0, 273, tltx("編集禁止(ピッチなし)にする(&N)", "Disable pitch editing")
	CreatePopupMenu
	var_437(12) = stat
	AppendMenuA var_437(12), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(12), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(12), 2048, 0, ""
	AppendMenuA var_437(12), 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(12), 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(12), 2048, 0, ""
	AppendMenuA var_437(12), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(12), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(12), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(12), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(12), 2048, 0, ""
	AppendMenuA var_437(12), 0, 275, tltx("初期化(&I)", "Initialize")
	AppendMenuA var_437(12), 0, 276, tltx("ブレス変更(&H)...", "Change BRE parameter...")
	AppendMenuA var_437(12), 0, 277, tltx("ブレス設定(&T)...", "Set BRE parameter...")
	CreatePopupMenu
	var_437(13) = stat
	AppendMenuA var_437(13), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(13), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(13), 2048, 0, ""
	AppendMenuA var_437(13), 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(13), 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(13), 2048, 0, ""
	AppendMenuA var_437(13), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(13), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(13), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(13), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(13), 2048, 0, ""
	AppendMenuA var_437(13), 0, 278, tltx("初期化(&I)", "Initialize")
	AppendMenuA var_437(13), 0, 279, tltx("EQ1変更(&H)...", "Change EQ1 parameter...")
	AppendMenuA var_437(13), 0, 280, tltx("EQ1設定(&T)...", "Set EQ1 parameter...")
	CreatePopupMenu
	var_437(14) = stat
	AppendMenuA var_437(14), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(14), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(14), 2048, 0, ""
	AppendMenuA var_437(14), 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(14), 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(14), 2048, 0, ""
	AppendMenuA var_437(14), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(14), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(14), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(14), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(14), 2048, 0, ""
	AppendMenuA var_437(14), 0, 281, tltx("初期化(&I)", "Initialize")
	AppendMenuA var_437(14), 0, 282, tltx("EQ2変更(&H)...", "Change EQ2 parameter...")
	AppendMenuA var_437(14), 0, 283, tltx("EQ2設定(&T)...", "Set EQ2 parameter...")
	CreatePopupMenu
	var_437(15) = stat
	AppendMenuA var_437(15), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(15), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(15), 2048, 0, ""
	AppendMenuA var_437(15), 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(15), 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(15), 2048, 0, ""
	AppendMenuA var_437(15), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(15), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(15), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(15), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(15), 2048, 0, ""
	AppendMenuA var_437(15), 0, 284, tltx("初期化(&I)", "Initialize")
	AppendMenuA var_437(15), 0, 285, tltx("変更(&H)...", "Change parameter...")
	AppendMenuA var_437(15), 0, 286, tltx("設定(&T)...", "Set parameter...")
	CreatePopupMenu
	var_437(16) = stat
	AppendMenuA var_437(16), 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_437(16), 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_437(16), 2048, 0, ""
	AppendMenuA var_437(16), 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_437(16), 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_437(16), 2048, 0, ""
	AppendMenuA var_437(16), 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_437(16), 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_437(16), 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_437(16), 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_437(16), 2048, 0, ""
	AppendMenuA var_437(16), 0, 222, tltx("ノート結合(&M)", "Combine notes")
	AppendMenuA var_437(16), 0, 223, tltx("ノート分割(&D)", "Divide note")
	AppendMenuA var_437(16), 0, 224, tltx("ノートをすべて選択(&N)", "Select all notes")
	AppendMenuA var_437(16), 0, 225, tltx("ノート選択解除(&L)", "Deselect notes")
	AppendMenuA var_437(16), 2048, 0, ""
	AppendMenuA var_437(16), 0, 226, tltx("セント指定ピッチシフト(&H)...", "pitch shift(cent)...")
	AppendMenuA var_437(16), 0, 227, tltx("度数指定ピッチシフト(&D)...", "pitch shift(degree)...")
	AppendMenuA var_437(16), 0, 228, tltx("自動補正(&O)...", "Auto correction...")
	AppendMenuA var_437(16), 0, 229, tltx("ケロケロボイス(&K)...", "Kerokero voice...")
	AppendMenuA var_437(16), 0, 230, tltx("他のアイテムに合わせて補正(&S)...", "Fitting to other item...")
	CreatePopupMenu
	var_437(17) = stat
	AppendMenuA var_437(17), 0, 287, tltx("ラベル編集(&E)", "Edit")
	AppendMenuA var_437(17), 0, 288, tltx("ラベル削除(&D)", "Delete")
	return
#deffunc updatevsmenu int prm_1054
	if ( getundoflg() == 1 ) {
		EnableMenuItem prm_1054, 23, 0
	}
	else {
		EnableMenuItem prm_1054, 23, 1
	}
	if ( getredoflg() == 1 ) {
		EnableMenuItem prm_1054, 24, 0
	}
	else {
		EnableMenuItem prm_1054, 24, 1
	}
	return
#deffunc showmastertrackpopupmenu
	updatevsmenu var_437(0)
	TrackPopupMenuEx var_437(0), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showtrackpopupmenu
	updatevsmenu var_437(1)
	TrackPopupMenuEx var_437(1), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showitempopupmenu
	updatevsmenu var_437(2)
	TrackPopupMenuEx var_437(2), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showqtpopupmenu
	repeat 19
		CheckMenuItem var_437(3), 67 + cnt, 0
	loop
	CheckMenuItem var_437(3), 67 + var_67(100), 8
	TrackPopupMenuEx var_437(3), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showidetabpopupmenu
	TrackPopupMenuEx var_437(4), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showidepitpopupmenu
	updatevsmenu var_437(5)
	TrackPopupMenuEx var_437(5), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showidefrmpopupmenu
	updatevsmenu var_437(6)
	TrackPopupMenuEx var_437(6), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showidevolpopupmenu
	updatevsmenu var_437(7)
	TrackPopupMenuEx var_437(7), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showidepanpopupmenu
	updatevsmenu var_437(8)
	TrackPopupMenuEx var_437(8), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showidedynpopupmenu
	updatevsmenu var_437(9)
	TrackPopupMenuEx var_437(9), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showidetimepopupmenu
	updatevsmenu var_437(10)
	TrackPopupMenuEx var_437(10), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showideapitpopupmenu
	updatevsmenu var_437(11)
	TrackPopupMenuEx var_437(11), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showidebrepopupmenu
	updatevsmenu var_437(12)
	TrackPopupMenuEx var_437(12), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showidebripopupmenu
	updatevsmenu var_437(13)
	TrackPopupMenuEx var_437(13), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showideclepopupmenu
	updatevsmenu var_437(14)
	TrackPopupMenuEx var_437(14), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showideheqpopupmenu
	updatevsmenu var_437(15)
	TrackPopupMenuEx var_437(15), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showidenotepopupmenu
	updatevsmenu var_437(16)
	TrackPopupMenuEx var_437(16), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc showidelabelpopupmenu
	TrackPopupMenuEx var_437(17), 0, ginfo(0), ginfo(1), hwnd, 0
	return
#deffunc destroypopupmenu
	if ( var_437(0) != 0 ) {
		repeat 18
			DestroyMenu var_437(cnt)
			var_437(cnt) = 0
		loop
	}
	return
*label_273
	goto *label_275
#deffunc deleteexternalenginetmpfile
	var_438 = dirinfo(0)
	sdim var_439, 260
	notesel var_439
	chdir var_392(2)
	dirlist var_439, "eetmp_" + var_67(2) + "_*", 1
	var_440 = noteinfo(0)
	repeat var_440
		noteget var_441, cnt
		exist var_441
		if ( strsize >= 0 ) {
			delete var_441
		}
	loop
	chdir var_438
	return
*label_275
	goto *label_277
#deffunc vsexit int prm_1058
	if ( prm_1058 != 0 ) {
		if ( wparam != 6 & iparam == 0 ) {
			var_67(20) = wparam
			return 0
		}
	}
	if ( var_67(17) != 0 & geteditflg() != 0 ) {
		msgdlg tltx("プロジェクトが編集されています。\n保存しますか?", "The project has not been saved. \nDo you want to save the project?"), "Warning", 3, 2
		if ( stat == 2 ) {
			return 0
		}
		if ( stat == 6 ) {
			saveproject var_392(8)
			if ( stat != 0 ) {
				return 0
			}
		}
	}
	gsel 6
	setmainwindowtitle tltx("終了しています...", "Exiting...")
	redraw 2
	drawprogress -1, tltx("終了しています...", "Exiting...")
	redraw 1
	oncmd 0
	if ( var_67(17) != 0 ) {
		func_2 var_67(17), var_392(2) + "backup1.vshp"
		if ( stat != 0 ) {
			vserrordialog 332, ""
		}
		vsplay_exit var_67(17)
		DeleteProject var_67(17)
		var_67(17) = 0
		ClearItemTable
	}
	if ( var_67(44) != 0 ) {
		midiinstop
		midiinclose
	}
	if ( var_67(47) != 0 ) {
		midiclose
	}
	if ( var_67(7) == 1 ) {
		KillTimer hwnd, 1
	}
	destroypopupmenu
	dim var_442, 11
	var_442(0) = 44
	func_21 hwnd, var_442
	if ( var_442(2) == 1 ) {
		var_443 = ginfo(12)
		var_444 = ginfo(13)
	}
	else {
		var_443 = -1
		var_444 = -1
	}
	deleteundofile
	deleteexternalenginetmpfile
	var_445 = var_392(2) + "vstmp_" + var_67(2) + ".pid"
	exist var_445
	if ( strsize >= 0 ) {
		delete var_445
	}
	deletedecodetmpfile
	vsvst_exit
	exitshortcut
	FreeEngineDll
	if ( var_67(1) != 0 ) {
		ReleaseMutex var_67(1)
		var_67(1) = 0
	}
	if ( var_67(18) == 1 ) {
		var_446 = dirinfo(0)
		var_447 = dirinfo(65536 | 26)
		var_448 = func_22(var_447)
		if ( var_448 != 0 ) {
			chdir var_447
			dirlist var_449, "ackiesound", 5
			if ( stat == 0 ) {
				mkdir "ackiesound"
			}
		}
		if ( var_448 != 0 ) {
			chdir var_447 + "\\" + "ackiesound"
			dirlist var_449, "vocalshifter", 5
			if ( stat == 0 ) {
				mkdir "vocalshifter"
			}
		}
		chdir var_446
		if ( var_67(74) == 0 & var_448 != 0 ) {
			exist var_392(1) + "vocalshifter3.ini"
			if ( strsize >= 0 ) {
				delete var_392(1) + "vocalshifter3.ini"
			}
			var_445 = var_447 + "\\" + "ackiesound" + "\\" + "vocalshifter" + "\\" + "vocalshifter3.ini"
		}
		else {
			var_445 = var_392(1) + "vocalshifter3.ini"
		}
		initsaveini
		writeini_i "waitMode", var_67(8)
		writeini_i "code1", var_67(25)
		writeini_i "code2", var_67(26)
		writeini_i "code3", var_67(27)
		writeini_i "code4", var_67(28)
		writeini_i "mainWinPx", ginfo(4)
		writeini_i "mainWinPy", ginfo(5)
		writeini_i "mainWinSx", var_443
		writeini_i "mainWinSy", var_444
		writeini_i "woDevNum", var_67(30)
		writeini_i "woBufSize", var_67(31)
		writeini_i "ppShiftSize", var_67(32)
		writeini_i "enableMetronome", var_67(33)
		writeini_i "metronomeTypeEx", var_67(34)
		writeini_i "metronomeVolume", var_67(35)
		writeini_i "noteNameType", var_67(36)
		writeini_i "redrawRate", var_67(37)
		writeini_i "bgKeyCol", var_67(38)
		writeini_i "clearPit", var_67(39)
		writeini_i "tiltWheel", var_67(40)
		writeini_i "drawNote", var_67(41)
		writeini_i "lineWidth", var_67(42)
		writeini_i "autoScrollMode", var_67(43)
		writeini_i "miDevNum", var_67(44)
		writeini_i "mtcSlvFrame", var_67(45)
		writeini_i "mtcSlvTime", var_67(46)
		writeini_i "moDevNum", var_67(47)
		writeini_i "mtcMstFrame", var_67(48)
		writeini_i "mtcMstTime", var_67(49)
		writeini_i "userTune", var_67(50)
		writeini_i "showAnalyzeSettings2", var_67(51)
		writeini_i "showSynthModeSetting", var_67(52)
		writeini_i "analyzeNnStart", var_67(53)
		writeini_i "analyzeNnEnd", var_67(54)
		writeini_i "nnPreset", var_67(55)
		writeini_i "analyzeMethod2", var_67(56)
		writeini_i "language_", var_67(57)
		writeini_i "scrollSpeed", var_67(61)
		writeini_i "exportTrackNameType", var_67(62)
		writeini_i "enableExSettings", var_67(63)
		writeini_i "fastWaveDraw", var_67(64)
		writeini_i "disMtiSelEdit", var_67(67)
		writeini_i "screenShot", var_67(66)
		writeini_i "initTrackNum", var_67(68)
		writeini_i "initSndFilePath", var_67(69)
		writeini_i "exCtrlPrm", var_67(65)
		writeini_i "drawItemInfo", var_67(70)
		writeini_i "bgimgAlpha", var_67(71)
		writeini_i "bgimgPos", var_67(72)
		writeini_i "enableReAnalyze", var_67(73)
		writeini_i "iniFilePath", var_67(74)
		writeini_i "swapMouse", var_67(75)
		writeini_i "enableMorphing", var_67(76)
		writeini_i "enablePposOffset2", var_67(77)
		writeini_i "enableItemFlag", var_67(78)
		writeini_i "enableVuAnalyze", var_67(79)
		writeini_i "enableExtEngine", var_67(80)
		writeini_i "enableDio", var_67(81)
		writeini_i "graphColor_pit_org", var_67(82)
		writeini_i "graphColor_pit_edt", var_67(83)
		writeini_i "graphColor_frm", var_67(84)
		writeini_i "graphColor_vol", var_67(85)
		writeini_i "graphColor_pan", var_67(86)
		writeini_i "graphColor_dyn_org", var_67(87)
		writeini_i "graphColor_dyn_edt", var_67(88)
		writeini_i "graphColor_time", var_67(89)
		writeini_i "graphColor_apit", var_67(90)
		writeini_i "graphColor_bre", var_67(91)
		writeini_i "graphColor_eq1", var_67(92)
		writeini_i "graphColor_eq2", var_67(93)
		writeini_i "graphColor_heq", var_67(94)
		writeini_i "graphColor_play_pos", var_67(95)
		writeini_i "mainAutoScroll", var_67(96)
		writeini_i "mainLoop", var_67(97)
		writeini_i "timeScaleType", var_67(98)
		writeini_i "mainSnap", var_67(99)
		writeini_i "mainQuantize", var_67(100)
		writeini_i "mainTimeMode", var_67(102)
		writeini_i "scrollKey", var_67(103)
		writeini_i "scrollKeyT", var_67(104)
		writeini_i "ideAutoScroll", var_67(179)
		writeini_i "ideSnap", var_67(180)
		writeini_i "ideLayer", var_67(181)
		writeini_i "ideLayerWave", var_67(182)
		writeini_i "ideLayerNote", var_67(183)
		writeini_i "ideLayerOrgGraph", var_67(184)
		writeini_i "idePopup", var_67(186)
		writeini_i "ideDrawCb", var_67(187)
		writeini_i "ideTimeGlMode", var_67(188)
		writeini_i "ideSyncScroll", var_67(190)
		writeini_i "ideShowLabel", var_67(191)
		writeini_i "idePenStabilize", var_67(192)
		writeini_i "ideShowNoteFreq", var_67(193)
		writeini_i "ideVolDynLog", var_67(194)
		writeini_i "ideWaveLog", var_67(195)
		writeini_i "idelimitTime", var_67(196)
		writeini_i "ideNoteGridType", var_67(197)
		repeat 10
			writeini_s "history" + (cnt + 1) \ 10, var_392(16 + cnt)
		loop
		writeini_s "FFmpeg", var_392(4)
		writeini_s "wavext", var_392(5)
		writeini_s "waveOpenExe", var_392(6)
		writeini_s "tmpDir", var_392(3)
		writeini_s "bgimg", var_392(7)
		repeat 8
			writeini_s "extEngineName" + (cnt + 1), var_392(42 + cnt)
		loop
		repeat 8
			writeini_s "extEnginePath" + (cnt + 1), var_392(50 + cnt)
		loop
		saveini "vocalshifter", var_445
	}
	if ( prm_1058 == 0 ) {
		end
	}
	return 1
*label_277
	goto *label_279
#deffunc checkrecoverproject
	dim var_450, 4096
	EnumProcesses var_450, 4096 * 4, var_451
	var_452 = var_451 / 4
	repeat 4
		var_453 = cnt
		var_454 = var_392(2) + "vstmp_" + var_453 + ".pid"
		exist var_454
		if ( strsize == 4 ) {
			bload var_454, var_455, 4, 0
			var_456 = 0
			repeat var_452
				if ( var_450(cnt) == var_455 ) {
					var_456 = 1
					break
				}
			loop
			if ( var_456 == 0 ) {
				var_457 = 0
				repeat 20
					var_454 = getundofilename_t(var_453, cnt)
					exist var_454
					if ( strsize >= 0 ) {
						var_457 = 1
						break
					}
				loop
				if ( var_457 == 1 ) {
					msgdialog tltx("保存されていないプロジェクトファイルが見つかりました。\n復旧しますか?", "Files that have not been saved found.\nDo you want to recover?"), 2
					if ( stat == 6 ) {
						var_454 = var_392(2) + "vstmp_" + var_453 + ".pid"
						exist var_454
						if ( strsize > 0 ) {
							delete var_454
						}
						exec var_392(1) + "vsrcv.exe"
						vsexit
					}
					else {
						var_454 = var_392(2) + "vstmp_" + var_453 + ".pid"
						exist var_454
						if ( strsize > 0 ) {
							delete var_454
						}
					}
				}
			}
		}
	loop
	dim var_450, 0
	return
*label_279
	goto *label_281
#deffunc createnewproject
	gsel 6
	if ( var_67(17) != 0 & geteditflg() == 1 ) {
		msgdlg tltx("プロジェクトが編集されています。\n保存しますか?", "The project has not been saved. \nDo you want to save the project?"), "Warning", 3, 2
		if ( stat == 2 ) {
			return
		}
		if ( stat == 6 ) {
			saveproject var_392(8)
			if ( stat != 0 ) {
				return
			}
		}
	}
	if ( var_67(17) != 0 ) {
		func_2 var_67(17), var_392(2) + "backup1.vshp"
		if ( stat != 0 ) {
			vserrordialog 332, ""
		}
		vsplay_exit var_67(17)
		DeleteProject var_67(17)
		var_67(17) = 0
		deleteexternalenginetmpfile
	}
	CreateProject var_67(17)
	ClearItemTable
	if ( var_67(68) > 1 ) {
		repeat var_67(68) - 1
			addtrack 1
		loop
		repeat var_67(68)
			settrackselflg cnt, 0
		loop
		settrackselflg 0, 1
	}
	if ( var_67(69) == 1 ) {
		SetPrjSaveOption var_67(17), 1
	}
	vsplay_init var_67(17), var_67(30), var_67(31)
	var_67(16) = 0
	var_67(22) = 0
	var_67(23) = 0
	var_67(143) = 50
	var_67(144) = 70
	var_67(145) = 0
	var_67(146) = 0
	var_67(269) = 0
	var_67(271) = 0
	deleteundofile
	addundodata
	cleareditflg
	setmainalldrawflg
	setidealldrawflg
	closeidetab -1
	var_392(8) = ""
	var_392(9) = ""
	setmainwindowtitle ""
	return
*label_281
	goto *label_283
#deffunc saveproject str prm_1062, int prm_1063
	gsel 6
	if ( var_67(17) == 0 ) {
		return 2
	}
	var_458 = prm_1062
	if ( var_458 == "" ) {
		var_459 = tltx("プロジェクトファイル(*.vshp;*.vsp)\n*.vshp;*.vsp\nすべてのファイル(*.*)\n*.*", "Project files(*.vshp;*.vsp)\n*.vshp;*.vsp\nAll files(*.*)\n*.*")
		fileselectdialog var_458, 1, var_459, "", "", "", 0
		if ( stat == (-1) ) {
			return 1
		}
		getstr var_458, var_458
		var_460 = 1
	}
	else {
		var_460 = 0
	}
	if ( getpath(var_458, 2 + 16) != ".vshp" ) {
		var_458 += ".vshp"
		if ( var_460 == 1 ) {
			exist var_458
			if ( strsize >= 0 ) {
				msgdialog var_458 + tltx("は既に存在します。\n上書きしますか?", " already exists. \nDo you want to overwrite it?"), 2
				if ( stat != 6 ) {
					return 1
				}
			}
		}
	}
	if ( prm_1063 == 0 ) {
		redraw 2
		drawprogress -1, tltx("プロジェクトを保存しています...", "Saving project...")
		redraw 1
	}
	func_2 var_67(17), var_458
	if ( stat != 0 ) {
		if ( prm_1063 == 0 ) {
			vserrordialog 302, ""
		}
		else {
			vserrordialog 331, ""
		}
	}
	if ( prm_1063 == 0 ) {
		cleareditflg
		var_392(8) = var_458
		updatehistorymenu var_458
		setmainwindowtitle ""
	}
	setmainalldrawflg
	return 0
*label_283
	goto *label_286
#deffunc openproject str prm_1064, int prm_1065
	gsel 6
	if ( prm_1065 == 0 ) {
		if ( vsplay_getstatus(var_67(17)) == 1 ) {
			vsplay_stop var_67(17)
		}
	}
	var_461 = prm_1064
	if ( var_67(17) != 0 & prm_1065 == 0 & geteditflg() == 1 ) {
		msgdlg tltx("プロジェクトが編集されています。\n保存しますか?", "The project has not been saved. \nDo you want to save the project?"), "Warning", 3, 2
		if ( stat == 2 ) {
			return
		}
		if ( stat == 6 ) {
			saveproject var_392(8)
			if ( stat != 0 ) {
				return
			}
		}
	}
	if ( var_461 == "" ) {
		var_462 = tltx("プロジェクトファイル(*.vshp;*.vsp)\n*.vshp;*.vsp\nすべてのファイル(*.*)\n*.*", "Project files(*.vshp;*.vsp)\n*.vshp;*.vsp\nAll files(*.*)\n*.*")
		fileselectdialog var_461, 0, var_462, "", "", "", 0
		if ( stat == (-1) ) {
			return
		}
		getstr var_461, var_461
	}
	exist var_461
	var_463 = strsize
	if ( var_463 < 0 ) {
		msgdialog tltx("ファイルが見つかりません。", "File not found")
		return
	}
	if ( var_67(17) != 0 ) {
		if ( prm_1065 == 0 ) {
			func_2 var_67(17), var_392(2) + "backup1.vshp"
			if ( stat != 0 ) {
				vserrordialog 332, ""
			}
		}
		var_464 = vsplay_getpos(var_67(17))
		var_465 = vsplay_getstatus(var_67(17))
		vsplay_exit var_67(17)
		DeleteProject var_67(17)
		var_67(17) = 0
		if ( prm_1065 == 0 ) {
			deleteexternalenginetmpfile
		}
	}
	if ( prm_1065 == 0 ) {
		var_466 = 0
		setmainwindowtitle tltx("プロジェクトファイルを開いています...", "Loading project...")
		redraw 2
		drawprogress -1, tltx("プロジェクトファイルを開いています...", "Loading project...")
		redraw 1
		sdim var_467, 512 * 1024
		OpenProjectEx var_468, var_461, var_467, 1
		repeat 1024
			dupptr var_469, varptr(var_467) + 512 * cnt, 256, vartype("str")
			dupptr var_470, varptr(var_467) + 512 * cnt + 256, 256, vartype("str")
			if ( var_469 == "" ) {
				break
			}
			exist var_469
			if ( strsize < 0 ) {
				msgdialog var_469 + tltx("が見つかりません。\nファイルを指定してください。", "not found.")
				sdim var_471, 256
				var_462 = tltx("Waveファイル(*.wav)\n*.wav\nすべてのファイル(*.*)\n*.*", "Wave files(*.wav)\n*.wav\nAll files(*.*)\n*.*")
				var_472 = getpath(var_469, 8) + tltx("を指定してください。", "")
				fileselectdialog var_471, 0, var_462, "", var_472, "", 0
				if ( stat != (-1) ) {
					getstr var_471, var_471
					var_470 = strmid(var_471, 0, 255)
				}
				else {
					break
				}
			}
		loop
		repeat 1024
			dupptr var_470, varptr(var_467) + 512 * cnt + 256, 256, vartype("str")
			sdim var_471, 256
			var_471 = var_470
			if ( var_471 == "" ) {
				break
			}
			var_473 = getdecodefilename(var_471, var_67(2))
			if ( var_473 != var_471 ) {
				decodesoundfile var_471, var_473
				if ( stat != 0 ) {
					var_466 = stat
					break
				}
			}
		loop
		if ( var_466 == 0 ) {
			OpenProjectEx var_67(17), var_461, var_467, 0
			var_466 = stat
		}
		sdim var_467, 0
	}
	else {
		func_1 var_67(17), var_461
		var_466 = stat
	}
	if ( var_67(17) == 0 ) {
		var_474 = var_466
		if ( 0 ) {
			var_475++
		}
		if ( var_474 == 2 | var_475 ) {
			var_475 = 0
			vserrordialog 300, ""
			goto *label_285
			var_475++
		}
		if ( var_474 == 3 | var_475 ) {
			var_475 = 0
			vserrordialog 301, ""
			goto *label_285
			var_475++
		}
		if ( var_474 == 4 | var_475 ) {
			var_475 = 0
			vserrordialog 310, ""
			goto *label_285
			var_475++
		}
		if ( var_474 == 5 | var_475 ) {
			var_475 = 0
			vserrordialog 311, ""
			goto *label_285
			var_475++
		}
		if ( var_474 == 8 | var_475 ) {
			var_475 = 0
			vserrordialog 900, ""
			goto *label_285
			var_475++
		}
		if ( var_474 == 512 | var_475 ) {
			var_475 = 0
			vserrordialog 342, ""
			goto *label_285
		}
		if ( 1 ) {
			vserrordialog 910, "" + var_466
			goto *label_285
		}
*label_285
		sdim var_476, 0
		cleareditflg
		createnewproject
		var_392(8) = ""
		var_392(9) = ""
		setmainwindowtitle ""
		return
	}
	else {
		vsplay_init var_67(17), var_67(30), var_67(31)
	}
	if ( prm_1065 == 0 ) {
		ClearItemTable
		redraw 2
		drawprogress 0, tltx("解析中...", "Analyzing...")
		redraw 1
		var_477 = UpdateItemTable(var_67(17))
		sdim var_478, 260
		repeat
			var_479 = WaitUpdateItemTable(var_477, var_478)
			if ( (var_479 & 65536) == 0 ) {
				break
			}
			else {
				var_480 = var_479 & 65535
				redraw 2
				drawprogress var_480, getpath(var_478, 8) + " " + tltx("解析中...", "Analyzing...") + strf(" %d%%", var_480)
				redraw 1
			}
			vswait 5
		loop
		var_67(16) = 0
		var_67(22) = 0
		var_67(23) = 0
		var_67(143) = 50
		var_67(144) = 70
		var_67(145) = 0
		var_67(146) = 0
		var_67(269) = 0
		var_67(271) = 0
		deleteundofile
		addundodata
		cleareditflg
		closeidetab -1
		var_392(8) = var_461
		updatehistorymenu var_461
		setmainwindowtitle ""
	}
	else {
		var_481 = CheckItemTable(var_67(17))
		if ( var_481 != 0 ) {
			redraw 2
			drawprogress -1, tltx("解析中...", "Analyzing...")
			redraw 1
		}
		var_477 = UpdateItemTable(var_67(17))
		sdim var_478, 260
		repeat
			var_479 = WaitUpdateItemTable(var_477, var_478)
			if ( (var_479 & 65536) == 0 ) {
				break
			}
			else {
				if ( var_481 != 0 ) {
					var_480 = var_479 & 65535
					redraw 2
					drawprogress var_480, getpath(var_478, 8) + " " + tltx("解析中...", "Analyzing...") + strf(" %d%%", var_480)
					redraw 1
				}
			}
			vswait 5
		loop
		closedisabletab
		vsplay_seek var_67(17), var_464
		if ( var_465 == 1 ) {
			vsplay_play var_67(17)
		}
	}
	setmainalldrawflg
	setidealldrawflg
	return
*label_286
	goto *label_290
#deffunc exportprjwavefile int prm_1066, int prm_1067, int prm_1068, int prm_1069, int prm_1070
	if ( var_67(17) == 0 ) {
		return
	}
	gsel 6
	if ( vsplay_getstatus(var_67(17)) == 1 ) {
		vsplay_stop var_67(17)
	}
	if ( prm_1066 == 5 ) {
		GetPrjExpFormat var_67(17), var_482, var_483, var_484
		var_485 = GetPrjItem(var_67(17), prm_1067)
		GetII_waveFormat var_485, var_486, var_487, var_488, var_489
		SetPrjExpFormat var_67(17), var_487, var_488, var_489
	}
	var_490 = ""
	if ( prm_1066 == 256 ) {
		exportprjwavefile_option var_490, 1
		var_491 = var_490
		if ( strmid(var_491, -1, 1) != "\\" ) {
			var_491 += "\\"
		}
	}
	else {
		exportprjwavefile_option var_490, 0
	}
	if ( stat != 0 ) {
		if ( prm_1066 == 5 ) {
			SetPrjExpFormat var_67(17), var_482, var_483, var_484
		}
		return
	}
	if ( prm_1066 == 256 ) {
		var_492 = GetTrackNum(var_67(17))
		var_493 = 0
		var_494 = 0
		repeat var_492
			var_495 = cnt
			var_496(var_495) = func_8(var_67(17), var_495)
			if ( var_496(var_495) == 1 ) {
				var_493++
			}
			func_9 var_67(17), var_495, 0
		loop
		var_497 = ""
		repeat var_492
			var_495 = cnt
			if ( var_496(var_495) == 0 ) {
				continue
			}
			var_498 = vslib_gettrackname(var_67(17), var_495)
			var_499 = var_67(62)
			if ( 0 ) {
				var_500++
			}
			if ( var_499 == 0 | var_500 ) {
				var_500 = 0
				var_490 = var_491 + strf("%02d_%s.wav", var_495 + 1, var_498)
				goto *label_288
				var_500++
			}
			if ( var_499 == 1 | var_500 ) {
				var_500 = 0
				var_490 = var_491 + strf("%s.wav", var_498)
				goto *label_288
				var_500++
			}
			if ( var_499 == 2 | var_500 ) {
				var_500 = 0
				var_490 = var_491 + strf("%02d.wav", var_495 + 1)
				goto *label_288
			}
*label_288
			exist var_490
			if ( strsize >= 0 ) {
				var_497 += "\n" + var_490
			}
		loop
		if ( var_497 != "" ) {
			msgdialog tltx("以下のファイルは既に存在します。上書きしますか?", "The following file already exists. Do you want to overwrite it?") + var_497, 2
			if ( stat != 6 ) {
				return
			}
		}
	}
	else {
		var_492 = 1
	}
	repeat var_492
		if ( prm_1066 == 256 ) {
			var_495 = cnt
			if ( var_496(var_495) == 0 ) {
				continue
			}
			var_498 = vslib_gettrackname(var_67(17), var_495)
			var_499 = var_67(62)
			if ( 0 ) {
				var_500++
			}
			if ( var_499 == 0 | var_500 ) {
				var_500 = 0
				var_490 = var_491 + strf("%02d_%s.wav", var_495 + 1, var_498)
				goto *label_289
				var_500++
			}
			if ( var_499 == 1 | var_500 ) {
				var_500 = 0
				var_490 = var_491 + strf("%s.wav", var_498)
				goto *label_289
				var_500++
			}
			if ( var_499 == 2 | var_500 ) {
				var_500 = 0
				var_490 = var_491 + strf("%02d.wav", var_495 + 1)
				goto *label_289
			}
*label_289
			var_501 = strf(" [%d/%d]", var_494 + 1, var_493)
		}
		else {
			var_501 = ""
		}
		var_502 = 0
		var_503 = GetPrjItemNum(var_67(17))
		repeat var_503
			var_485 = GetPrjItem(var_67(17), cnt)
			var_504 = vslib_getii_filename(var_485)
			if ( var_504 == var_490 ) {
				var_502 = 1
				break
			}
		loop
		if ( var_502 == 1 ) {
			vserrordialog 312, ""
			if ( prm_1066 == 5 ) {
				SetPrjExpFormat var_67(17), var_482, var_483, var_484
			}
			return
		}
		gsel 6
		setmainwindowtitle tltx("Waveファイル出力中", "Exporting wave file") + var_501
		var_502 = 0
		var_505 = var_392(2) + "vstmp_" + var_67(2) + ".wav"
		sdim var_506, 256 + 20
		var_507(0) = prm_1066, 0, prm_1067, prm_1069, prm_1070
		if ( prm_1066 == 256 ) {
			repeat var_492
				func_9 var_67(17), cnt, 0
			loop
			func_9 var_67(17), var_495, 1
			var_507(0) = 1
		}
		ExportMixFileInit var_67(17), var_506, var_505, varptr(var_507)
		if ( stat != 0 ) {
			var_502 = 1
		}
		else {
			var_508 = GetTickCount()
			repeat
				ExportMixFileExp var_67(17), var_506, var_509, var_510
				if ( stat != 0 ) {
					var_502 = 1
					break
				}
				if ( var_67(198) == 1 ) {
					gsel 12
					redraw 2
					drawprogress var_509, tltx("Waveファイル出力中", "Exporting wave file") + var_501 + strf(" %d%%", var_509)
					redraw 1
				}
				gsel 6
				redraw 2
				drawprogress var_509, tltx("Waveファイル出力中", "Exporting wave file") + var_501 + strf(" %d%%", var_509)
				redraw 1
				waitobjectupdate
				if ( var_510 != 0 ) {
					break
				}
			loop
			if ( var_502 == 0 ) {
				var_511 = GetTickCount()
				AddLogData "Export:" + (var_511 - var_508) + "ms"
				ExportMixFileTerm var_67(17), var_506
				if ( stat != 0 ) {
					var_502 = 1
				}
			}
		}
		if ( var_502 == 1 ) {
			vserrordialog 313, ""
		}
		else {
			CopyFileA var_505, var_490, 0
			if ( stat == 0 ) {
				var_512 = GetLastError()
				vserrordialog 313, "" + var_512
				var_502 = 1
			}
		}
		exist var_505
		if ( strsize >= 0 ) {
			delete var_505
		}
		if ( prm_1066 != 256 ) {
			break
		}
		else {
			if ( var_502 == 1 ) {
				break
			}
			var_494++
		}
	loop
	if ( prm_1066 == 256 ) {
		repeat var_492
			var_495 = cnt
			func_9 var_67(17), var_495, var_496(var_495)
		loop
	}
	if ( prm_1066 == 5 ) {
		SetPrjExpFormat var_67(17), var_482, var_483, var_484
	}
	if ( prm_1068 != 0 ) {
		openwavewithextapp var_490
	}
	setmainwindowtitle ""
	setmainalldrawflg
	setidealldrawflg
	return
*label_290
	goto *label_292
#deffunc replacewavefile int prm_1071
	if ( var_67(17) == 0 ) {
		return
	}
	gsel 6
	if ( vsplay_getstatus(var_67(17)) == 1 ) {
		vsplay_stop var_67(17)
	}
	var_513 = GetPrjItem(var_67(17), prm_1071)
	var_514 = vslib_getii_filename(var_513)
	if ( getpath(var_514, 2 + 16) != ".wav" ) {
		vserrordialog 314, ""
		return
	}
	gsel 6
	setmainwindowtitle tltx("Waveファイル出力中...", "Exporting wave file...")
	var_515 = 0
	var_516 = var_392(2) + "vstmp_" + var_67(2) + ".wav"
	GetPrjExpFormat var_67(17), var_517, var_518, var_519
	var_513 = GetPrjItem(var_67(17), prm_1071)
	GetII_waveFormat var_513, var_520, var_521, var_522, var_523
	SetPrjExpFormat var_67(17), var_521, var_522, var_523
	sdim var_524, 256 + 20
	var_525(0) = 0, 0, prm_1071, 0, 0
	ExportMixFileInit var_67(17), var_524, var_516, varptr(var_525)
	if ( stat != 0 ) {
		var_515 = 1
	}
	else {
		var_526 = GetTickCount()
		repeat
			ExportMixFileExp var_67(17), var_524, var_527, var_528
			if ( stat != 0 ) {
				var_515 = 1
				break
			}
			if ( var_67(198) == 1 ) {
				gsel 12
				redraw 2
				drawprogress var_527, tltx("Waveファイル出力中", "Exporting wave file...") + strf(" %d%%", var_527)
				redraw 1
			}
			gsel 6
			redraw 2
			drawprogress var_527, tltx("Waveファイル出力中", "Exporting wave file...") + strf(" %d%%", var_527)
			redraw 1
			waitobjectupdate
			if ( var_528 != 0 ) {
				break
			}
		loop
		if ( var_515 == 0 ) {
			var_529 = GetTickCount()
			AddLogData "Export:" + (var_529 - var_526) + "ms"
			ExportMixFileTerm var_67(17), var_524
			if ( stat != 0 ) {
				var_515 = 1
			}
		}
	}
	if ( var_515 == 1 ) {
		vserrordialog 313, ""
	}
	else {
		CopyFileA var_516, var_514, 0
		if ( stat == 0 ) {
			var_530 = GetLastError()
			vserrordialog 313, "" + var_530
		}
	}
	exist var_516
	if ( strsize >= 0 ) {
		delete var_516
	}
	SetPrjExpFormat var_67(17), var_517, var_518, var_519
	setmainwindowtitle ""
	setmainalldrawflg
	setidealldrawflg
	return
*label_292
	goto *label_298
#deffunc exportprjwavefile_option var prm_1072, int prm_1073
	var_531 = prm_1073
	if ( var_67(17) == 0 ) {
		return
	}
	if ( var_531 == 0 ) {
		var_532 = 130
	}
	else {
		var_532 = 158
	}
	screen_nomin 13, 480, var_532, 2 | 4
	title tltx("Waveファイル出力", "Export wave file")
	syscolor 15
	boxf
	sdim var_533, 256
	if ( prm_1072 == "" ) {
		if ( var_531 == 0 ) {
			var_533 = var_392(9)
		}
		else {
			var_533 = var_392(10)
		}
	}
	else {
		var_533 = prm_1072
	}
	GetPrjExpFormat var_67(17), var_534, var_535, var_536
	var_536--
	var_537 = 6
	var_538(0) = 8, 16, 24, 32, 256 + 32, 256 + 64
	var_539 = "8bit\n16bit\n24bit\n32bit\n" + tltx("32bit浮動小数点\n64bit浮動小数点", "32bit floating point\n64bit floating point")
	var_540 = var_534 * 256 + var_535
	var_541 = 1
	repeat var_537
		if ( var_540 == var_538(cnt) ) {
			var_541 = cnt
		}
	loop
	var_542 = 10
	syscolor 8
	setfont_normal
	objmode 2
	pos 10, var_542 + 4
	if ( var_531 == 0 ) {
		mes tltx("ファイル名", "File name")
	}
	else {
		mes tltx("フォルダ名", "Folder name")
	}
	pos 100, var_542
	objsize 280, 22
	input var_533
	var_543 = stat
	pos 390, var_542
	objsize 80, 22
	button gosub tltx("参照", "Browse"), *label_297
	var_542 += 28
	if ( var_531 == 1 ) {
		pos 10, var_542 + 4
		mes tltx("ファイル名", "File name")
		pos 100, var_542
		objsize 200, 22
		combox var_67(62), 100, tltx("[トラック番号]_[トラック名].wav\n[トラック名].wav\n[トラック番号].wav", "[Track number]_[Track name].wav\n[Track name].wav\n[Track number].wav")
		var_542 += 28
	}
	pos 10, var_542 + 4
	mes tltx("ビット数", "Bit depth")
	pos 100, var_542
	objsize 120, 22
	combox var_541, 100, var_539
	var_542 += 28
	pos 10, var_542 + 4
	mes tltx("チャンネル", "Channel")
	pos 100, var_542
	objsize 120, 22
	combox var_536, 100, tltx("モノラル\nステレオ", "Monaural\nStereo")
	var_542 += 28
	var_542 += 5
	objsize 80, 22
	pos 300, var_542
	button gosub tltx("OK", "OK"), *label_295
	var_544 = stat
	pos 390, var_542
	button gosub tltx("キャンセル", "Cancel"), *label_294
	objsel var_544
	waitobjectupdate
	gsel 13, 2
	var_545 = -1
	var_546 = 0
	if ( var_533 == "" & var_531 == 0 ) {
		var_547 = 1
		gosub *label_297
		var_547 = 0
	}
	onkey gosub *label_296
	repeat
		gsel 13
		var_548 = var_546
		var_546 = getkeyflg(27)
		if ( var_67(20) == 13 ) {
			var_67(20) = 0
			var_545 = 1
		}
		if ( getactivewindow() == 13 & var_548 == 0 & var_546 == 1 ) {
			var_545 = 1
		}
		if ( var_545 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	onkey 0
	gsel 13, -1
	gsel 6
	if ( var_545 == 0 ) {
		var_540 = var_538(limit(var_541, 0, var_537 - 1))
		var_534 = var_540 / 256
		var_535 = var_540 \ 256
		SetPrjExpFormat var_67(17), var_534, var_535, var_536 + 1
		prm_1072 = var_533
		if ( var_531 == 0 ) {
			var_392(9) = var_533
		}
		else {
			var_392(10) = var_533
		}
	}
	return var_545
*label_294
	var_545 = 1
	return
*label_295
	if ( var_533 == "" ) {
		if ( var_531 == 0 ) {
			msgdialog tltx("ファイル名を指定してください。", "Specify the file name.")
		}
		else {
			msgdialog tltx("フォルダ名を指定してください。", "Specify the folder name.")
		}
		return
	}
	if ( var_531 == 0 ) {
		if ( getpath(var_533, 2 + 16) != ".wav" ) {
			var_533 += ".wav"
		}
	}
	objprm var_543, var_533
	if ( var_531 == 0 ) {
		exist var_533
		if ( strsize >= 0 ) {
			msgdialog var_533 + tltx("は既に存在します。\n上書きしますか?", " already exists. \nDo you want to overwrite it?"), 2
			if ( stat != 6 ) {
				return
			}
		}
	}
	var_545 = 0
	return
*label_296
	if ( iparam == 13 & getactivewindow() == 13 ) {
		objsel -1
		if ( stat == var_543 ) {
			gosub *label_295
		}
	}
	return
*label_297
	sdim var_549, 256
	if ( var_531 == 0 ) {
		var_550 = tltx("Waveファイル(*.wav)\n*.wav\nすべてのファイル(*.*)\n*.*", "Wave files(*.wav)\n*.wav\nAll files(*.*)\n*.*")
		fileselectdialog var_549, 1, var_550, "", "", "", 0
		if ( stat == (-1) ) {
			if ( var_547 == 1 ) {
				var_545 = 1
			}
			return
		}
	}
	else {
		folderselectdialog var_549, ""
		if ( var_549 == "" ) {
			if ( var_547 == 1 ) {
				var_545 = 1
			}
			return
		}
	}
	getstr var_549, var_549
	var_533 = var_549
	if ( var_531 == 0 ) {
		if ( getpath(var_533, 2 + 16) != ".wav" ) {
			var_533 += ".wav"
		}
	}
	objprm var_543, var_533
	return
*label_298
	goto *label_300
#deffunc openwavewithextapp str prm_1074
	if ( var_392(6) == "" ) {
		vserrordialog 343, ""
	}
	else {
		exist var_392(6)
		if ( strsize < 0 ) {
			vserrordialog 343, ""
		}
		else {
			var_551 = dirinfo(0)
			chdir getpath(var_392(6), 32)
			var_552 = getpath(var_392(6), 8)
			var_553 = " "
			var_554 = "\""
			var_552 += var_553 + var_554 + prm_1074 + var_554
			exec var_552
			chdir var_551
		}
	}
	return
*label_300
	goto *label_303
#deffunc bounceitemnew
	if ( var_67(17) == 0 ) {
		return
	}
	var_555 = GetPrjItemNum(var_67(17))
	var_556 = 0
	repeat var_555
		if ( getitemselflg(cnt) == 1 ) {
			var_556++
		}
	loop
	if ( var_556 == 0 ) {
		return
	}
	if ( var_556 != 1 ) {
		vserrordialog 315, ""
		return
	}
	repeat var_555
		if ( getitemselflg(cnt) == 1 ) {
			exportprjwavefile 5, cnt, 0
		}
	loop
	return
#deffunc bounceitemrep
	if ( var_67(17) == 0 ) {
		return
	}
	var_555 = GetPrjItemNum(var_67(17))
	if ( var_555 == 1024 ) {
		vserrordialog 400, ""
		return
	}
	var_555 = GetPrjItemNum(var_67(17))
	var_556 = 0
	repeat var_555
		if ( getitemselflg(cnt) == 1 ) {
			var_556++
		}
	loop
	if ( var_556 == 0 ) {
		return
	}
	var_557 = tltx("選択されているアイテムをWaveファイルに上書き出力し、\n", "The wave file will be overwritten.\n")
	var_557 += tltx("Waveファイルを再読み込みします。\n", "")
	var_557 += tltx("この操作は元に戻せません。続行しますか?", "This operation can not be undone. \nDo you want to continue?")
	msgdialog var_557, 2
	if ( stat != 6 ) {
		return
	}
	repeat var_555
		if ( getitemselflg(cnt) == 1 ) {
			replacewavefile cnt
		}
	loop
	reloadsndfile 3
	return
*label_303
	goto *label_307
#deffunc checkprojectvolume
	if ( var_67(17) == 0 ) {
		return
	}
	if ( vsplay_getstatus(var_67(17)) == 1 ) {
		vsplay_stop var_67(17)
	}
	gsel 6
	setmainwindowtitle tltx("最大音量計測中...", "Checking maximum volume...")
	redraw 2
	drawprogress -1, tltx("最大音量計測中...", "Checking maximum volume...")
	redraw 1
	var_558(0) = 0, 0, 0, 0, 0
	var_559 = 0.0
	CheckMixVolume var_67(17), varptr(var_558), var_559, var_560
	gsel 6
	setmainwindowtitle ""
	redraw 2
	drawprogress -1, ""
	redraw 1
	sdim var_561
	if ( var_559 == 0.0 ) {
		var_561 = "-inf"
	}
	else {
		var_561 = strf("%4.2f", 20.0 * logf(var_559) / logf(10.0))
	}
	var_562 = tltx("最大音量 : ", "Maximum volume : ") + var_561 + "dB\n"
	var_562 += tltx("最大音量位置(M:S.MS) : ", "Position(M:S.MS) : ") + timesmptostr(var_560, 0)
	screen_nomin 18, 320, 110, 2 | 4
	title tltx("最大音量計測", "Check maximum volume")
	syscolor 15
	boxf
	setfont_normal
	objmode 2
	pos 10, 10
	mesbox var_562, 300, 60, 0
	objsize 160, 22
	pos 10, 80
	button gosub tltx("最大音量位置にジャンプ", "Jump to maximum volume position"), *label_306
	objsize 80, 22
	pos 230, 80
	button gosub tltx("閉じる", "Close"), *label_305
	waitobjectupdate
	gsel 18, 2
	var_563 = -1
	var_564 = 0
	repeat
		gsel 18
		var_565 = var_564
		var_564 = getkeyflg(27)
		if ( var_67(20) == 18 ) {
			var_67(20) = 0
			var_563 = 1
		}
		if ( getactivewindow() == 18 & var_565 == 0 & var_564 == 1 ) {
			var_563 = 1
		}
		if ( var_563 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 18, -1
	gsel 6
	if ( var_563 == 0 ) {
		var_566 = GetPrjSampFreq(var_67(17))
		vsplay_seek var_67(17), int(double(var_560) / var_566 * 1000.0)
		var_67(96) = 1
		setmtiautoscrollrequest
		var_67(179) = 1
		setideautoscrollrequest
	}
	setmainalldrawflg
	return
*label_305
	var_563 = 1
	return
*label_306
	var_563 = 0
	return
*label_307
	goto *label_312
#deffunc setprojectsettings
	if ( var_67(17) == 0 ) {
		return
	}
	var_567 = GetPrjItemNum(var_67(17))
	screen_nomin 13, 320, 270, 2 | 4
	title tltx("プロジェクト設定", "Project settings")
	syscolor 15
	boxf
	var_568 = GetPrjSampFreq(var_67(17))
	GetPrjExpFormat var_67(17), var_569, var_570, var_571
	var_572 = var_569 * 256 + var_570
	var_571--
	var_573 = GetPrjMeasure(var_67(17))
	var_574 = GetPrjMeasBase(var_67(17))
	var_575 = vslib_getprjtempo(var_67(17))
	var_576 = strf("%4.2f", var_575)
	var_577 = GetPrjSaveOption(var_67(17))
	var_578 = 6
	var_579(0) = 8, 16, 24, 32, 256 + 32, 256 + 64
	var_580 = "8bit\n16bit\n24bit\n32bit\n" + tltx("32bit浮動小数点\n64bit浮動小数点", "32bit floating point\n64bit floating point")
	var_581 = 1
	repeat var_578
		if ( var_572 == var_579(cnt) ) {
			var_581 = cnt
		}
	loop
	var_582 = 14
	var_583(0) = 11025, 12000, 16000, 22050, 24000, 32000, 44100, 48000, 88200, 96000, 176400, 192000, 352800, 384000
	var_584 = "11025Hz\n12000Hz\n16000Hz\n22050Hz\n24000Hz\n32000Hz\n44100Hz\n48000Hz\n88200Hz\n96000Hz\n176400Hz\n192000Hz\n352800Hz\n384000Hz"
	var_585 = 2
	repeat var_582
		if ( var_568 == var_583(cnt) ) {
			var_585 = cnt
		}
	loop
	repeat 6
		if ( var_574 == 1 << cnt ) {
			var_586 = cnt
		}
	loop
	var_587 = 10
	syscolor 8
	setfont_normal
	objmode 2
	pos 10, var_587 + 4
	mes tltx("サンプリング周波数", "Sampling frequency")
	if ( var_567 == 0 ) {
		pos 190, var_587
		objsize 120, 22
		combox var_585, 100, var_584
		pos 265, var_587 + 4
		mes "Hz"
	}
	else {
		pos 190, var_587 + 4
		mes strf("%dHz", var_568)
	}
	var_587 += 28
	pos 20, var_587 + 4
	mes tltx("※アイテム追加前のみ変更できます", "Can be changed before an item is added.")
	var_587 += 28
	pos 10, var_587 + 4
	mes tltx("Waveファイル出力ビット数", "Bit depth")
	pos 190, var_587
	objsize 120, 22
	combox var_581, 100, var_580
	var_587 += 28
	pos 10, var_587 + 4
	mes tltx("Waveファイル出力チャンネル", "Channel")
	pos 190, var_587
	objsize 120, 22
	combox var_571, 100, tltx("モノラル\nステレオ", "Monaural\nStereo")
	var_587 += 28
	pos 10, var_587 + 4
	mes tltx("テンポ", "Tempo")
	pos 190, var_587
	objsize 60, 22
	input var_576
	var_588 = stat
	pos 255, var_587 + 4
	mes tltx("BPM", "BPM")
	var_587 += 28
	pos 10, var_587 + 4
	mes tltx("1小節の拍数", "Beats per measure")
	pos 190, var_587
	objsize 60, 22
	input var_573
	var_589 = stat
	var_587 += 28
	pos 10, var_587 + 4
	mes tltx("基準音符", "Base note")
	pos 190, var_587
	objsize 60, 22
	combox var_586, 100, "1\n2\n4\n8\n16\n32"
	var_587 += 28
	pos 10, var_587 + 4
	mes tltx("音声ファイルのパス", "Sound file path")
	pos 190, var_587
	objsize 120, 22
	combox var_577, 100, tltx("絶対パス\n相対パス", "Absolute path\nRelative path")
	var_587 += 28
	var_587 += 5
	objsize 80, 22
	pos 140, var_587
	button gosub tltx("OK", "OK"), *label_310
	var_590 = stat
	pos 230, var_587
	button gosub tltx("キャンセル", "Cancel"), *label_309
	objsel var_590
	waitobjectupdate
	gsel 13, 2
	var_591 = -1
	var_592 = 0
	onkey gosub *label_311
	repeat
		gsel 13
		var_593 = var_592
		var_592 = getkeyflg(27)
		if ( var_67(20) == 13 ) {
			var_67(20) = 0
			var_591 = 1
		}
		if ( getactivewindow() == 13 & var_593 == 0 & var_592 == 1 ) {
			var_591 = 1
		}
		if ( var_591 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	onkey 0
	gsel 13, -1
	gsel 6
	if ( var_591 == 0 ) {
		var_594 = var_568
		var_572 = var_579(limit(var_581, 0, var_578 - 1))
		var_568 = var_583(limit(var_585, 0, var_582 - 1))
		var_569 = var_572 / 256
		var_570 = var_572 \ 256
		if ( var_567 == 0 ) {
			SetPrjSampFreq var_67(17), var_568
		}
		SetPrjExpFormat var_67(17), var_569, var_570, var_571 + 1
		SetPrjTempo var_67(17), limitf(double(var_576), 10.0, 1000.0)
		SetPrjMeasure var_67(17), limit(var_573, 1, 32)
		SetPrjMeasBase var_67(17), limit(1 << var_586, 1, 32)
		SetPrjSaveOption var_67(17), limit(var_577, 0, 1)
		if ( var_568 != var_594 ) {
			vsplay_exit var_67(17)
			vsplay_init var_67(17), var_67(30), var_67(31)
		}
		oneditproject
	}
	setmainalldrawflg
	setidealldrawflg
	return
*label_309
	var_591 = 1
	return
*label_310
	var_591 = 0
	return
*label_311
	if ( iparam == 13 & getactivewindow() == 13 ) {
		objsel -1
		if ( stat == var_588 ) {
			gosub *label_310
		}
		if ( stat == var_589 ) {
			gosub *label_310
		}
	}
	return
*label_312
	goto *label_316
#deffunc seteditflg
	var_67(19) = 1
	return
#deffunc cleareditflg
	var_67(19) = 0
	return
#defcfunc geteditflg
	return var_67(19)
*label_316
	goto *label_325
#defcfunc getundoflg
	var_595 = 0
	if ( var_67(17) != 0 & var_596 > var_597 ) {
		var_595 = 1
	}
	return var_595
#defcfunc getredoflg
	var_595 = 0
	if ( var_67(17) != 0 & var_596 + 1 < var_597 + var_598 ) {
		var_595 = 1
	}
	return var_595
#defcfunc getundofilename int prm_1075
	return var_392(2) + "vstmp_" + var_67(2) + "_" + prm_1075 \ 20 + ".vshp"
#defcfunc getundofilename_t int prm_1076, int prm_1077
	return var_392(2) + "vstmp_" + prm_1076 + "_" + prm_1077 \ 20 + ".vshp"
#deffunc deleteundofile
	var_597 = 0
	var_598 = 0
	var_596 = -1
	repeat 20
		var_599 = getundofilename(cnt)
		exist var_599
		if ( strsize >= 0 ) {
			delete var_599
		}
	loop
	return
#deffunc addundodata
	if ( var_67(17) != 0 ) {
		var_596++
		var_599 = getundofilename(var_596)
		saveproject var_599, 1
		var_598 = var_596 + 1 - var_597
		if ( var_598 > 20 ) {
			var_597++
			var_598--
		}
		if ( var_597 >= 20 ) {
			var_597 -= 20
			var_596 -= 20
		}
		updatemainwindowmenu
		updateidewindowmenu
	}
	return
#deffunc undoproject
	if ( var_67(17) != 0 ) {
		if ( var_596 > var_597 ) {
			var_596--
			var_599 = getundofilename(var_596)
			openproject var_599, 1
			seteditflg
			updatemainwindowmenu
			updateidewindowmenu
		}
	}
	return
#deffunc redoproject
	if ( var_67(17) != 0 ) {
		if ( var_596 + 1 < var_597 + var_598 ) {
			var_596++
			var_599 = getundofilename(var_596)
			openproject var_599, 1
			seteditflg
			updatemainwindowmenu
			updateidewindowmenu
		}
	}
	return
*label_325
	goto *label_327
#deffunc oneditproject
	addundodata
	seteditflg
	var_600 = CheckItemTable(var_67(17))
	if ( var_600 != 0 ) {
		redraw 2
		drawprogress -1, tltx("解析中...", "Analyzing...")
		redraw 1
	}
	var_601 = UpdateItemTable(var_67(17))
	sdim var_602, 260
	repeat
		var_603 = WaitUpdateItemTable(var_601, var_602)
		if ( (var_603 & 65536) == 0 ) {
			break
		}
		else {
			if ( var_600 != 0 ) {
				var_604 = var_603 & 65535
				if ( var_67(198) == 1 ) {
					gsel 12
					redraw 2
					drawprogress var_604, getpath(var_602, 8) + " " + tltx("解析中...", "Analyzing...") + strf(" %d%%", var_604)
					redraw 1
				}
				gsel 6
				redraw 2
				drawprogress var_604, getpath(var_602, 8) + " " + tltx("解析中...", "Analyzing...") + strf(" %d%%", var_604)
				redraw 1
			}
		}
		vswait 5
	loop
	if ( var_600 != 0 ) {
		setmainalldrawflg
		setidealldrawflg
	}
	return
*label_327
	goto *label_331
#deffunc getfilewritetime str prm_1094, array prm_1095
	var_605 = func_23(prm_1094, -2147483648, 1, 0, 3, 128, 0)
	if ( var_605 != (-1) ) {
		dim var_606, 4
		GetFileTime var_605, 0, 0, varptr(var_606)
		func_24 var_605
		dim var_607, 4
		FileTimeToLocalFileTime varptr(var_606), varptr(var_607)
		dim var_608, 4
		FileTimeToSystemTime varptr(var_607), varptr(var_608)
		repeat 8
			prm_1095(cnt) = wpeek(var_608, cnt * 2)
		loop
	}
	return
#defcfunc cnvtimestr array prm_1096
	return strf("%04d/%02d/%02d %02d:%02d:%02d", prm_1096(0), prm_1096(1), prm_1096(3), prm_1096(4), prm_1096(5), prm_1096(6))
#defcfunc chktime array prm_1097, array prm_1098
	var_609 = cnvtimestr(prm_1097)
	var_610 = cnvtimestr(prm_1098)
	var_611 = strlen(var_609)
	var_612 = 0
	repeat var_611
		var_613 = peek(var_609, cnt)
		var_614 = peek(var_610, cnt)
		if ( var_613 > var_614 ) {
			var_612 = 1
			break
		}
		if ( var_614 > var_613 ) {
			var_612 = 2
			break
		}
	loop
	return var_612
*label_331
	goto *label_337
#deffunc vssetting
	screen_nomin 20, 640, 20 + 28 * 16, 2 | 4
	title tltx("設定", "Settings")
	syscolor 15
	boxf
	var_615 = var_67(30)
	var_616 = var_67(31)
	var_617 = var_67(44)
	var_618 = var_67(47)
	var_619 = var_67(32)
	var_620 = var_67(34)
	var_621 = var_67(35)
	var_622 = var_67(36)
	var_623 = var_67(37) + 1
	var_624 = var_67(197)
	var_625 = var_67(39)
	var_626 = var_67(40)
	var_627 = var_67(41)
	var_628 = var_67(42)
	var_629 = var_67(43)
	var_630 = var_67(45)
	var_631 = var_67(46)
	var_632 = var_67(48)
	var_633 = var_67(49)
	var_634 = var_67(50)
	var_635 = var_67(51)
	var_636 = var_67(52)
	var_637 = limit(var_67(57) - 1, 0, 1)
	var_638 = var_637
	sdim var_639, 256
	var_639 = var_392(6)
	vsplay_getdevname var_640
	var_641 = getmidiindevnum()
	sdim var_642, 1024
	var_642 = tltx("使用しない\n", "Do not use\n")
	repeat var_641
		var_642 += getmidiindevname(cnt) + "\n"
	loop
	getmididevnum
	var_643 = stat
	sdim var_644, 1024
	var_644 = tltx("使用しない\n", "Do not use\n")
	repeat var_643
		getmididevname cnt
		var_644 += refstr + "\n"
	loop
	var_645 = var_67(61)
	if ( 0 ) {
		var_646++
	}
	if ( var_645 == 150 | var_646 ) {
		var_646 = 0
		var_647 = 1
		goto *label_333
		var_646++
	}
	if ( var_645 == 200 | var_646 ) {
		var_646 = 0
		var_647 = 2
		goto *label_333
		var_646++
	}
	if ( var_645 == 250 | var_646 ) {
		var_646 = 0
		var_647 = 3
		goto *label_333
		var_646++
	}
	if ( var_645 == 300 | var_646 ) {
		var_646 = 0
		var_647 = 4
		goto *label_333
	}
	if ( 1 ) {
		var_647 = 0
		goto *label_333
	}
*label_333
	syscolor 8
	setfont_normal
	objmode 2
	var_648 = 0
	var_649 = 10
	var_650 = 28
	pos var_648 + 10, var_649 + 4
	mes tltx("【再生】", "[Playback]")
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("再生デバイス", "Device")
	pos var_648 + 130, var_649
	objsize 180, 22
	combox var_615, 100, var_640
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("Waveバッファサイズ", "Buffer size")
	pos var_648 + 130, var_649
	objsize 60, 22
	input var_616
	pos var_648 + 195, var_649 + 4
	mes "ms"
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("再生位置移動量", "Seek time")
	pos var_648 + 130, var_649
	objsize 60, 22
	input var_619
	pos var_648 + 195, var_649 + 4
	mes "ms"
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("メトロノーム", "Metronome"), var_651
	pos var_648 + 130, var_649
	objsize 80, 22
	combox var_620, 100, "Sin wave\nBeep\nClick"
	pos var_648 + 220, var_649
	objsize 60, 22
	input var_621
	pos var_648 + 285, var_649 + 4
	mes "dB"
	var_649 += var_650
	pos var_648 + 10, var_649 + 4
	mes tltx("【表示】", "[View]")
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("音階表示形式", "Scale format")
	pos var_648 + 130, var_649
	objsize 80, 22
	combox var_622, 100, tltx("A4\nラ4\nhiA", "A4\nLa4\nhiA")
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("画面更新頻度", "Re-draw rate")
	pos var_648 + 130, var_649
	objsize 80, 22
	combox var_623, 100, tltx("最高\n高\n中\n低", "Highest\nHigh\nNormal\nLow")
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("PITグリッド", "PIT Grid")
	pos var_648 + 130, var_649
	objsize 180, 22
	combox var_624, 100, tltx("0cent\nノート編集時のみ±50cent\n±50cent", "0cent\n50cents when note editing\n50cents")
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	objsize 280, 22
	chkbox tltx("ノート編集ツール以外のツールでノートを表示する", "Display notes in all the tools"), var_627
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("グラフの線幅", "Line width")
	pos var_648 + 130, var_649
	objsize 120, 22
	combox var_628, 100, tltx("1\n2\n3\n1.0(高品質)\n1.5(高品質)\n2.0(高品質)\n2.5(高品質)\n3.0(高品質)", "1\n2\n3\n1.0(High quality)\n1.5(High quality)\n2.0(High quality)\n2.5(High quality)\n3.0(High quality)")
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("オートスクロール", "Auto scroll")
	pos var_648 + 130, var_649
	objsize 180, 22
	combox var_629, 100, tltx("1ページごとにスクロール\n1小節ごとにスクロール\n常に中央にスクロール", "Each page\nEach measure\nAlways")
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("言語", "Language")
	pos var_648 + 130, var_649
	objsize 180, 22
	combox var_637, 100, "Japanese/日本語\nEnglish/英語"
	var_649 += var_650
	pos var_648 + 10, var_649 + 4
	mes tltx("【編集】", "[Editing]")
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	objsize 240, 22
	chkbox tltx("*PIT変更時にPITを初期化する", "Initialize PIT by *PIT is changed"), var_625
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	objsize 240, 22
	chkbox tltx("チルトホイール対応", "Tilt wheel"), var_626
	var_649 += var_650
	var_648 = 320
	var_649 = 10
	pos var_648 + 10, var_649 + 4
	mes tltx("【同期】", "[Synchronize]")
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("MTCスレーブ", "MTC slave")
	pos var_648 + 130, var_649
	objsize 180, 22
	combox var_617, 100, var_642
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("フレームレート", "Framerate")
	pos var_648 + 130, var_649
	objsize 80, 22
	combox var_630, 100, "30fps\n25fps\n24fps"
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("補正", "Correction")
	objsize 50, 22
	pos var_648 + 130, var_649
	input var_631
	pos var_648 + 185, var_649 + 4
	mes "ms"
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("MTCマスター", "MTC master")
	pos var_648 + 130, var_649
	objsize 180, 22
	combox var_618, 100, var_644
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("フレームレート", "Frame rate")
	pos var_648 + 130, var_649
	objsize 80, 22
	combox var_632, 100, "30fps\n25fps\n24fps"
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("補正", "Correction")
	objsize 50, 22
	pos var_648 + 130, var_649
	input var_633
	pos var_648 + 185, var_649 + 4
	mes "ms"
	var_649 += var_650
	pos var_648 + 10, var_649 + 4
	mes tltx("【拡張機能】", "[Extension]")
	var_649 += var_650
	pos var_648 + 20, var_649
	objsize 240, 22
	chkbox tltx("解析時に解析設定を表示する", "Display analyze settings dialog"), var_635
	var_649 += var_650
	pos var_648 + 20, var_649
	objsize 290, 22
	chkbox tltx("アイテム追加時に音声合成方式設定を表示する", "Display Synthesize method settings dialog"), var_636
	var_649 += var_650
	pos var_648 + 20, var_649
	objsize 240, 22
	chkbox tltx("ユーザ定義音律を使用する", "Enable user-defined temperament"), var_634
	var_649 += var_650
	pos var_648 + 10, var_649 + 4
	mes tltx("【その他】", "[Other]")
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("スクロール速度", "Scroll speed")
	pos var_648 + 130, var_649
	objsize 80, 22
	combox var_647, 100, "100%\n150%\n200%\n250%\n300%"
	var_649 += var_650
	pos var_648 + 20, var_649 + 4
	mes tltx("Waveファイルを開く外部アプリケーション", "External application for opening wave files")
	var_649 += var_650
	objsize 200, 22
	pos var_648 + 20, var_649
	input var_639
	var_652 = stat
	objsize 80, 22
	pos var_648 + 230, var_649
	button gosub tltx("参照", "Browse"), *label_336
	var_649 += var_650
	var_649 += 5
	objsize 80, 22
	pos var_648 + 140, var_649
	button gosub tltx("OK", "OK"), *label_335
	var_653 = stat
	pos var_648 + 230, var_649
	button gosub tltx("キャンセル", "Cancel"), *label_334
	objsel var_653
	waitobjectupdate
	gsel 20, 2
	var_654 = -1
	repeat
		gsel 20
		var_655 = var_656
		var_656 = getkeyflg(27)
		if ( var_67(20) == 20 ) {
			var_67(20) = 0
			var_654 = 1
		}
		if ( getactivewindow() == 20 & var_655 == 0 & var_656 == 1 ) {
			var_654 = 1
		}
		if ( var_654 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 20, -1
	gsel 6
	if ( var_654 == 0 ) {
		if ( var_615 != var_67(30) | var_616 != var_67(31) ) {
			var_657 = vsplay_getnumdevs()
			var_67(30) = limit(var_615, 0, var_657 - 1)
			var_67(31) = limit(var_616, 50, 1000)
			if ( var_67(17) != 0 ) {
				var_658 = vsplay_getpos(var_67(17))
				vsplay_exit var_67(17)
				vsplay_init var_67(17), var_67(30), var_67(31)
				vsplay_seek var_67(17), var_658
			}
		}
		if ( var_617 != var_67(44) ) {
			if ( var_67(44) != 0 ) {
				midiinstop
				midiinclose
			}
			var_67(44) = var_617
			if ( var_67(44) != 0 ) {
				var_641 = getmidiindevnum()
				if ( var_67(44) - 1 < var_641 ) {
					midiinopen var_67(44) - 1, GetMidiInProcPtr()
					if ( stat != 0 ) {
						vserrordialog 201, ""
						var_67(44) = 0
					}
					else {
						midiinstart
					}
				}
				else {
					vserrordialog 201, ""
					var_67(44) = 0
				}
			}
		}
		if ( var_618 != var_67(47) ) {
			if ( var_67(47) != 0 ) {
				midiclose
			}
			var_67(47) = var_618
			if ( var_67(47) != 0 ) {
				getmididevnum
				var_643 = stat
				if ( var_67(47) - 1 < var_643 ) {
					midiopen var_67(47) - 1
					if ( stat != 0 ) {
						vserrordialog 200, ""
						var_67(47) = 0
					}
				}
				else {
					vserrordialog 200, ""
					var_67(47) = 0
				}
			}
		}
		var_67(32) = limit(var_619, 100, 30000)
		var_67(34) = var_620
		var_67(35) = limit(var_621, -100, 0)
		var_67(36) = var_622
		var_67(37) = var_623 - 1
		var_67(197) = var_624
		var_67(39) = var_625
		var_67(40) = var_626
		var_67(41) = var_627
		var_67(42) = var_628
		var_67(43) = var_629
		var_67(45) = var_630
		var_67(46) = var_631
		var_67(48) = var_632
		var_67(49) = var_633
		var_67(50) = var_634
		var_67(51) = var_635
		var_67(52) = var_636
		var_67(57) = var_637 + 1
		var_392(6) = var_639
		var_659(0) = 100, 150, 200, 250, 300
		var_67(61) = var_659(limit(var_647, 0, 4))
		setmainalldrawflg
		setidealldrawflg
		if ( var_637 != var_638 ) {
			msgdialog "Language setting is applied after restart VocalShifter.\n言語設定は再起動後に適用されます。"
		}
	}
	return
*label_334
	var_654 = 1
	return
*label_335
	var_654 = 0
	return
*label_336
	var_660 = tltx("アプリケーション(*.exe)\n*.exe\nすべてのファイル(*.*)\n*.*", "Application(*.exe)\n*.exe\nAll files(*.*)\n*.*")
	fileselectdialog var_661, 0, var_660, "", "", "", 0
	if ( stat == (-1) ) {
		return
	}
	getstr var_661, var_661
	var_639 = var_661
	objprm var_652, var_639
	return
*label_337
	goto *label_341
#deffunc vsscrollsetting
	var_662 = 190
	if ( var_67(40) == 1 ) {
		var_662 += 140
	}
	screen_nomin 20, 370, var_662, 2 | 4
	title "スクロール設定"
	syscolor 15
	boxf
	dim var_663, 8
	dim var_664, 8
	dim var_665, 8
	if ( var_67(40) == 0 ) {
		var_666 = var_67(103)
	}
	else {
		var_666 = var_67(104)
	}
	repeat 8
		var_663(cnt) = var_666 >> 4 * cnt + 0 & 1
		var_664(cnt) = var_666 >> 4 * cnt + 1 & 1
		var_665(cnt) = var_666 >> 4 * cnt + 2 & 1
	loop
	var_667 = 10
	syscolor 8
	setfont_normal
	objmode 2
	repeat 2
		if ( cnt == 0 ) {
			pos 10, var_667 + 4
			mes tltx("ホイール", "Wheel")
		}
		else {
			pos 10, var_667 + 4
			mes tltx("チルトホイール", "Tilt wheel")
		}
		var_667 += 28
		pos 20, var_667 + 4
		mes tltx("横にスクロール", "Horizontal scrolling")
		pos 150, var_667
		chkbox "Alt", var_663(cnt * 4 + 0)
		pos 220, var_667
		chkbox "Ctrl", var_664(cnt * 4 + 0)
		pos 290, var_667
		chkbox "Shift", var_665(cnt * 4 + 0)
		var_667 += 28
		pos 20, var_667 + 4
		mes tltx("横に拡大縮小", "Horizontal zoom")
		pos 150, var_667
		chkbox "Alt", var_663(cnt * 4 + 1)
		pos 220, var_667
		chkbox "Ctrl", var_664(cnt * 4 + 1)
		pos 290, var_667
		chkbox "Shift", var_665(cnt * 4 + 1)
		var_667 += 28
		pos 20, var_667 + 4
		mes tltx("縦にスクロール", "Vertical scrolling")
		pos 150, var_667
		chkbox "Alt", var_663(cnt * 4 + 2)
		pos 220, var_667
		chkbox "Ctrl", var_664(cnt * 4 + 2)
		pos 290, var_667
		chkbox "Shift", var_665(cnt * 4 + 2)
		var_667 += 28
		pos 20, var_667 + 4
		mes tltx("縦に拡大縮小", "Vertical zoom")
		pos 150, var_667
		chkbox "Alt", var_663(cnt * 4 + 3)
		pos 220, var_667
		chkbox "Ctrl", var_664(cnt * 4 + 3)
		pos 290, var_667
		chkbox "Shift", var_665(cnt * 4 + 3)
		var_667 += 28
		if ( var_67(40) == 0 ) {
			break
		}
	loop
	var_667 += 5
	objsize 80, 22
	pos 190, var_667
	button gosub tltx("OK", "OK"), *label_340
	var_668 = stat
	pos 280, var_667
	button gosub tltx("キャンセル", "Cancel"), *label_339
	objsel var_668
	waitobjectupdate
	gsel 20, 2
	var_669 = -1
	repeat
		gsel 20
		var_670 = var_671
		var_671 = getkeyflg(27)
		if ( var_67(20) == 20 ) {
			var_67(20) = 0
			var_669 = 1
		}
		if ( getactivewindow() == 20 & var_670 == 0 & var_671 == 1 ) {
			var_669 = 1
		}
		if ( var_669 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 20, -1
	gsel 6
	if ( var_669 == 0 ) {
		var_666 = 0
		repeat 8
			var_666 = var_666 | var_663(cnt) << 4 * cnt + 0
			var_666 = var_666 | var_664(cnt) << 4 * cnt + 1
			var_666 = var_666 | var_665(cnt) << 4 * cnt + 2
		loop
		if ( var_67(40) == 0 ) {
			var_67(103) = var_666
		}
		else {
			var_67(104) = var_666
		}
	}
	return
*label_339
	var_669 = 1
	return
*label_340
	var_669 = 0
	return
*label_341
	goto *label_346
#deffunc vsexsetting
	screen_nomin 20, 640, 328, 2 | 4
	title "拡張設定"
	syscolor 15
	boxf
	var_672 = var_67(63)
	var_673 = var_67(67)
	var_674 = var_67(68)
	var_675 = var_67(69)
	var_676 = var_67(70)
	var_677 = var_67(71)
	var_678 = var_67(72)
	var_679 = var_67(73)
	var_680 = var_67(79)
	var_681 = var_67(80)
	var_682 = var_67(74)
	var_683 = var_67(75)
	var_684 = var_67(78)
	var_685 = var_392(7)
	var_686 = 0
	var_687 = 10
	syscolor 8
	setfont_normal
	objmode 2
	pos var_686 + 10, var_687 + 4
	mes tltx("[全般]", "[General]")
	var_687 += 28
	pos var_686 + 20, var_687
	objsize 280, 22
	chkbox tltx("☆拡張設定をメニューに表示する", "☆Show extension settings in menu"), var_672
	var_687 += 28
	pos var_686 + 20, var_687 + 4
	mes tltx("設定ファイルの保存場所", "Settings file location")
	pos var_686 + 160, var_687
	objsize 150, 22
	combox var_682, 100, tltx("%appdata%\\n実行ファイルがあるフォルダ", "%appdata%\\nFolder with executable")
	var_687 += 28
	pos var_686 + 20, var_687 + 4
	mes tltx("トラック数初期値(1-64)", "Default number of tracks (1-64)")
	pos var_686 + 200, var_687
	objsize 60, 22
	input var_674
	var_687 += 28
	pos var_686 + 20, var_687 + 4
	mes tltx("音声ファイルのパス初期値", "Default path of audio file")
	pos var_686 + 200, var_687
	objsize 110, 22
	combox var_675, 100, "絶対パス\n相対パス"
	var_687 += 28
	pos var_686 + 20, var_687
	objsize 280, 22
	chkbox tltx("☆マウスの左右ボタンを入れ替える", "☆Swap left and right mouse buttons"), var_683
	var_687 += 28
	pos var_686 + 10, var_687 + 4
	mes tltx("[拡張機能]", "[Extensions]")
	var_687 += 28
	pos var_686 + 20, var_687
	objsize 200, 22
	chkbox tltx("☆ピッチ再解析機能", "☆Pitch Reanalysis Function"), var_679
	var_687 += 28
	pos var_686 + 20, var_687
	objsize 200, 22
	chkbox tltx("アイテムフラグ", "Item Flag"), var_684
	var_687 += 28
	pos var_686 + 20, var_687
	objsize 200, 22
	chkbox tltx("☆ピッチ有無検出機能", "☆Pitch Presence Detection Function"), var_680
	var_687 += 28
	pos var_686 + 20, var_687
	objsize 200, 22
	chkbox tltx("☆外部エンジン", "☆External Engine"), var_681
	var_687 += 28
	var_686 = 320
	var_687 = 10
	pos var_686 + 10, var_687 + 4
	mes tltx("[編集]", "[Edit]")
	var_687 += 28
	pos var_686 + 20, var_687
	objsize 280, 22
	chkbox tltx("メインウィンドウ範囲選択ツールで編集しない", "Do not edit with main window selection tool"), var_673
	var_687 += 28
	pos var_686 + 10, var_687 + 4
	mes tltx("[表示]", "[Display]")
	var_687 += 28
	pos var_686 + 20, var_687
	objsize 280, 22
	chkbox tltx("アイテム情報を画面内に表示する", "Display item information on screen"), var_676
	var_687 += 28
	pos var_686 + 20, var_687 + 4
	mes tltx("背景画像合成率(0-100%)", "Background image composition rate (0-100%)")
	pos var_686 + 240, var_687
	objsize 60, 22
	input var_677
	var_687 += 28
	pos var_686 + 20, var_687 + 4
	mes tltx("背景画像の位置", "Background image position")
	pos var_686 + 190, var_687
	objsize 110, 22
	combox var_678, 100, tltx("画面に合わせる\n左上\n上\n右上\n右\n右下\n下\n左下\n左\n中央", "Fit to screen\nTop left\nTop\nTop right\nRight\nBottom right\nBottom\nBottom left\nLeft\nCenter")
	var_687 += 28
	pos var_686 + 20, var_687 + 4
	mes tltx("背景画像", "Background image")
	var_687 += 28
	objsize 200, 22
	pos var_686 + 20, var_687
	input var_685
	var_688 = stat
	objsize 70, 22
	pos var_686 + 230, var_687
	button gosub tltx("参照", "Browse"), *label_345
	var_687 += 28
	var_687 += 28
	pos var_686 + 10, var_687 + 4
	mes tltx("☆が付く項目は次回起動時から有効", "Items marked with ☆ will be effective from the next startup")
	var_687 += 28
	var_687 += 5
	objsize 80, 22
	pos var_686 + 130, var_687
	button gosub tltx("OK", "OK"), *label_344
	var_689 = stat
	pos var_686 + 220, var_687
	button gosub tltx("キャンセル", "Cancel"), *label_343
	objsel var_689
	waitobjectupdate
	gsel 20, 2
	var_690 = -1
	repeat
		gsel 20
		var_691 = var_692
		var_692 = getkeyflg(27)
		if ( var_67(20) == 20 ) {
			var_67(20) = 0
			var_690 = 1
		}
		if ( getactivewindow() == 20 & var_691 == 0 & var_692 == 1 ) {
			var_690 = 1
		}
		if ( var_690 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 20, -1
	gsel 6
	if ( var_690 == 0 ) {
		var_67(63) = var_672
		var_67(67) = var_673
		var_67(68) = limit(var_674, 1, 64)
		var_67(69) = limit(var_675, 0, 1)
		var_67(70) = var_676
		var_67(71) = limit(var_677, 0, 100)
		var_67(73) = limit(var_679, 0, 1)
		var_67(79) = var_680
		var_67(80) = var_681
		var_67(74) = limit(var_682, 0, 1)
		var_67(75) = limit(var_683, 0, 1)
		var_67(78) = limit(var_684, 0, 1)
		setmainalldrawflg
		setidealldrawflg
		if ( var_685 != var_392(7) ) {
			var_392(7) = var_685
			loadbgimg
			resizemainwindow 1
			resizeidewindow 1
		}
		if ( var_678 != var_67(72) ) {
			var_67(72) = limit(var_678, 0, 9)
			resizemainwindow 1
			resizeidewindow 1
		}
	}
	return
*label_343
	var_690 = 1
	return
*label_344
	var_690 = 0
	return
*label_345
	var_693 = tltx("すべてのファイル(*.*)\n*.*", "All files(*.*)\n*.*")
	fileselectdialog var_694, 0, var_693, "", "", "", 0
	if ( stat == (-1) ) {
		return
	}
	getstr var_694, var_694
	var_685 = var_694
	objprm var_688, var_685
	return
*label_346
	goto *label_351
#deffunc enginesetting
	screen_nomin 20, 500, 300, 2 | 4
	title tltx("エンジン設定", "Engine settings")
	syscolor 15
	boxf
	sdim var_695, 256, 8
	sdim var_696, 256, 8
	repeat 8
		var_695(cnt) = var_392(42 + cnt)
		var_696(cnt) = var_392(50 + cnt)
	loop
	dim var_697, 8
	dim var_698, 8
	syscolor 8
	setfont_normal
	objmode 2
	var_699 = 10
	var_700 = 28
	pos 10, var_699 + 4
	mes tltx("名前", "Name")
	pos 120, var_699 + 4
	mes tltx("パス", "Path")
	var_699 += var_700
	repeat 8
		objsize 100, 22
		pos 10, var_699
		input var_695(cnt), , , 31
		objsize 280, 22
		pos 120, var_699
		input var_696(cnt), , , 255
		var_697(cnt) = stat
		objsize 80, 22
		pos 410, var_699
		button gosub tltx("参照", "Browse"), *label_350
		var_698(cnt) = stat
		var_699 += var_700
	loop
	var_699 += 5
	objsize 80, 22
	pos 320, var_699
	button gosub tltx("OK", "OK"), *label_349
	var_701 = stat
	pos 410, var_699
	button gosub tltx("キャンセル", "Cancel"), *label_348
	objsel var_701
	waitobjectupdate
	gsel 20, 2
	var_702 = -1
	repeat
		gsel 20
		var_703 = var_704
		var_704 = getkeyflg(27)
		if ( var_67(20) == 20 ) {
			var_67(20) = 0
			var_702 = 1
		}
		if ( getactivewindow() == 20 & var_703 == 0 & var_704 == 1 ) {
			var_702 = 1
		}
		if ( var_702 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 20, -1
	gsel 6
	if ( var_702 == 0 ) {
		var_705 = 0
		repeat 8
			if ( var_392(42 + cnt) != var_695(cnt) ) {
				var_392(42 + cnt) = var_695(cnt)
				var_705 = 1
			}
			if ( var_392(50 + cnt) != var_696(cnt) ) {
				var_392(50 + cnt) = var_696(cnt)
				var_705 = 1
			}
		loop
		if ( var_705 != 0 ) {
			msgdialog tltx("エンジン設定は再起動後に適用されます。", "The engine setting is applied after restart VocalShifter.")
		}
	}
	return
*label_348
	var_702 = 1
	return
*label_349
	var_702 = 0
	return
*label_350
	var_706 = stat
	var_707 = tltx("DLL(*.dll)\n*.dll\nすべてのファイル(*.*)\n*.*", "DLL(*.dll)\n*.dll\nAll files(*.*)\n*.*")
	fileselectdialog var_708, 0, var_707, "", "", "", 0
	if ( stat == (-1) ) {
		return
	}
	getstr var_708, var_708
	repeat 8
		if ( var_698(cnt) == var_706 ) {
			var_696(cnt) = var_708
			objprm var_697(cnt), var_708
			break
		}
	loop
	return
*label_351
	goto *label_356
#deffunc graphcolorsetting
	screen_nomin 20, 450, 245, 2 | 4
	title tltx("グラフの色設定", "Graph color settings")
	syscolor 15
	boxf
	var_709 = 94 - 82 + 1
	var_709++
	dim var_710, var_709
	sdim var_711, 64, var_709
	var_712 = 0
	repeat 94 - 82 + 1
		var_710(var_712) = var_67(82 + var_712)
		var_712++
	loop
	var_710(var_712) = var_67(95)
	var_712++
	var_711(0) = tltx("編集前PIT", "original PIT")
	var_711(1) = tltx("編集後PIT", "edited PIT")
	var_711(2) = "FRM", "VOL", "PAN"
	var_711(5) = tltx("編集前DYN", "original DYN")
	var_711(6) = tltx("編集後DYN", "edited DYN")
	var_711(7) = "TIME"
	var_711(8) = tltx("PIT解析値", "analyzed PIT")
	var_711(9) = "BRE", "EQ1", "EQ2", "HEQ"
	var_711(13) = tltx("再生位置", "play position")
	syscolor 8
	setfont_normal
	objmode 2
	var_713 = 10
	var_714 = 10
	var_715 = 28
	repeat var_709
		syscolor 8
		pos var_713, var_714 + 4
		mes var_711(cnt)
		color 0, 0, 0
		boxf var_713 + 100, var_714, var_713 + 160, var_714 + 21
		color var_710(cnt) >> 16 & 255, var_710(cnt) >> 8 & 255, var_710(cnt) & 255
		boxf var_713 + 101, var_714 + 1, var_713 + 159, var_714 + 20
		var_714 += var_715
		if ( cnt == 6 ) {
			var_714 -= var_715 * 7
			var_713 += 220
		}
	loop
	var_714 += 5
	objsize 120, 22
	pos 10, var_714
	button gosub tltx("初期値に戻す", "Initialize"), *label_353
	objsize 80, 22
	pos 270, var_714
	button gosub tltx("OK", "OK"), *label_355
	var_716 = stat
	pos 360, var_714
	button gosub tltx("キャンセル", "Cancel"), *label_354
	objsel var_716
	waitobjectupdate
	gsel 20, 2
	var_717 = -1
	repeat
		gsel 20
		var_718 = var_719
		var_719 = getkeyflg(27)
		var_720 = var_721
		var_721 = getkeyflg(var_67(3))
		if ( var_721 == 0 & var_720 == 1 ) {
			var_713 = 10
			var_714 = 10
			var_715 = 28
			repeat var_709
				if ( _mousex() > var_713 + 100 & _mousex() < var_713 + 160 & _mousey() > var_714 & _mousey() < var_714 + 21 ) {
					var_722 = var_710(cnt) >> 16 & 255
					var_723 = var_710(cnt) >> 8 & 255
					var_724 = var_710(cnt)
					var_725 = (var_724 << 16) + (var_723 << 8) + var_722
					choosecolordialog 2, var_725, 0
					if ( stat == 1 ) {
						var_710(cnt) = (ginfo(16) << 16) + (ginfo(17) << 8) + ginfo(18)
						redraw 2
						gsel 20
						color var_710(cnt) >> 16 & 255, var_710(cnt) >> 8 & 255, var_710(cnt) & 255
						boxf var_713 + 101, var_714 + 1, var_713 + 159, var_714 + 20
						redraw 1
					}
				}
				var_714 += var_715
				if ( cnt == 6 ) {
					var_714 -= var_715 * 7
					var_713 += 220
				}
			loop
		}
		if ( var_67(20) == 20 ) {
			var_67(20) = 0
			var_717 = 1
		}
		if ( getactivewindow() == 20 & var_718 == 0 & var_719 == 1 ) {
			var_717 = 1
		}
		if ( var_717 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 20, -1
	gsel 6
	if ( var_717 == 0 ) {
		var_712 = 0
		repeat 94 - 82 + 1
			var_67(82 + var_712) = var_710(var_712)
			var_712++
		loop
		var_67(95) = var_710(var_712)
		var_712++
		setgraphcolor
		setidealldrawflg
	}
	return
*label_353
	var_713 = 10
	var_714 = 10
	var_715 = 28
	gsel 20
	redraw 2
	repeat var_709
		if ( cnt < 94 - 82 + 1 ) {
			var_710(cnt) = getinitgraphcolor(cnt)
		}
		if ( cnt == 94 - 82 + 1 ) {
			var_710(cnt) = 13684944
		}
		color var_710(cnt) >> 16 & 255, var_710(cnt) >> 8 & 255, var_710(cnt) & 255
		boxf var_713 + 101, var_714 + 1, var_713 + 159, var_714 + 20
		var_714 += var_715
		if ( cnt == 6 ) {
			var_714 -= var_715 * 7
			var_713 += 220
		}
	loop
	redraw 1
	return
*label_354
	var_717 = 1
	return
*label_355
	var_717 = 0
	return
*label_356
	goto *label_360
#deffunc vsversioninfo int prm_1099
	screen_nomin 21, 360, 150, 2 | 4
	title tltx("バージョン情報", "About")
	syscolor 15
	boxf
	setfont_normal
	objmode 2
	var_726 = getkeyflg(16)
	if ( prm_1099 == 1 ) {
		var_726 = 1
	}
	var_727 = dirinfo(0)
	chdir var_392(1)
	get_icon var_728, "vocalshifter" + ".exe", 0, 0
	draw_icon var_728, 25, 30, 1
	chdir var_727
	sdim var_729, 1024
	var_729 += "VocalShifter ver.3.45" + "\n"
	var_729 += "Copyright (C)  " + "2010" + " Ackie\n"
	var_729 += "mail : ackiesound@hotmail.co.jp\n"
	var_729 += "web page : https://ackiesound.ifdef.jp/"
	pos 85, 20
	mesbox var_729, 260, 90, var_726
	var_730 = stat
	if ( var_726 == 1 ) {
		selectinputtext var_730
	}
	objsize 80, 22
	pos 175, 120
	button gosub tltx("OK", "OK"), *label_359
	if ( var_726 == 0 ) {
		objsel stat
	}
	waitobjectupdate
	gsel 21, 2
	var_731 = -1
	repeat
		gsel 21
		var_732 = var_733
		var_733 = getkeyflg(27)
		if ( var_67(20) == 21 ) {
			var_67(20) = 0
			var_731 = 1
		}
		if ( getactivewindow() == 21 & var_732 == 0 & var_733 == 1 ) {
			var_731 = 1
		}
		if ( var_731 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 21, -1
	gsel 6
	if ( var_726 == 1 ) {
		getstr var_729, var_729
		var_734 = var_729
		if ( 0 ) {
			var_735++
		}
		if ( var_734 == "tmpdir" | var_735 ) {
			var_735 = 0
			exec "explorer " + var_392(2)
			goto *label_358
			var_735++
		}
		if ( var_734 == "exedir" | var_735 ) {
			var_735 = 0
			exec "explorer " + var_392(1)
			goto *label_358
			var_735++
		}
		if ( var_734 == "inidir" | var_735 ) {
			var_735 = 0
			exec "explorer " + dirinfo(65536 | 26) + "\\" + "ackiesound" + "\\" + "vocalshifter" + "\\"
			goto *label_358
			var_735++
		}
		if ( var_734 == "option" | var_735 ) {
			var_735 = 0
			vsexsetting
			goto *label_358
			var_735++
		}
		if ( var_734 == "debug" | var_735 ) {
			var_735 = 0
			debugmessage
			goto *label_358
			var_735++
		}
		if ( var_734 == "log" | var_735 ) {
			var_735 = 0
			logmessage
			goto *label_358
			var_735++
		}
		if ( var_734 == "vsplay" | var_735 ) {
			var_735 = 0
			var_736 = ""
			getvsplaydebuginfo var_67(17), var_736
			msgdialog var_736
			goto *label_358
			var_735++
		}
		if ( var_734 == "f0test" | var_735 ) {
			var_735 = 0
			var_735++
		}
		if ( var_734 == "exportpitdyn" | var_735 ) {
			var_735 = 0
			exportf0tocsv
			goto *label_358
			var_735++
		}
		if ( var_734 == "error19" | var_735 ) {
			var_735 = 0
			var_737 = 0
			var_738 = var_738 / var_737
			goto *label_358
			var_735++
		}
		if ( var_734 == "error31" | var_735 ) {
			var_735 = 0
			dim var_738, 64
			var_738(1) = "x"
			goto *label_358
			var_735++
		}
		if ( var_734 == "error07" | var_735 ) {
			var_735 = 0
			dim var_738, 64
			var_737 = var_738(64)
			goto *label_358
		}
*label_358
		if ( strmid(var_729, 0, 4) == "size" ) {
			var_739 = 5
			getstr var_740, var_729, var_739, 44
			var_741 = int(var_740)
			var_739 += strsize
			getstr var_740, var_729, var_739, 44
			var_742 = limit(int(var_740), 0, 4096)
			var_739 += strsize
			getstr var_740, var_729, var_739, 44
			var_743 = limit(int(var_740), 0, 4096)
			if ( var_741 == 1 | var_741 == 2 ) {
				if ( var_741 == 1 ) {
					gsel 6
				}
				else {
					gsel 12
				}
				if ( var_742 != 0 & var_743 != 0 ) {
					GetSystemMetrics 15
					var_744 = stat
					var_745 = ginfo(10) - ginfo(12)
					var_746 = ginfo(11) - ginfo(13) - var_744
					width var_742 - var_745, var_743 - var_746
				}
				else {
					msgdialog "WINID_MAIN " + ginfo(10) + "," + ginfo(11)
				}
			}
		}
		if ( strmid(var_729, 0, 4) == "clrt" ) {
			var_739 = 5
			getstr var_740, var_729, var_739, 44
			var_741 = int(var_740)
			if ( var_741 == 1 ) {
				setmainwindowtitle " "
			}
			if ( var_741 == 2 ) {
				setidewindowtitle " "
			}
		}
	}
	return
*label_359
	var_731 = 0
	return
*label_360
	goto *label_363
#deffunc debugmessage
	screen_nomin 21, 320, 150, 2 | 4
	title tltx("デバッグ情報", "Debug information")
	syscolor 15
	boxf
	sdim var_747, 1024
	var_747 = ""
	var_747 += "date:" + "2024/10/26" + " " + "19:23:22" + "\n"
	var_747 += strf("hspver:%04x", 13575) + "\n"
	pos 85, 20
	mesbox var_747, 220, 90, 0
	objsize 80, 22
	pos 155, 120
	button gosub tltx("OK", "OK"), *label_362
	waitobjectupdate
	gsel 21, 2
	var_748 = -1
	repeat
		gsel 21
		var_749 = var_750
		var_750 = getkeyflg(27)
		if ( var_67(20) == 21 ) {
			var_67(20) = 0
			var_748 = 1
		}
		if ( getactivewindow() == 21 & var_749 == 0 & var_750 == 1 ) {
			var_748 = 1
		}
		if ( var_748 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 21, -1
	gsel 6
	return
*label_362
	var_748 = 0
	return
*label_363
	goto *label_365
#deffunc logmessage
	screen_nomin 21, 640, 480, 2 | 4
	title tltx("ログ", "Log")
	syscolor 15
	boxf
	sdim var_751, 1024
	sdim var_752, 260
	var_753 = GetLogDataMax()
	repeat var_753
		GetLogData cnt, var_754, var_752
		var_751 = var_751 + var_752 + "\n"
	loop
	pos 0, 0
	mesbox var_751, 640, 480, 0
	waitobjectupdate
	gsel 21, 2
	var_755 = -1
	repeat
		gsel 21
		var_756 = var_757
		var_757 = getkeyflg(27)
		if ( var_67(20) == 21 ) {
			var_67(20) = 0
			var_755 = 1
		}
		if ( getactivewindow() == 21 & var_756 == 0 & var_757 == 1 ) {
			var_755 = 1
		}
		if ( var_755 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 21, -1
	gsel 6
	return
*label_365
	goto *label_367
*label_367
	goto *label_374
#deffunc initscrollbar
	dim var_760, 16, 14
	var_761 = 1
	func_25 23
	if ( stat == 0 ) {
		var_762 = 1
	}
	else {
		var_762 = 2
	}
	var_763 = 0
	return
#deffunc createscrollbar int prm_1101, int prm_1102, int prm_1103, int prm_1104, int prm_1105, int prm_1106, int prm_1107
	if ( var_761 == 0 ) {
		initscrollbar
	}
	var_760(prm_1101, 0) = prm_1103
	var_760(prm_1101, 1) = prm_1102
	var_760(prm_1101, 2) = prm_1104
	var_760(prm_1101, 3) = prm_1105
	var_760(prm_1101, 4) = prm_1106
	var_760(prm_1101, 5) = prm_1107
	var_760(prm_1101, 6) = 0
	var_760(prm_1101, 7) = 0
	var_760(prm_1101, 8) = 0
	var_760(prm_1101, 9) = 1
	var_760(prm_1101, 10) = 0
	var_760(prm_1101, 11) = 0
	return
#deffunc setscrollbar int prm_1108, int prm_1109, int prm_1110, int prm_1111, int prm_1112
	if ( var_761 == 0 ) {
		initscrollbar
	}
	var_760(prm_1108, 6) = prm_1109
	var_760(prm_1108, 7) = prm_1110
	var_760(prm_1108, 8) = prm_1111
	var_760(prm_1108, 9) = prm_1112
	return
#defcfunc getscrollbaroffset int prm_1113
	if ( var_761 == 0 ) {
		initscrollbar
	}
	return var_760(prm_1113, 8)
#deffunc drawscrollbar
	var_764 = ginfo(3)
	if ( var_761 == 0 ) {
		initscrollbar
	}
	var_765 = var_763
	getkey var_763, var_762
	repeat 16
		var_766 = cnt
		if ( var_760(var_766, 0) == 0 ) {
			continue
		}
		gsel var_760(var_766, 1)
		var_767 = _mousex()
		var_768 = _mousey()
		if ( var_765 == 0 & var_763 == 1 ) {
			var_769 = 1
		}
		else {
			var_769 = 0
		}
		var_770 = 0
		if ( getactivewindow() == var_760(var_766, 1) ) {
			var_771 = var_760(var_766, 2)
			var_772 = var_760(var_766, 3)
			var_773 = var_760(var_766, 4)
			var_774 = var_760(var_766, 5)
			var_775 = var_767 - var_771
			var_776 = var_768 - var_772
			var_777 = var_760(var_766, 6)
			var_778 = var_760(var_766, 7)
			var_779 = var_760(var_766, 8)
			if ( var_760(var_766, 0) == 1 ) {
				if ( var_776 >= 0 & var_776 < var_774 ) {
					if ( var_775 >= 0 & var_775 < 17 ) {
						var_770 = 1
						if ( var_769 == 1 ) {
							var_760(var_766, 11) = 1
						}
					}
					if ( var_775 >= var_773 - 17 & var_775 < var_773 ) {
						var_770 = 2
						if ( var_769 == 1 ) {
							var_760(var_766, 11) = 2
						}
					}
					if ( var_778 < var_777 ) {
						var_780 = (var_773 - 17 * 2) * var_778 / var_777
						if ( var_780 < 12 ) {
							var_780 = 12
						}
						var_781 = var_773 - 17 * 2 - var_780
						var_782 = 17 + int(double(var_781) * var_779 / (var_777 - var_778))
						if ( var_775 >= 17 & var_775 < var_782 ) {
							var_770 = 3
							if ( var_769 == 1 ) {
								var_760(var_766, 11) = 3
							}
						}
						if ( var_775 >= var_782 & var_775 < var_782 + var_780 ) {
							var_770 = 5
							if ( var_769 == 1 ) {
								var_760(var_766, 11) = 5
								var_760(var_766, 12) = var_767
								var_760(var_766, 13) = var_779
							}
						}
						if ( var_775 >= var_782 + var_780 & var_775 < var_773 - 17 ) {
							var_770 = 4
							if ( var_769 == 1 ) {
								var_760(var_766, 11) = 4
							}
						}
					}
				}
			}
			if ( var_760(var_766, 0) == 2 ) {
				if ( var_775 >= 0 & var_775 < var_773 ) {
					if ( var_776 >= 0 & var_776 < 17 ) {
						var_770 = 1
						if ( var_769 == 1 ) {
							var_760(var_766, 11) = 1
						}
					}
					if ( var_776 >= var_774 - 17 & var_776 < var_774 ) {
						var_770 = 2
						if ( var_769 == 1 ) {
							var_760(var_766, 11) = 2
						}
					}
					if ( var_778 < var_777 ) {
						var_783 = (var_774 - 17 * 2) * var_778 / var_777
						if ( var_783 < 12 ) {
							var_783 = 12
						}
						var_784 = var_774 - 17 * 2 - var_783
						var_785 = 17 + int(double(var_784) * var_779 / (var_777 - var_778))
						if ( var_776 >= 17 & var_776 < var_785 ) {
							var_770 = 3
							if ( var_769 == 1 ) {
								var_760(var_766, 11) = 3
							}
						}
						if ( var_776 >= var_785 & var_776 < var_785 + var_783 ) {
							var_770 = 5
							if ( var_769 == 1 ) {
								var_760(var_766, 11) = 5
								var_760(var_766, 12) = var_768
								var_760(var_766, 13) = var_779
							}
						}
						if ( var_776 >= var_785 + var_783 & var_776 < var_774 - 17 ) {
							var_770 = 4
							if ( var_769 == 1 ) {
								var_760(var_766, 11) = 4
							}
						}
					}
				}
			}
		}
		if ( var_763 == 0 ) {
			var_760(var_766, 11) = 0
		}
		var_786 = 0
		if ( var_760(var_766, 10) == 0 ) {
			var_786 = 1
		}
		if ( var_760(var_766, 10) >= 40 & var_760(var_766, 10) \ 5 == 0 ) {
			var_786 = 1
		}
		var_787 = 0
		var_788 = 0
		var_789 = 0
		if ( var_770 == var_760(var_766, 11) ) {
			var_790 = var_760(var_766, 11)
			if ( 0 ) {
				var_791++
			}
			if ( var_790 == 1 | var_791 ) {
				var_791 = 0
				var_760(var_766, 8) -= var_760(var_766, 9) * var_786
				var_787 = 1
				goto *label_373
				var_791++
			}
			if ( var_790 == 2 | var_791 ) {
				var_791 = 0
				var_760(var_766, 8) += var_760(var_766, 9) * var_786
				var_788 = 1
				goto *label_373
				var_791++
			}
			if ( var_790 == 3 | var_791 ) {
				var_791 = 0
				var_760(var_766, 8) -= var_760(var_766, 7) * var_786
				goto *label_373
				var_791++
			}
			if ( var_790 == 4 | var_791 ) {
				var_791 = 0
				var_760(var_766, 8) += var_760(var_766, 7) * var_786
				goto *label_373
			}
		}
*label_373
		if ( var_760(var_766, 11) == 5 ) {
			var_777 = var_760(var_766, 6)
			var_778 = var_760(var_766, 7)
			var_792 = var_760(var_766, 2)
			var_793 = var_760(var_766, 3)
			var_794 = var_760(var_766, 4)
			var_795 = var_760(var_766, 5)
			if ( var_760(var_766, 0) == 1 ) {
				if ( abs(var_793 + var_795 / 2 - var_768) <= 150 ) {
					var_773 = var_760(var_766, 4)
					var_780 = (var_773 - 17 * 2) * var_778 / var_777
					if ( var_780 < 12 ) {
						var_780 = 12
					}
					var_781 = var_773 - 17 * 2 - var_780
					var_796 = int(double(var_767 - var_760(var_766, 12)) * (var_777 - var_778) / var_781)
				}
				else {
					var_796 = 0
				}
				var_760(var_766, 8) = var_760(var_766, 13) + var_796
			}
			else {
				if ( abs(var_792 + var_794 / 2 - var_767) <= 150 ) {
					var_774 = var_760(var_766, 5)
					var_783 = (var_774 - 17 * 2) * var_778 / var_777
					if ( var_783 < 12 ) {
						var_783 = 12
					}
					var_784 = var_774 - 17 * 2 - var_783
					var_797 = int(double(var_768 - var_760(var_766, 12)) * (var_777 - var_778) / var_784)
				}
				else {
					var_797 = 0
				}
				var_760(var_766, 8) = var_760(var_766, 13) + var_797
			}
			var_789 = 1
		}
		if ( var_760(var_766, 8) + var_760(var_766, 7) > var_760(var_766, 6) ) {
			var_760(var_766, 8) = var_760(var_766, 6) - var_760(var_766, 7)
		}
		if ( var_760(var_766, 8) < 0 ) {
			var_760(var_766, 8) = 0
		}
		var_792 = var_760(var_766, 2)
		var_793 = var_760(var_766, 3)
		var_794 = var_760(var_766, 4)
		var_795 = var_760(var_766, 5)
		var_777 = var_760(var_766, 6)
		var_778 = var_760(var_766, 7)
		var_779 = var_760(var_766, 8)
		if ( var_760(var_766, 0) == 1 ) {
			color 64, 64, 80
			boxf var_792, var_793, var_792 + var_794 - 1, var_793 + var_795 - 1
			var_771 = var_792
			var_772 = var_793
			var_773 = 17
			var_774 = var_795
			drawscrollbtn var_771, var_772, var_773, var_774, var_787
			color 208, 208, 208
			repeat 7, -3
				var_798 = var_771 + var_773 / 2 - 3 + abs(cnt) + var_787
				var_799 = var_772 + var_774 / 2 + cnt + var_787
				boxf var_798, var_799, var_798 + 2, var_799
			loop
			var_771 = var_792 + var_794 - 17
			var_772 = var_793
			var_773 = 17
			var_774 = var_795
			drawscrollbtn var_771, var_772, var_773, var_774, var_788
			color 208, 208, 208
			repeat 7, -3
				var_798 = var_771 + var_773 / 2 + 3 - abs(cnt) + var_788
				var_799 = var_772 + var_774 / 2 + cnt + var_788
				boxf var_798 - 2, var_799, var_798, var_799
			loop
			if ( var_778 < var_777 ) {
				var_773 = (var_794 - 17 * 2) * var_778 / var_777
				if ( var_773 < 12 ) {
					var_773 = 12
				}
				var_781 = var_794 - 17 * 2 - var_773
				var_771 = var_792 + 17 + int(double(var_781) * var_779 / (var_777 - var_778))
				var_772 = var_793
				var_774 = var_795
				drawscrollbtn var_771, var_772, var_773, var_774, var_789
			}
		}
		else {
			color 64, 64, 80
			boxf var_792, var_793, var_792 + var_794 - 1, var_793 + var_795 - 1
			var_771 = var_792
			var_772 = var_793
			var_773 = var_794
			var_774 = 17
			drawscrollbtn var_771, var_772, var_773, var_774, var_787
			color 208, 208, 208
			repeat 7, -3
				var_798 = var_771 + var_773 / 2 + cnt + var_787
				var_799 = var_772 + var_774 / 2 - 3 + abs(cnt) + var_787
				boxf var_798, var_799, var_798, var_799 + 2
			loop
			var_771 = var_792
			var_772 = var_793 + var_795 - 17
			var_773 = var_794
			var_774 = 17
			drawscrollbtn var_771, var_772, var_773, var_774, var_788
			color 208, 208, 208
			repeat 7, -3
				var_798 = var_771 + var_773 / 2 + cnt + var_788
				var_799 = var_772 + var_774 / 2 + 3 - abs(cnt) + var_788
				boxf var_798, var_799 - 2, var_798, var_799
			loop
			if ( var_778 < var_777 ) {
				var_774 = (var_795 - 17 * 2) * var_778 / var_777
				if ( var_774 < 12 ) {
					var_774 = 12
				}
				var_784 = var_795 - 17 * 2 - var_774
				var_772 = var_793 + 17 + int(double(var_784) * var_779 / (var_777 - var_778))
				var_771 = var_792
				var_773 = var_794
				drawscrollbtn var_771, var_772, var_773, var_774, var_789
			}
		}
		if ( var_760(var_766, 11) != 0 ) {
			var_760(var_766, 10)++
		}
		else {
			var_760(var_766, 10) = 0
		}
	loop
	gsel var_764
	return
*label_374
	goto *label_376
#deffunc drawscrollbtn int prm_1114, int prm_1115, int prm_1116, int prm_1117, int
	color 64, 64, 80
	boxf prm_1114, prm_1115, prm_1114 + prm_1116 - 1, prm_1115 + prm_1117 - 1
	color 32, 32, 48
	boxf prm_1114 + 1, prm_1115 + 1, prm_1114 + prm_1116 - 2, prm_1115 + prm_1117 - 2
	return
*label_376
	goto *label_381
#deffunc initcommand
	dim var_800, 291
	return
#deffunc requestcommand int prm_1119
	if ( prm_1119 >= 0 & prm_1119 < 291 ) {
		var_800(prm_1119) = 1
	}
	return
#deffunc requestmenucommand
	requestcommand wparam & 65535
	return
#deffunc execcommand
	if ( var_800(1) == 1 ) {
		createnewproject
	}
	if ( var_800(2) == 1 ) {
		openproject ""
	}
	if ( var_800(3) == 1 ) {
		saveproject var_392(8)
	}
	if ( var_800(4) == 1 ) {
		saveproject ""
	}
	if ( var_800(5) == 1 ) {
		exportprjwavefile 0, 0, 0
	}
	if ( var_800(6) == 1 ) {
		exportprjwavefile 0, 0, 1
	}
	if ( var_800(19) == 1 ) {
		vsvst_startscan
		updatemainwindowmenu
	}
	if ( var_800(20) == 1 ) {
		vsvst_cancelscan
		updatemainwindowmenu
	}
	if ( var_800(21) == 1 ) {
		vsvst_endscan
		updatemainwindowmenu
	}
	if ( var_800(22) == 1 ) {
		vsvst_transfer
	}
	if ( var_800(7) == 1 ) {
		gsel 6
		sendmsg hwnd, 16, 0, 0
	}
	repeat 10
		if ( var_800(9 + cnt) == 1 ) {
			openproject var_392(16 + cnt)
		}
	loop
	if ( var_800(8) == 1 ) {
		repeat 10
			var_392(16 + cnt) = ""
		loop
		updatehistorymenu ""
	}
	if ( var_800(179) == 1 ) {
		saveidescreenshot
	}
	if ( var_800(180) == 1 ) {
		addlabel
	}
	if ( var_800(181) == 1 ) {
		importlabel
	}
	if ( var_800(182) == 1 ) {
		exportlabel
	}
	if ( var_800(23) == 1 ) {
		undoproject
	}
	if ( var_800(24) == 1 ) {
		redoproject
	}
	if ( var_800(25) == 1 ) {
		setprojectsettings
	}
	if ( var_800(26) == 1 ) {
		checkprojectvolume
	}
	if ( var_800(86) == 1 ) {
		cuttracktocb
	}
	if ( var_800(87) == 1 ) {
		copytracktocb
	}
	if ( var_800(88) == 1 ) {
		pastetrackfromcb
	}
	if ( var_800(89) == 1 ) {
		deletetrack
	}
	if ( var_800(90) == 1 ) {
		selalltrack
	}
	if ( var_800(91) == 1 ) {
		clearseltrack
	}
	if ( var_800(92) == 1 ) {
		addtrack
	}
	if ( var_800(106) == 1 ) {
		additemtotrack
	}
	if ( var_800(93) == 1 ) {
		settrackoption -1, 0
	}
	if ( var_800(94) == 1 ) {
		setmastertrackoption
	}
	if ( var_800(95) == 1 ) {
		exportprjwavefile 1, 0, 0
	}
	if ( var_800(96) == 1 ) {
		exportprjwavefile 256, 0, 0
	}
	if ( var_800(97) == 1 ) {
		setmutetrack
	}
	if ( var_800(98) == 1 ) {
		setsolotrack
	}
	if ( var_800(99) == 1 ) {
		cutitemtocb
	}
	if ( var_800(100) == 1 ) {
		copyitemtocb
	}
	if ( var_800(101) == 1 ) {
		pasteitemfromcb
	}
	if ( var_800(102) == 1 ) {
		deleteitem
	}
	if ( var_800(103) == 1 ) {
		selallitem
	}
	if ( var_800(104) == 1 ) {
		selectnextitem
	}
	if ( var_800(105) == 1 ) {
		selectnextitem
	}
	if ( var_800(193) == 1 ) {
		var_67(22) = 0
		var_67(23) = 0
		var_67(148) = 1
		var_67(247) = 1
	}
	if ( var_800(107) == 1 ) {
		setitemoption -1
	}
	if ( var_800(108) == 1 ) {
		setitemeqoption -1
	}
	if ( var_800(109) == 1 ) {
		setitemheqoption -1
	}
	if ( var_800(110) == 1 ) {
		showitemproperty -1
	}
	if ( var_800(111) == 1 ) {
		openselitemidetab
	}
	if ( var_800(112) == 1 ) {
		reloadsndfile 0
	}
	if ( var_800(113) == 1 ) {
		reloadsndfile 1
	}
	if ( var_800(114) == 1 ) {
		reloadsndfile 2
	}
	if ( var_800(115) == 1 ) {
		bounceitemnew
	}
	if ( var_800(116) == 1 ) {
		bounceitemrep
	}
	if ( var_800(38) == 1 ) {
		if ( var_67(17) == 0 ) {
			createnewproject
		}
		else {
			addtrack
		}
	}
	if ( var_800(39) == 1 ) {
		deletetrack
	}
	if ( var_800(40) == 1 ) {
		uptrack
	}
	if ( var_800(41) == 1 ) {
		downtrack
	}
	if ( var_800(42) == 1 ) {
		vsplay_seek var_67(17), vsplay_getpos(var_67(17)) - var_67(32)
		refreshplaystatus
		setmtiautoscrollrequest
		setideautoscrollrequest
		var_67(148) = 1
		var_67(151) = 1
	}
	if ( var_800(43) == 1 ) {
		vsplay_stop var_67(17)
		vsplay_seek var_67(17), var_67(16)
		refreshplaystatus
		setmtiautoscrollrequest
		setideautoscrollrequest
		var_67(148) = 1
		var_67(151) = 1
	}
	if ( var_800(44) == 1 ) {
		vsplay_seek var_67(17), 0
		vsplay_play var_67(17)
		var_67(16) = 0
	}
	if ( (var_800(45) | var_800(46)) == 1 ) {
		if ( vsplay_getstatus(var_67(17)) == 0 ) {
			vsplay_play var_67(17)
			var_67(16) = var_67(14)
		}
		else {
			vsplay_stop var_67(17)
		}
	}
	if ( var_800(47) == 1 ) {
		if ( vsplay_getstatus(var_67(17)) == 0 ) {
			vsplay_play var_67(17)
			var_67(16) = var_67(14)
		}
		else {
			vsplay_stop var_67(17)
			vsplay_seek var_67(17), var_67(16)
			refreshplaystatus
			setmtiautoscrollrequest
			setideautoscrollrequest
			var_67(148) = 1
			var_67(151) = 1
		}
	}
	if ( var_800(48) == 1 ) {
		vsplay_seek var_67(17), vsplay_getpos(var_67(17)) + var_67(32)
		refreshplaystatus
		setmtiautoscrollrequest
		setideautoscrollrequest
		var_67(148) = 1
		var_67(151) = 1
	}
	if ( var_800(49) == 1 ) {
		zoomitempanel_timeexp
	}
	if ( var_800(50) == 1 ) {
		zoomitempanel_timecnt
	}
	if ( var_800(51) == 1 ) {
		zoomitempanel_trackexp
	}
	if ( var_800(52) == 1 ) {
		zoomitempanel_trackcnt
	}
	if ( var_800(53) == 1 ) {
		pageupitempanel
	}
	if ( var_800(54) == 1 ) {
		pagedownitempanel
	}
	if ( var_800(55) == 1 ) {
		scrollitempanel_home
	}
	if ( var_800(56) == 1 ) {
		scrollitempanel_end
	}
	if ( var_800(57) == 1 ) {
		var_67(96) = 1 - var_67(96)
		updatemainwindowmenu
	}
	if ( var_800(58) == 1 ) {
		var_67(97) = 1 - var_67(97)
		updatemainwindowmenu
		updateidewindowmenu
	}
	if ( var_800(59) == 1 ) {
		var_67(33) = 1 - var_67(33)
		updatemainwindowmenu
		updateidewindowmenu
	}
	if ( var_800(60) == 1 ) {
		var_67(98) = 1 - var_67(98)
		var_67(148) = 1
		var_67(150) = 1
		var_67(247) = 1
		var_67(249) = 1
		updatemainwindowmenu
		updateidewindowmenu
	}
	if ( var_800(61) == 1 ) {
		var_67(98) = 1
		var_67(148) = 1
		var_67(150) = 1
		var_67(247) = 1
		var_67(249) = 1
		updatemainwindowmenu
		updateidewindowmenu
	}
	if ( var_800(62) == 1 ) {
		var_67(98) = 0
		var_67(148) = 1
		var_67(150) = 1
		var_67(247) = 1
		var_67(249) = 1
		updatemainwindowmenu
		updateidewindowmenu
	}
	if ( var_800(63) == 1 ) {
		var_67(99) = 1 - var_67(99)
		updatemainwindowmenu
	}
	if ( var_800(64) == 1 ) {
		showqtpopupmenu
	}
	if ( var_800(65) == 1 ) {
		var_67(101) = 0
		updatemainwindowmenu
	}
	if ( var_800(66) == 1 ) {
		var_67(101) = 1
		updatemainwindowmenu
	}
	repeat 85 - 67 + 1
		if ( var_800(67 + cnt) == 1 ) {
			var_67(100) = cnt
			updatemainwindowmenu
		}
	loop
	if ( var_800(117) == 1 ) {
		ideclosecurtab
	}
	if ( var_800(118) == 1 ) {
		idecloseelsetab
	}
	if ( var_800(119) == 1 ) {
		idecloselefttab
	}
	if ( var_800(120) == 1 ) {
		idecloserighttab
	}
	if ( var_800(121) == 1 ) {
		ideclosealltab
	}
	repeat 289 - 186 + 1, 186
		if ( var_800(cnt) == 1 ) {
			idecommand cnt
		}
	loop
	if ( var_800(167) == 1 ) {
		setcuritemoption
	}
	if ( var_800(168) == 1 ) {
		setcuritemeqoption
	}
	if ( var_800(169) == 1 ) {
		setcuritemheqoption
	}
	if ( var_800(170) == 1 ) {
		showcuritemproperty
	}
	if ( var_800(171) == 1 ) {
		analyzeitemkey
	}
	if ( var_800(172) == 1 ) {
		analyzeitemrange
	}
	if ( var_800(173) == 1 ) {
		analyzefreqa4
	}
	if ( var_800(174) == 1 ) {
		analyzespc
	}
	if ( var_800(175) == 1 ) {
		deletespc
	}
	if ( var_800(176) == 1 ) {
		detectnote
	}
	if ( var_800(177) == 1 ) {
		importnote
	}
	if ( var_800(178) == 1 ) {
		exportnote_option
	}
	if ( var_800(183) == 1 ) {
		bouncecuritemnew
	}
	if ( var_800(184) == 1 ) {
		bouncecuritemrep
	}
	if ( var_800(185) == 1 ) {
		bouncecuritemnewselrange
	}
	if ( var_800(200) == 1 ) {
		setideeditmode 0
	}
	if ( var_800(201) == 1 ) {
		setideeditmode 1
	}
	if ( var_800(202) == 1 ) {
		setideeditmode 2
	}
	if ( var_800(203) == 1 ) {
		setideeditmode 3
	}
	if ( var_800(204) == 1 ) {
		setideeditmode 4
	}
	if ( var_800(205) == 1 ) {
		setideeditmode 5
	}
	if ( var_800(206) == 1 ) {
		setideeditmode 6
	}
	if ( var_800(207) == 1 ) {
		setideeditmode 7
	}
	if ( var_800(208) == 1 ) {
		setideeditmode 8
	}
	if ( var_800(209) == 1 ) {
		setideeditmode 9
	}
	if ( var_800(210) == 1 ) {
		setideeditmode 10
	}
	if ( var_800(122) == 1 ) {
		var_801 = vsplay_getpos(var_67(17)) - var_67(32)
		if ( var_67(196) != 0 ) {
			var_801 = limittimeinitem(var_801)
		}
		vsplay_seek var_67(17), var_801
		refreshplaystatus
		setmtiautoscrollrequest
		setideautoscrollrequest
		var_67(148) = 1
		var_67(151) = 1
	}
	if ( var_800(123) == 1 ) {
		var_801 = var_67(16)
		if ( var_67(196) != 0 ) {
			var_801 = limittimeinitem(var_801)
		}
		vsplay_stop var_67(17)
		vsplay_seek var_67(17), var_801
		refreshplaystatus
		setmtiautoscrollrequest
		setideautoscrollrequest
		var_67(148) = 1
		var_67(151) = 1
	}
	if ( var_800(124) == 1 ) {
		var_801 = 0
		if ( var_67(196) != 0 ) {
			var_801 = limittimeinitem(var_801)
		}
		vsplay_seek var_67(17), var_801
		vsplay_play var_67(17)
		var_67(16) = 0
	}
	if ( (var_800(125) | var_800(126)) == 1 ) {
		if ( vsplay_getstatus(var_67(17)) == 0 ) {
			vsplay_play var_67(17)
			var_67(16) = var_67(14)
		}
		else {
			vsplay_stop var_67(17)
		}
	}
	if ( var_800(127) == 1 ) {
		if ( vsplay_getstatus(var_67(17)) == 0 ) {
			vsplay_play var_67(17)
			var_67(16) = var_67(14)
		}
		else {
			vsplay_stop var_67(17)
			vsplay_seek var_67(17), var_67(16)
			refreshplaystatus
			setmtiautoscrollrequest
			setideautoscrollrequest
			var_67(148) = 1
			var_67(151) = 1
		}
	}
	if ( var_800(128) == 1 ) {
		var_801 = vsplay_getpos(var_67(17)) + var_67(32)
		if ( var_67(196) != 0 ) {
			var_801 = limittimeinitem(var_801)
		}
		vsplay_seek var_67(17), var_801
		refreshplaystatus
		setmtiautoscrollrequest
		setideautoscrollrequest
		var_67(148) = 1
		var_67(151) = 1
	}
	if ( var_800(129) == 1 ) {
		setidecomreq 3
	}
	if ( var_800(130) == 1 ) {
		setidecomreq 4
	}
	if ( var_800(132) == 1 ) {
		setidecomreq 12
	}
	if ( var_800(133) == 1 ) {
		setidecomreq 13
	}
	if ( var_800(131) == 1 ) {
		setidecomreq 5
	}
	if ( var_800(134) == 1 ) {
		setidecomreq 6
	}
	if ( var_800(135) == 1 ) {
		setidecomreq 7
	}
	if ( var_800(136) == 1 ) {
		setidecomreq 8
	}
	if ( var_800(137) == 1 ) {
		setidecomreq 9
	}
	if ( var_800(138) == 1 ) {
		var_67(179) = 1 - var_67(179)
		updateidewindowmenu
	}
	if ( var_800(139) == 1 ) {
		var_67(180) = 1 - var_67(180)
		updateidewindowmenu
	}
	if ( var_800(140) == 1 ) {
		var_67(181) = 1 - var_67(181)
		var_67(249) = 1
		updateidewindowmenu
	}
	if ( var_800(141) == 1 ) {
		var_67(182) = 1 - var_67(182)
		var_67(249) = 1
		updateidewindowmenu
	}
	if ( var_800(142) == 1 ) {
		var_67(183) = 1 - var_67(183)
		var_67(249) = 1
		updateidewindowmenu
	}
	if ( var_800(143) == 1 ) {
		var_67(184) = 1 - var_67(184)
		var_67(249) = 1
		updateidewindowmenu
	}
	if ( var_800(144) == 1 ) {
		var_67(186) = 1 - var_67(186)
		updateidewindowmenu
	}
	if ( var_800(145) == 1 ) {
		var_67(187) = 1 - var_67(187)
		var_67(249) = 1
		updateidewindowmenu
	}
	if ( var_800(146) == 1 ) {
		var_67(185) = 0
		updateidewindowmenu
		setidealldrawflg
	}
	if ( var_800(147) == 1 ) {
		var_67(185) = 1
		updateidewindowmenu
		setidealldrawflg
	}
	if ( var_800(148) == 1 ) {
		var_67(185) = 2
		updateidewindowmenu
		setidealldrawflg
	}
	if ( var_800(149) == 1 ) {
		var_67(185) = 3
		updateidewindowmenu
		setidealldrawflg
	}
	if ( var_800(150) == 1 ) {
		var_67(192) = 0
		updateidewindowmenu
	}
	if ( var_800(151) == 1 ) {
		var_67(192) = 1
		updateidewindowmenu
	}
	if ( var_800(152) == 1 ) {
		var_67(192) = 2
		updateidewindowmenu
	}
	if ( var_800(153) == 1 ) {
		var_67(192) = 3
		updateidewindowmenu
	}
	if ( var_800(154) == 1 ) {
		var_67(192) = 4
		updateidewindowmenu
	}
	if ( var_800(155) == 1 ) {
		var_67(192) = 5
		updateidewindowmenu
	}
	if ( var_800(156) == 1 ) {
		var_67(188) = 1 - var_67(188)
		var_67(247) = 1
		var_67(249) = 1
		updateidewindowmenu
	}
	if ( var_800(157) == 1 ) {
		var_67(188) = 0
		var_67(247) = 1
		var_67(249) = 1
		updateidewindowmenu
	}
	if ( var_800(158) == 1 ) {
		var_67(188) = 1
		var_67(247) = 1
		var_67(249) = 1
		updateidewindowmenu
	}
	if ( var_800(159) == 1 ) {
		var_67(189) = 1 - var_67(189)
		updateidewindowmenu
	}
	if ( var_800(160) == 1 ) {
		var_67(196) = 1 - var_67(196)
		updateidewindowmenu
	}
	if ( var_800(161) == 1 ) {
		var_67(190) = 1 - var_67(190)
		updateidewindowmenu
	}
	if ( var_800(162) == 1 ) {
		var_67(191) = 1 - var_67(191)
		resizeidewindow 1
		updateidewindowmenu
	}
	if ( var_800(163) == 1 ) {
		var_67(193) = 1 - var_67(193)
		resizeidewindow 1
		updateidewindowmenu
	}
	if ( var_800(164) == 1 ) {
		var_67(194) = 1 - var_67(194)
		var_67(249) = 1
		var_67(248) = 1
		updateidewindowmenu
	}
	if ( var_800(165) == 1 ) {
		var_67(195) = 1 - var_67(195)
		var_67(249) = 1
		updateidewindowmenu
	}
	if ( var_800(166) == 1 ) {
		var_67(38) = 1 - var_67(38)
		var_67(249) = 1
		var_67(248) = 1
		updateidewindowmenu
	}
	if ( var_800(27) == 1 ) {
		vssetting
	}
	if ( var_800(28) == 1 ) {
		vsexsetting
	}
	if ( var_800(29) == 1 ) {
		enginesetting
	}
	if ( var_800(30) == 1 ) {
		graphcolorsetting
	}
	if ( var_800(31) == 1 ) {
		editshortcutkey
	}
	if ( var_800(32) == 1 ) {
		vsscrollsetting
	}
	if ( var_800(33) == 1 ) {
		openvolctrl
	}
	if ( var_800(36) == 1 ) {
		vsversioninfo
	}
	if ( var_800(37) == 1 ) {
		if ( var_67(198) == 1 ) {
			if ( getactivewindow() == 6 ) {
				gsel 12, 1
			}
			else {
				gsel 6, 1
			}
		}
	}
	if ( var_800(290) == 1 ) {
		loadideclipboarddata
	}
	repeat 291
		var_800(cnt) = 0
	loop
	return
*label_381
	goto *label_389
#deffunc setsckeytable2 int prm_1121, str prm_1122, int prm_1123, str prm_1124
	var_802(var_803) = prm_1121
	var_804 = prm_1122
	var_805(var_803) = strtrim(var_804, 3, 32)
	var_806(var_803) = prm_1123
	var_807(var_803) = prm_1124
	var_808(var_803) = var_809
	var_803++
	return
#deffunc getshortcutkeysetting var prm_1125, array prm_1126, array prm_1127, array prm_1128
	prm_1125 = var_803
	dim prm_1126, 256
	dim prm_1127, 256
	sdim prm_1128, 64, 256
	repeat var_803
		prm_1126(cnt) = var_806(cnt)
		prm_1127(cnt) = var_808(cnt)
		prm_1128(cnt) = var_807(cnt)
	loop
	return
#deffunc setshortcutkeysetting array prm_1129
	repeat var_803
		var_810 = prm_1129(cnt)
		var_806(cnt) = var_810 - (var_810 & 1024) + (var_806(cnt) & 1024)
	loop
	return
#deffunc initshortcut
	var_803 = 0
	dim var_806, 256
	dim var_802, 256
	dim var_808, 256
	sdim var_805, 32, 256
	sdim var_807, 64, 256
	dim var_811, 256
	dim var_812, 256
	var_809 = 32755
	setsckeytable2 1, " CMD_NEW_PRJ", 256 + 78, tltx("新規プロジェクト作成", "New project")
	setsckeytable2 2, " CMD_OPEN_PRJ", 256 + 79, tltx("プロジェクトを開く", "Open project")
	setsckeytable2 9, " CMD_HISTORY", 0, tltx("前回使用したプロジェクトを開く", "Open the project that was last used")
	setsckeytable2 8, " CMD_CLEAR_HISTORY", 0, tltx("履歴クリア", "Clear recent used files")
	setsckeytable2 3, " CMD_SAVE_PRJ_REP", 256 + 83, tltx("プロジェクトを上書き保存", "Save")
	setsckeytable2 4, " CMD_SAVE_PRJ_NEW", 0, tltx("名前を付けてプロジェクトを保存", "Save as")
	setsckeytable2 5, " CMD_EXP_WAVE", 0, tltx("Waveファイル出力", "Export wave file")
	setsckeytable2 6, " CMD_EXP_WAVE_OPEN", 0, tltx("Waveファイル出力後に開く", "Export and open wave file")
	setsckeytable2 7, " CMD_EXIT", 0, tltx("終了", "Exit")
	setsckeytable2 19, " CMD_VSB_START", 0, tltx("VSTプラグインスキャン開始", "Start scanning")
	setsckeytable2 20, " CMD_VSB_CANCEL", 0, tltx("VSTプラグインスキャン中断", "Cancel scanning")
	setsckeytable2 21, " CMD_VSB_END", 0, tltx("VSTプラグインスキャン終了", "Stop scanning")
	setsckeytable2 22, " CMD_VSB_TRANS", 0, tltx("VSTプラグイン転送", "Transfer")
	setsckeytable2 23, " CMD_UNDO", 256 + 90, tltx("元に戻す", "Undo")
	setsckeytable2 24, " CMD_REDU", 256 + 89, tltx("やり直し", "Redo")
	setsckeytable2 27, " CMD_SETTING", 0, tltx("設定", "Settings")
	setsckeytable2 29, " CMD_ENGINE_SETTING", 0, tltx("エンジン設定", "Engine settings")
	setsckeytable2 30, " CMD_COLOR_SETTING", 0, tltx("グラフの色設定", "Color settings")
	setsckeytable2 31, " CMD_SCK_SETTING", 0, tltx("ショートカットキー設定", "Shortcut key settings")
	setsckeytable2 32, " CMD_SCROLL_SETTING", 0, tltx("スクロール設定", "Scroll settings")
	setsckeytable2 33, " CMD_VOLCTR", 0, tltx("ボリュームコントロールを開く", "Open volume control")
	setsckeytable2 36, " CMD_VERINFO", 0, tltx("バージョン情報", "About")
	setsckeytable2 37, " CMD_IDE_SWITCH_WND", 256 + 9, tltx("ウィンドウ切り替え", "Switch window")
	var_809 = 3
	setsckeytable2 65, " CMD_MAIN_EDITTOOL", 111 + 7, tltx("編集ツール", "Editing tool")
	setsckeytable2 66, " CMD_MAIN_SELTOOL", 111 + 8, tltx("選択ツール", "Selection tool")
	setsckeytable2 63, " CMD_MAIN_SNAP", 0, tltx("スナップ", "Snap")
	setsckeytable2 67, " CMD_QTNOTE1", 0, tltx("スナップ単位を全音符に設定", "Set snap unit to whole note")
	setsckeytable2 68, " CMD_QTNOTE2", 0, tltx("スナップ単位を2分音符に設定", "Set snap unit to half note")
	setsckeytable2 69, " CMD_QTNOTE4", 0, tltx("スナップ単位を4分音符に設定", "Set snap unit to quarter note")
	setsckeytable2 70, " CMD_QTNOTE8", 0, tltx("スナップ単位を8分音符に設定", "Set snap unit to eighth note")
	setsckeytable2 71, " CMD_QTNOTE16", 0, tltx("スナップ単位を16分音符に設定", "Set snap unit to sixteenth note")
	setsckeytable2 72, " CMD_QTNOTE32", 0, tltx("スナップ単位を32分音符に設定", "Set snap unit to thirty-second note")
	setsckeytable2 73, " CMD_QTNOTE64", 0, tltx("スナップ単位を64分音符に設定", "Set snap unit to sixty-fourth note")
	setsckeytable2 49, " CMD_MAIN_TP", 0, tltx("横に拡大", "Expand horizontally")
	setsckeytable2 50, " CMD_MAIN_TM", 0, tltx("横に縮小", "Contract horizontally")
	setsckeytable2 51, " CMD_MAIN_NP", 0, tltx("縦に拡大", "Expand vertically")
	setsckeytable2 52, " CMD_MAIN_NM", 0, tltx("縦に縮小", "Contract vertically")
	setsckeytable2 53, " CMD_MAIN_PGUP", 1024 + 33, tltx("ページアップ", "Page up")
	setsckeytable2 54, " CMD_MAIN_PGDN", 1024 + 34, tltx("ページダウン", "Page down")
	setsckeytable2 55, " CMD_MAIN_HOME", 1024 + 36, tltx("先頭にスクロール", "Scroll to top")
	setsckeytable2 56, " CMD_MAIN_END", 1024 + 35, tltx("末尾にスクロール", "Scroll to end")
	setsckeytable2 57, " CMD_MAIN_AUTOSC", 0, tltx("オートスクロール", "Auto scroll")
	setsckeytable2 60, " CMD_TSCALE_TYPE", 0, tltx("時間単位切換え(秒/小節)", "Change grid(Measure/Second)")
	setsckeytable2 61, " CMD_TSCALE_MEAS", 0, tltx("小節単位に切換え", "Measure grid")
	setsckeytable2 62, " CMD_TSCALE_SEC", 0, tltx("秒単位に切換え", "Second grid")
	setsckeytable2 42, " CMD_MAIN_PREVL", 1024 + 111 + 2, tltx("再生位置を前に移動", "Seek backward")
	setsckeytable2 43, " CMD_MAIN_STOP", 111 + 3, tltx("停止", "Stop")
	setsckeytable2 44, " CMD_MAIN_PLAYS", 111 + 4, tltx("最初から再生", "Playback from the beginning")
	setsckeytable2 45, " CMD_MAIN_PLAY", 111 + 5, tltx("再生/一時停止", "Start playing/Pause")
	setsckeytable2 46, " CMD_MAIN_PLAY2", 32, tltx("再生/一時停止", "Start playing/Pause")
	setsckeytable2 47, " CMD_MAIN_PLAYSTOP", 0, tltx("再生/停止", "Start/Stop playing")
	setsckeytable2 48, " CMD_MAIN_NEXTL", 1024 + 111 + 6, tltx("再生位置を後に移動", "Seek forward")
	setsckeytable2 58, " CMD_MAIN_LOOP", 0, tltx("リピート再生", "Repeat")
	setsckeytable2 59, " CMD_METRONOME", 0, tltx("メトロノーム", "Metronome")
	setsckeytable2 25, " CMD_PRJ_SETTINGS", 0, tltx("プロジェクト設定", "Project Settings")
	setsckeytable2 26, " CMD_CHECK_VOLUME", 0, tltx("最大音量計測", "Check maximum volume")
	var_809 = 1
	setsckeytable2 86, " CMD_CUT_TRACK", 256 + 88, tltx("トラック切り取り", "Cut tracks")
	setsckeytable2 87, " CMD_COPY_TRACK", 256 + 67, tltx("トラックコピー", "Copy tracks")
	setsckeytable2 88, " CMD_PASTE_TRACK", 256 + 86, tltx("トラック貼り付け", "Paste tracks")
	setsckeytable2 89, " CMD_DEL_TRACK", 46, tltx("トラック削除", "Delete tracks")
	setsckeytable2 90, " CMD_SEL_ALL_TRACK", 256 + 65, tltx("すべてのトラックを選択", "Select all tracks")
	setsckeytable2 91, " CMD_CLR_SEL_TRACK", 0, tltx("トラック選択解除", "Deselect tracks")
	setsckeytable2 94, " CMD_SET_MTRACK", 0, tltx("マスタートラック設定", "Master track Settings")
	setsckeytable2 92, " CMD_ADD_TRACK", 256 + 84, tltx("トラック追加", "Add track")
	setsckeytable2 93, " CMD_SET_TRACK", 256 + 71, tltx("トラック設定", "Track Settings")
	setsckeytable2 95, " CMD_EXP_SEL_TRACK", 0, tltx("選択トラックをWAVEファイルに出力", "Export selected tracks")
	setsckeytable2 96, " CMD_EXP_SEL_TRACK_BT", 0, tltx("選択トラックをトラックごとにWAVEファイルに出力", "Export selected tracks by track")
	setsckeytable2 40, " CMD_MAIN_UPTRACK", 0, tltx("トラックを上に移動", "Move selected track up")
	setsckeytable2 41, " CMD_MAIN_DOWNTRACK", 0, tltx("トラックを下に移動", "Move selected track down")
	setsckeytable2 97, " CMD_MUTE_TRACK", 0, tltx("選択トラックをミュートにする", "Set selected track mute")
	setsckeytable2 98, " CMD_SOLO_TRACK", 0, tltx("選択トラックをソロにする", "Set selected track solo")
	var_809 = 2
	setsckeytable2 99, " CMD_CUT_ITEM", 256 + 88, tltx("アイテム切り取り", "Cut items")
	setsckeytable2 100, " CMD_COPY_ITEM", 256 + 67, tltx("アイテムコピー", "Copy items")
	setsckeytable2 101, " CMD_PASTE_ITEM", 256 + 86, tltx("アイテム貼り付け", "Paste items")
	setsckeytable2 102, " CMD_DEL_ITEM", 46, tltx("アイテム削除", "Delete items")
	setsckeytable2 103, " CMD_SEL_ALL_ITEM", 256 + 65, tltx("すべてのアイテムを選択", "Select all items")
	setsckeytable2 104, " CMD_CLR_SEL_ITEM", 0, tltx("アイテム選択解除", "Deselect items")
	setsckeytable2 105, " CMD_SEL_NEXT_ITEM", 0, tltx("次のアイテムを選択", "Select next item")
	setsckeytable2 112, " CMD_RELOAD_ITEM_D", 0, tltx("音声ファイル差し替え(編集データ破棄)", "Reload(break edited data)")
	setsckeytable2 113, " CMD_RELOAD_ITEM_C", 0, tltx("音声ファイル差し替え(編集データ保持)", "Reload(keep edited data)")
	setsckeytable2 114, " CMD_RE_ANALYZE", 0, tltx("*PITをガイドとしてPIT再解析", "Re-analyze pitch")
	setsckeytable2 115, " CMD_BOUNCE_ITEM_NEW", 0, tltx("Waveファイルに出力", "Export item as")
	setsckeytable2 116, " CMD_BOUNCE_ITEM_REP", 0, tltx("Waveファイルに上書き出力", "Export item")
	setsckeytable2 106, " CMD_ADD_ITEM", 256 + 73, tltx("アイテム追加", "Add item")
	setsckeytable2 107, " CMD_SET_ITEM", 256 + 71, tltx("アイテム設定", "Item settings")
	setsckeytable2 108, " CMD_SET_ITEM_EQ", 256 + 81, tltx("アイテムEQ設定", "Item EQ settings")
	setsckeytable2 109, " CMD_SET_ITEM_HEQ", 0, tltx("アイテムHEQ設定", "Item HEQ settings")
	setsckeytable2 110, " CMD_ITEM_PROPERTY", 0, tltx("アイテムのプロパティ", "Item properties")
	setsckeytable2 111, " CMD_EDIT_ITEM", 256 + 69, tltx("アイテム編集", "Edit item")
	var_809 = 32752
	setsckeytable2 117, " CMD_IDE_CLTAB_CUR", 0, tltx("現在のタブを閉じる", "Close tab")
	setsckeytable2 118, " CMD_IDE_CLTAB_ELSE", 0, tltx("他のタブを閉じる", "Close other tabs")
	setsckeytable2 119, " CMD_IDE_CLTAB_L", 0, tltx("左のタブを閉じる", "Close left side tabs")
	setsckeytable2 120, " CMD_IDE_CLTAB_R", 0, tltx("右のタブを閉じる", "Close right side tabs")
	setsckeytable2 121, " CMD_IDE_CLTAB_ALL", 0, tltx("全てのタブを閉じる", "Close all tabs")
	setsckeytable2 194, " CMD_IDE_COPY", 256 + 67, tltx("コピー", "Copy")
	setsckeytable2 195, " CMD_IDE_PASTE", 256 + 86, tltx("貼り付け", "Paste")
	setsckeytable2 187, " CMD_IDE_SELALL", 256 + 65, tltx("すべて選択", "Select all")
	setsckeytable2 188, " CMD_IDE_SELLEFT", 0, tltx("前を選択", "Select previous part")
	setsckeytable2 189, " CMD_IDE_SELRIGHT", 0, tltx("後ろを選択", "Select later part")
	setsckeytable2 190, " CMD_IDE_SELCLR", 256 + 82, tltx("選択解除", "Deselect")
	setsckeytable2 180, " CMD_IDE_ADD_LABEL", 0, tltx("選択範囲にラベルを付ける", "Label the selected section")
	setsckeytable2 196, " CMD_IDE_SET_MOFFSET", 0, tltx("小節オフセット設定", "Set measure offset")
	setsckeytable2 287, " CMD_IDELABEL_EDIT", 0, tltx("ラベル編集", "Edit label")
	setsckeytable2 288, " CMD_IDELABEL_DEL", 0, tltx("ラベル削除", "Delete label")
	setsckeytable2 146, " CMD_IDE_SELTOOL", 111 + 7, tltx("選択ツール", "Selection tool")
	setsckeytable2 147, " CMD_IDE_PENTOOL", 111 + 8, tltx("ペンツール", "Pen tool")
	setsckeytable2 148, " CMD_IDE_LINETOOL", 111 + 9, tltx("直線ツール", "Line tool")
	setsckeytable2 149, " CMD_IDE_NOTETOOL", 0, tltx("ノート編集ツール", "Note tool")
	setsckeytable2 139, " CMD_IDE_SNAP", 0, tltx("半音単位で描画", "Draw in semitone increments")
	setsckeytable2 129, " CMD_IDE_TP", 0, tltx("横に拡大", "Expand horizontally")
	setsckeytable2 130, " CMD_IDE_TM", 0, tltx("横に縮小", "Contract horizontally")
	setsckeytable2 131, " CMD_IDE_TPS", 0, tltx("1sample/pixel表示", "1sample/pixel")
	setsckeytable2 132, " CMD_IDE_NP", 0, tltx("縦に拡大", "Expand vertically")
	setsckeytable2 133, " CMD_IDE_NM", 0, tltx("縦に縮小", "Contract vertically")
	setsckeytable2 134, " CMD_IDE_PGUP", 1024 + 33, tltx("ページアップ", "Page up")
	setsckeytable2 135, " CMD_IDE_PGDN", 1024 + 34, tltx("ページダウン", "Page down")
	setsckeytable2 136, " CMD_IDE_HOME", 1024 + 36, tltx("先頭にスクロール", "Scroll to top")
	setsckeytable2 137, " CMD_IDE_END", 1024 + 35, tltx("末尾にスクロール", "Scroll to end")
	setsckeytable2 157, " CMD_IDE_TIMEGL_TRACK", 0, tltx("トラック内時間", "Track time")
	setsckeytable2 158, " CMD_IDE_TIMEGL_ITEM", 0, tltx("アイテム内時間", "Item time")
	setsckeytable2 156, " CMD_IDE_TIMEGL_SWITCH", 0, tltx("時間表示モード切換え(トラック内時間/アイテム内時間)", "Change time display mode(track/item)")
	setsckeytable2 138, " CMD_IDE_AUTOSC", 0, tltx("オートスクロール", "Auto scroll")
	setsckeytable2 140, " CMD_IDE_LAYER", 0, tltx("レイヤー表示", "Display layers")
	setsckeytable2 141, " CMD_IDE_LAYERWAVE", 0, tltx("Wave波形をレイヤー表示", "Display wave on layers")
	setsckeytable2 142, " CMD_IDE_LAYERNOTE", 0, tltx("ノートをレイヤー表示", "Display note on layers")
	setsckeytable2 143, " CMD_IDE_LAYERORG", 0, tltx("編集前グラフをレイヤー表示", "Display original graph on layers")
	setsckeytable2 145, " CMD_IDE_DRAWCB", 0, tltx("クリップボードのデータを描画", "Show clip board data")
	setsckeytable2 144, " CMD_IDE_POPUP", 0, tltx("ポップアップ表示", "Popup parameter")
	setsckeytable2 161, " CMD_IDE_SYNC_SCROLL", 0, tltx("シンクロスクロール", "Synchronization scroll")
	setsckeytable2 162, " CMD_IDE_SOHWLABEL", 0, tltx("ラベル表示", "Show label")
	setsckeytable2 163, " CMD_IDE_NOTEFREQ", 0, tltx("周波数スケール表示", "Show frequency scale")
	setsckeytable2 164, " CMD_IDE_VOLDYN_LOG", 0, tltx("VOL,DYNを対数で表示", "Show VOL,DYN on logarithmic axis")
	setsckeytable2 165, " CMD_IDE_WAVE_LOG", 0, tltx("Wave波形を対数で表示", "Show wave on logarithmic axis")
	setsckeytable2 166, " CMD_IDE_SCALE_COLOR", 0, tltx("スケール上の音階を強調表示", "Display scale")
	setsckeytable2 122, " CMD_IDE_PREVL", 1024 + 111 + 2, tltx("再生位置を前に移動", "Seek backward")
	setsckeytable2 123, " CMD_IDE_STOP", 111 + 3, tltx("停止", "Stop")
	setsckeytable2 124, " CMD_IDE_PLAYS", 111 + 4, tltx("最初から再生", "Playback from the beginning")
	setsckeytable2 125, " CMD_IDE_PLAY", 111 + 5, tltx("再生/一時停止", "Start playing/Pause")
	setsckeytable2 126, " CMD_IDE_PLAY2", 32, tltx("再生/一時停止", "Start playing/Pause")
	setsckeytable2 127, " CMD_IDE_PLAYSTOP", 0, tltx("再生/停止", "Start/Stop playing")
	setsckeytable2 128, " CMD_IDE_NEXTL", 1024 + 111 + 6, tltx("再生位置を後に移動", "Seek forward")
	setsckeytable2 197, " CMD_IDE_PREV_MEAS", 0, tltx("前の小節へ移動", "Seek backward measure")
	setsckeytable2 198, " CMD_IDE_NEXT_MEAS", 0, tltx("次の小節へ移動", "Seek forward measure")
	setsckeytable2 199, " CMD_IDE_INPUT_MEAS", 0, tltx("指定小節へ移動", "Seek measure")
	setsckeytable2 191, " CMD_IDE_SETLOOP", 111 + 11, tltx("選択区間をリピート区間に設定", "Set repeat section")
	setsckeytable2 192, " CMD_IDE_SETLOOP_PLAY", 111 + 12, tltx("選択区間をリピート再生", "Repeat playback the selected section")
	setsckeytable2 193, " CMD_CLR_LOOP", 0, tltx("リピート区間解除", "Clear repeat section")
	setsckeytable2 159, " CMD_IDE_SOLOPLAY", 0, tltx("アイテムソロ再生", "Solo")
	setsckeytable2 160, " CMD_IDE_LIMIT_TIME", 0, tltx("再生時間をアイテム内に制限", "Limit play time in the item")
	setsckeytable2 167, " CMD_SET_CUR_ITEM", 0, tltx("アイテム設定", "Item settings")
	setsckeytable2 168, " CMD_SET_CUR_ITEM_EQ", 0, tltx("アイテムEQ設定", "Item EQ settings")
	setsckeytable2 169, " CMD_SET_CUR_ITEM_HEQ", 0, tltx("アイテムHEQ設定", "Item HEQ settings")
	setsckeytable2 170, " CMD_CUR_ITEM_PROPERTY", 0, tltx("アイテムのプロパティ", "Item properties")
	setsckeytable2 171, " CMD_ANALYZE_KEY", 0, tltx("キー解析", "Analyze key")
	setsckeytable2 172, " CMD_ANALYZE_PRANGE", 0, tltx("音域解析", "Analyze pitch range")
	setsckeytable2 173, " CMD_ANALYZE_FREQ", 0, tltx("基準周波数解析", "Analyze base frequency")
	setsckeytable2 174, " CMD_ANALYZE_SPC", 0, tltx("スペクトラム解析", "Analyze spectrum")
	setsckeytable2 175, " CMD_DELETE_SPC", 0, tltx("スペクトラム解析データ削除", "Delete spectrum data")
	setsckeytable2 176, " CMD_IDE_ANLNOTE", 0, tltx("ノート自動検出", "Detect notes")
	setsckeytable2 177, " CMD_IDE_IMPNOTE", 0, tltx("ノートインポート", "Import notes")
	setsckeytable2 178, " CMD_IDE_EXPNOTE", 0, tltx("ノートエクスポート", "Export notes")
	setsckeytable2 181, " CMD_IDE_IMPORT_LABEL", 0, tltx("ラベルのインポート", "Import labels")
	setsckeytable2 182, " CMD_IDE_EXPORT_LABEL", 0, tltx("ラベルのエクスポート", "Export labels")
	setsckeytable2 183, " CMD_IDE_EXPORT_WAVE", 0, tltx("アイテムをWaveファイルに出力", "Export item")
	setsckeytable2 185, " CMD_IDE_EXPORT_WAVE_S", 0, tltx("選択範囲をWaveファイルに出力", "Export selection range")
	setsckeytable2 200, " CMD_IDE_CHANGE_MODE_PIT", 0, tltx("PIT編集モード", "PIT edit mode")
	setsckeytable2 201, " CMD_IDE_CHANGE_MODE_FRM", 0, tltx("FRM編集モード", "FRM edit mode")
	setsckeytable2 202, " CMD_IDE_CHANGE_MODE_VOL", 0, tltx("VOL編集モード", "VOL edit mode")
	setsckeytable2 203, " CMD_IDE_CHANGE_MODE_PAN", 0, tltx("PAN編集モード", "PAN edit mode")
	setsckeytable2 204, " CMD_IDE_CHANGE_MODE_DYN", 0, tltx("DYN編集モード", "DYN edit mode")
	setsckeytable2 205, " CMD_IDE_CHANGE_MODE_TIME", 0, tltx("TIME編集モード", "TIME edit mode")
	setsckeytable2 206, " CMD_IDE_CHANGE_MODE_APIT", 0, tltx("*PIT編集モード", "*PIT edit mode")
	setsckeytable2 207, " CMD_IDE_CHANGE_MODE_BRE", 0, tltx("BRE編集モード", "BRE edit mode")
	setsckeytable2 208, " CMD_IDE_CHANGE_MODE_EQ1", 0, tltx("EQ1編集モード", "EQ1 edit mode")
	setsckeytable2 209, " CMD_IDE_CHANGE_MODE_EQ2", 0, tltx("EQ2編集モード", "EQ2 edit mode")
	setsckeytable2 210, " CMD_IDE_CHANGE_MODE_HEQ", 0, tltx("HEQ編集モード", "HEQ edit mode")
	var_809 = 16
	setsckeytable2 211, " CMD_IDEPIT_INI", 46, tltx("初期化", "Initialize")
	setsckeytable2 212, " CMD_IDEPIT_SHIFT", 256 + 70, tltx("セント指定ピッチシフト", "pitch shift(cent)")
	setsckeytable2 213, " CMD_IDEPIT_DSHIFT", 256 + 73, tltx("度数指定ピッチシフト", "pitch shift(degree)")
	setsckeytable2 214, " CMD_IDEPIT_SET", 256 + 84, tltx("ピッチ設定", "Set pitch")
	setsckeytable2 215, " CMD_IDEPIT_SMTH", 256 + 77, tltx("平滑化", "Averaging")
	setsckeytable2 216, " CMD_IDEPIT_AVE", 256 + 69, tltx("平均化", "Smoothing")
	setsckeytable2 217, " CMD_IDEPIT_VIB", 256 + 66, tltx("ビブラート付加", "Add vibrato")
	setsckeytable2 218, " CMD_IDEPIT_QT", 256 + 80, tltx("クオンタイズ", "Quantize")
	setsckeytable2 219, " CMD_IDEPIT_QTAVE", 256 + 81, tltx("平均値をクオンタイズ", "Quantize Average")
	setsckeytable2 220, " CMD_IDEPIT_AUTO", 256 + 85, tltx("自動補正", "Auto correction")
	setsckeytable2 221, " CMD_IDEPIT_KERO", 256 + 75, tltx("ケロケロボイス", "Kerokero voice")
	setsckeytable2 222, " CMD_IDENOTE_COM", 256 + 49, tltx("ノート結合", "Combine notes")
	setsckeytable2 223, " CMD_IDENOTE_DIV", 256 + 50, tltx("ノート分割", "Divide note")
	setsckeytable2 224, " CMD_IDENOTE_SELALL", 0, tltx("ノートすべて選択", "Select all notes")
	setsckeytable2 225, " CMD_IDENOTE_SELCLR", 0, tltx("ノート選択解除", "Deselect notes")
	setsckeytable2 226, " CMD_IDENOTE_SHIFT", 0, tltx("セント指定ピッチシフト", "pitch shift(cent)")
	setsckeytable2 227, " CMD_IDENOTE_DSHIFT", 0, tltx("度数指定ピッチシフト", "pitch shift(degree)")
	setsckeytable2 228, " CMD_IDENOTE_AUTO", 0, tltx("自動補正", "Auto correction")
	setsckeytable2 229, " CMD_IDENOTE_KERO", 0, tltx("ケロケロボイス", "Kerokero voice")
	setsckeytable2 230, " CMD_IDENOTE_SYNCITEM", 0, tltx("他のアイテムに合わせて補正", "Fitting to other item")
	var_809 = 32
	setsckeytable2 231, " CMD_IDEFRM_INI", 46, tltx("初期化", "Initialize")
	setsckeytable2 232, " CMD_IDEFRM_SHIFT", 256 + 70, tltx("フォルマントシフト", "Change formant")
	setsckeytable2 233, " CMD_IDEFRM_SET", 256 + 84, tltx("フォルマント設定", "Set formant")
	var_809 = 64
	setsckeytable2 234, " CMD_IDEVOL_INI", 46, tltx("初期化", "Initialize")
	setsckeytable2 235, " CMD_IDEVOL_SHIFT", 256 + 70, tltx("ボリューム変更", "Change Volume")
	setsckeytable2 236, " CMD_IDEVOL_SET", 256 + 84, tltx("ボリューム設定", "Set Volume")
	setsckeytable2 237, " CMD_IDEVOL_MUTE", 256 + 77, tltx("ミュート", "Mute")
	setsckeytable2 238, " CMD_IDEVOL_FADEIN", 256 + 73, tltx("フェードイン", "Fade-in")
	setsckeytable2 239, " CMD_IDEVOL_FADEOUT", 256 + 85, tltx("フェードアウト", "Fade-out")
	setsckeytable2 240, " CMD_IDEVOL_FADEINOUT", 256 + 87, tltx("フェードイン→フェードアウト", "Fade-in/Fade-out")
	setsckeytable2 241, " CMD_IDEVOL_FADEOUTIN", 256 + 69, tltx("フェードアウト→フェードイン", "Fade-out/Fade-in")
	setsckeytable2 242, " CMD_IDEVOL_APLYVOL", 0, tltx("ボリュームをダイナミクスに反映", "Reflect to DYN")
	var_809 = 128
	setsckeytable2 243, " CMD_IDEPAN_INI", 46, tltx("初期化", "Initialize")
	setsckeytable2 244, " CMD_IDEPAN_SHIFT", 256 + 70, tltx("パン変更", "Change Pan")
	setsckeytable2 245, " CMD_IDEPAN_SET", 256 + 84, tltx("パン設定", "Set Pan")
	var_809 = 256
	setsckeytable2 246, " CMD_IDEDYN_INI", 46, tltx("初期化", "Initialize")
	setsckeytable2 247, " CMD_IDEDYN_NORMAL", 256 + 69, tltx("ノーマライズ", "Normalize")
	setsckeytable2 248, " CMD_IDEDYN_SHIFT", 256 + 70, tltx("ダイナミクス変更", "Change Dynamics")
	setsckeytable2 249, " CMD_IDEDYN_MUTE", 256 + 77, tltx("ミュート", "Mute")
	setsckeytable2 250, " CMD_IDEDYN_VIB", 256 + 66, tltx("ビブラート付加", "Add vibrato")
	setsckeytable2 251, " CMD_IDEDYN_CMP", 256 + 80, tltx("コンプレッサー", "Compressor")
	setsckeytable2 252, " CMD_IDEDYN_LIMIT", 256 + 73, tltx("リミッター", "Limiter")
	setsckeytable2 253, " CMD_IDEDYN_LGAIN", 256 + 71, tltx("増幅率制限", "Limit DYN gain")
	setsckeytable2 254, " CMD_IDEDYN_AUTO", 256 + 85, tltx("自動調整", "Auto correction")
	var_809 = 512
	setsckeytable2 255, " CMD_IDETIME_ADD", 256 + 84, tltx("再生位置に制御点追加", "Add control point to playback position")
	setsckeytable2 256, " CMD_IDETIME_ADD2", 256 + 87, tltx("選択範囲に制御点追加", "Add control points to selected section")
	setsckeytable2 257, " CMD_IDETIME_ADDNOTEON", 256 + 68, tltx("ノート位置にタイミング制御点を追加", "Add control points to notes position")
	setsckeytable2 258, " CMD_IDETIME_ATTACK", 0, tltx("アタック検出", "Detect attacks")
	setsckeytable2 259, " CMD_IDETIME_DEL", 46, tltx("制御点削除", "Delete control points")
	setsckeytable2 260, " CMD_IDETIME_QTORG", 256 + 81, tltx("編集前制御点クオンタイズ", "Quantize control points(before editing)")
	setsckeytable2 261, " CMD_IDETIME_QTORG_PREV", 0, tltx("前回の設定で編集前制御点クオンタイズ", "Quantize control points by previous settings(before editing)")
	setsckeytable2 262, " CMD_IDETIME_QTEDT", 256 + 85, tltx("編集後制御点クオンタイズ", "Quantize control points(after editing)")
	setsckeytable2 263, " CMD_IDETIME_QTEDT_PREV", 0, tltx("前回の設定で編集後制御点クオンタイズ", "Quantize control points by previous settings(after editing)")
	setsckeytable2 264, " CMD_IDETIME_CLR", 256 + 73, tltx("制御点初期化", "Initialize")
	setsckeytable2 265, " CMD_IDETIME_WAVETRIM", 256 + 77, tltx("トリミング", "Trimming")
	setsckeytable2 266, " CMD_IDETIME_WAVEDEL", 256 + 69, tltx("削除", "Delete")
	var_809 = 1024
	setsckeytable2 267, " CMD_IDEAPIT_INI", 46, tltx("初期化", "Initialize")
	setsckeytable2 268, " CMD_IDEAPIT_SHIFT", 256 + 70, tltx("変更", "Change *PIT parameter")
	setsckeytable2 269, " CMD_IDEAPIT_SET", 256 + 84, tltx("設定", "Set *PIT parameter")
	setsckeytable2 270, " CMD_IDEAPIT_AVE", 256 + 69, tltx("平均化", "Averaging")
	setsckeytable2 271, " CMD_IDEAPIT_QT", 256 + 80, tltx("クオンタイズ", "Quantize")
	setsckeytable2 274, " CMD_IDEFIX_INI", 256 + 85, tltx("ピッチ有無検出", "Detect pitch flag")
	setsckeytable2 272, " CMD_IDEFIX_ENA", 256 + 66, tltx("編集可能(ピッチあり)にする", "Enable pitch editing")
	setsckeytable2 273, " CMD_IDEFIX_DIS", 256 + 73, tltx("編集不可(ピッチなし)にする", "Disable pitch editing")
	var_809 = 2048
	setsckeytable2 275, " CMD_IDEBRE_INI", 46, tltx("初期化", "Initialize")
	setsckeytable2 276, " CMD_IDEBRE_SHIFT", 256 + 70, tltx("変更", "Change BRE parameter")
	setsckeytable2 277, " CMD_IDEBRE_SET", 256 + 84, tltx("設定", "Set BRE parameter")
	var_809 = 4096
	setsckeytable2 278, " CMD_IDEBRI_INI", 46, tltx("初期化", "Initialize")
	setsckeytable2 279, " CMD_IDEBRI_SHIFT", 256 + 70, tltx("変更", "Change EQ1 parameter")
	setsckeytable2 280, " CMD_IDEBRI_SET", 256 + 84, tltx("設定", "Set EQ1 parameter")
	var_809 = 8192
	setsckeytable2 281, " CMD_IDECLE_INI", 46, tltx("初期化", "Initialize")
	setsckeytable2 282, " CMD_IDECLE_SHIFT", 256 + 70, tltx("変更", "Change EQ2 parameter")
	setsckeytable2 283, " CMD_IDECLE_SET", 256 + 84, tltx("設定", "Set EQ2 parameter")
	var_809 = 16384
	setsckeytable2 284, " CMD_IDEHEQ_INI", 46, tltx("初期化", "Initialize")
	setsckeytable2 285, " CMD_IDEHEQ_SHIFT", 256 + 70, tltx("変更", "Change HEQ parameter")
	setsckeytable2 286, " CMD_IDEHEQ_SET", 256 + 84, tltx("設定", "Set HEQ parameter")
	var_813 = dirinfo(0)
	var_814 = dirinfo(65536 | 26)
	var_815 = func_26(var_814)
	if ( var_815 != 0 ) {
		chdir var_814
		dirlist var_804, "ackiesound", 5
		if ( stat == 0 ) {
			mkdir "ackiesound"
		}
	}
	if ( var_815 != 0 ) {
		chdir var_814 + "\\" + "ackiesound"
		dirlist var_804, "vocalshifter", 5
		if ( stat == 0 ) {
			mkdir "vocalshifter"
		}
	}
	chdir var_813
	var_816 = var_392(1) + "shortcutkey3.ini"
	exist var_816
	if ( strsize == (-1) & var_815 != 0 ) {
		var_816 = var_814 + "\\" + "ackiesound" + "\\" + "vocalshifter" + "\\" + "shortcutkey3.ini"
	}
	loadini var_816
	repeat var_803
		var_810 = readini_i(var_805(cnt), var_806(cnt))
		var_806(cnt) = var_810 - (var_810 & 1024) + (var_806(cnt) & 1024)
	loop
	var_817(0) = 53, 54, 55, 56
	var_817(4) = 134, 135, 136, 137
	repeat var_803
		var_818 = var_806(cnt) \ 256
		if ( var_818 != 0 ) {
			var_819 = cnt
			var_820 = var_802(cnt)
			repeat 8
				if ( var_820 == var_817(cnt) ) {
					if ( getkeyflg(var_818) != 0 ) {
						var_806(var_819) = var_806(var_819) & 1024
						break
					}
				}
			loop
		}
	loop
	return
#deffunc exitshortcut
	if ( var_803 == 0 ) {
		return
	}
	var_813 = dirinfo(0)
	var_814 = dirinfo(65536 | 26)
	var_815 = func_26(var_814)
	if ( var_815 != 0 ) {
		chdir var_814
		dirlist var_804, "ackiesound", 5
		if ( stat == 0 ) {
			mkdir "ackiesound"
		}
	}
	if ( var_815 != 0 ) {
		chdir var_814 + "\\" + "ackiesound"
		dirlist var_804, "vocalshifter", 5
		if ( stat == 0 ) {
			mkdir "vocalshifter"
		}
	}
	chdir var_813
	if ( var_67(74) == 0 & var_815 != 0 ) {
		exist var_392(1) + "shortcutkey3.ini"
		if ( strsize >= 0 ) {
			delete var_392(1) + "shortcutkey3.ini"
		}
		var_816 = var_814 + "\\" + "ackiesound" + "\\" + "vocalshifter" + "\\" + "shortcutkey3.ini"
	}
	else {
		var_816 = var_392(1) + "shortcutkey3.ini"
	}
	initsaveini
	repeat var_803
		writeini_i var_805(cnt), var_806(cnt)
	loop
	saveini "vocalshifter", var_816
	return
#deffunc checkshortcut
	var_821 = getkeyflg(17)
	var_822 = getkeyflg(16)
	var_823 = getactivewindow()
	var_824 = 0
	if ( var_823 == 6 ) {
		if ( var_67(21) == 0 ) {
			var_824 = 1
		}
		else {
			var_824 = 2
		}
	}
	else {
		if ( var_67(198) == 1 & var_823 == 12 ) {
			if ( var_67(17) != 0 & var_67(269) > 0 ) {
				var_825 = limit(var_67(270), 0, var_67(269) - 1)
				var_826 = var_340(var_825 * 51 + 1)
				var_824 = 16 << var_826
			}
		}
	}
	repeat var_803
		var_818 = var_806(cnt) \ 256
		if ( var_818 == 0 ) {
			continue
		}
		var_827 = (var_806(cnt) & 256) != 0
		var_828 = (var_806(cnt) & 512) != 0
		var_829 = var_806(cnt) & 1024
		var_830 = var_811(cnt)
		var_831 = getkeyflg(var_818)
		if ( var_829 == 0 ) {
			if ( var_830 == 0 & var_831 == 1 ) {
				if ( var_821 == var_827 & var_822 == var_828 ) {
					if ( (var_808(cnt) & var_824) != 0 ) {
						requestcommand var_802(cnt)
					}
				}
			}
		}
		else {
			if ( var_821 == var_827 & var_822 == var_828 & var_831 == 1 ) {
				var_832 = cnt
				repeat cnvscrollsize(1)
					var_819 = var_812(var_832)
					if ( var_819 == 0 | (var_819 >= 50 & var_819 \ 10 == 0) ) {
						if ( (var_808(var_832) & var_824) != 0 ) {
							requestcommand var_802(var_832)
						}
					}
					var_812(var_832)++
				loop
			}
			else {
				var_812(cnt) = 0
			}
		}
		var_811(cnt) = var_831
	loop
	return
#defcfunc getcommandkeystr int prm_1130
	var_804 = ""
	repeat var_803
		var_833 = var_802(cnt) - (var_802(cnt) & 1024)
		if ( var_833 == prm_1130 ) {
			if ( var_806(cnt) != 0 ) {
				var_804 = kc2str(var_806(cnt))
			}
			break
		}
	loop
	return var_804
*label_389
	goto *label_400
#deffunc initeditshortcutkey
	sdim var_834, 64
	notesel var_834
	if ( var_67(58) == 2 ) {
		noteload "keydef_eng.d"
	}
	else {
		noteload "keydef_jpn.d"
	}
	var_835 = noteinfo(0)
	sdim var_836, 256
	sdim var_837, 16, 256
	dim var_838, 256
	sdim var_839, 256
	repeat var_835
		noteget var_839, cnt
		var_838(cnt) = int(strmid(var_839, 0, 4))
		var_837(cnt) = strmid(var_839, 4, 16)
		var_836 += var_837(cnt) + "\n"
	loop
	return
#defcfunc kc2index int prm_1131
	var_840 = 0
	repeat var_835
		if ( var_838(cnt) == prm_1131 ) {
			var_840 = cnt
			break
		}
	loop
	return var_840
#defcfunc index2kc int prm_1132
	return var_838(prm_1132)
#defcfunc kc2str int prm_1133
	var_841 = ""
	if ( (prm_1133 & 256) != 0 ) {
		var_841 += "Ctrl+"
	}
	if ( (prm_1133 & 512) != 0 ) {
		var_841 += "Shift+"
	}
	return var_841 + var_837(kc2index(prm_1133 & 255))
#defcfunc getcategorystr int prm_1134
	var_842 = "!"
	var_843 = prm_1134
	if ( 0 ) {
		var_844++
	}
	if ( var_843 == 32755 | var_844 ) {
		var_844 = 0
		var_842 = tltx("共通", "Common")
		goto *label_395
		var_844++
	}
	if ( var_843 == 3 | var_844 ) {
		var_844 = 0
		var_844++
	}
	if ( var_843 == 1 | var_844 ) {
		var_844 = 0
		var_844++
	}
	if ( var_843 == 2 | var_844 ) {
		var_844 = 0
		var_842 = tltx("メイン", "Main")
		goto *label_395
		var_844++
	}
	if ( var_843 == 32752 | var_844 ) {
		var_844 = 0
		var_842 = tltx("アイテム編集", "Item")
		goto *label_395
		var_844++
	}
	if ( var_843 == 16 | var_844 ) {
		var_844 = 0
		var_842 = "PIT"
		goto *label_395
		var_844++
	}
	if ( var_843 == 32 | var_844 ) {
		var_844 = 0
		var_842 = "FRM"
		goto *label_395
		var_844++
	}
	if ( var_843 == 64 | var_844 ) {
		var_844 = 0
		var_842 = "VOL"
		goto *label_395
		var_844++
	}
	if ( var_843 == 128 | var_844 ) {
		var_844 = 0
		var_842 = "PAN"
		goto *label_395
		var_844++
	}
	if ( var_843 == 256 | var_844 ) {
		var_844 = 0
		var_842 = "DYN"
		goto *label_395
		var_844++
	}
	if ( var_843 == 512 | var_844 ) {
		var_844 = 0
		var_842 = "TIME"
		goto *label_395
		var_844++
	}
	if ( var_843 == 1024 | var_844 ) {
		var_844 = 0
		var_842 = "*PIT"
		goto *label_395
		var_844++
	}
	if ( var_843 == 2048 | var_844 ) {
		var_844 = 0
		var_842 = "BRE"
		goto *label_395
		var_844++
	}
	if ( var_843 == 4096 | var_844 ) {
		var_844 = 0
		var_842 = "EQ1"
		goto *label_395
		var_844++
	}
	if ( var_843 == 8192 | var_844 ) {
		var_844 = 0
		var_842 = "EQ2"
		goto *label_395
		var_844++
	}
	if ( var_843 == 16384 | var_844 ) {
		var_844 = 0
		var_842 = "HEQ"
		goto *label_395
	}
*label_395
	return var_842
#deffunc editshortcutkey
	screen_nomin 20, 640, 350, 2 | 4
	title tltx("ショートカットキーの設定", "Shortcut key settings")
	syscolor 15
	boxf
	syscolor 8
	setfont_normal
	objmode 2
	getshortcutkeysetting var_845, var_846, var_847, var_848
	createlstview 10, 10, 620, 268
	var_849 = stat
	lsvexset var_849, 32
	lsvcladd var_849, tltx("No.", "No."), 0, 40
	lsvcladd var_849, tltx("分類", "Category"), 1, 120
	lsvcladd var_849, tltx("動作", "Action"), 2, 280
	lsvcladd var_849, tltx("ショートカットキー", "Shortcut key"), 3, 140
	repeat var_845
		lsvimadd var_849, strf("%03d", cnt + 1), cnt
		lsvsubadd var_849, getcategorystr(var_847(cnt)), cnt, 1
		lsvsubadd var_849, var_848(cnt), cnt, 2
		lsvsubadd var_849, kc2str(var_846(cnt)), cnt, 3
	loop
	objsize 100, 20
	pos 180, 315
	combox var_850, 100, var_836
	var_851 = stat
	objsize 70, 20
	pos 20, 315
	chkbox "Ctrl+", var_852
	var_853 = stat
	pos 100, 315
	chkbox "Shift+", var_854
	var_855 = stat
	objsize 100, 22
	pos 350, 315
	button gosub tltx("重複チェック", "Check overlap"), *label_399
	objsize 80, 22
	pos 460, 315
	button gosub tltx("OK", "OK"), *label_398
	var_856 = stat
	pos 550, 315
	button gosub tltx("キャンセル", "Cancel"), *label_397
	var_857 = -1
	lsvimsel var_849, 0
	objsel var_856
	waitobjectupdate
	gsel 20, 2
	var_858 = -1
	repeat
		gsel 20
		var_859 = var_860
		var_860 = getkeyflg(27)
		if ( var_67(20) == 20 ) {
			var_67(20) = 0
			var_858 = 1
		}
		if ( getactivewindow() == 20 & var_859 == 0 & var_860 == 1 ) {
			var_858 = 1
		}
		if ( var_858 != (-1) ) {
			break
		}
		var_861 = limit(lsvfound(var_849), 0, var_845 - 1)
		if ( var_861 != var_857 ) {
			if ( var_857 >= 0 ) {
				var_862 = index2kc(var_850)
				if ( var_862 ) {
					var_862 += var_852 * 256 + var_854 * 512
				}
				var_846(var_857) = var_862
				lsvsubadd var_849, kc2str(var_846(var_857)), var_857, 3
			}
			redraw 2
			syscolor 15
			boxf 10, 292, 400, 312
			syscolor 8
			pos 10, 292
			mes var_848(var_861)
			redraw 1
			var_850 = kc2index(var_846(var_861) & 255)
			var_852 = (var_846(var_861) & 256) / 256
			var_854 = (var_846(var_861) & 512) / 512
			objprm var_851, var_850
			objprm var_853, var_852
			objprm var_855, var_854
			var_863 = var_850
			var_864 = var_852
			var_865 = var_854
			var_857 = var_861
		}
		var_866 = var_867
		var_867 = getkeyflg(46)
		if ( var_866 == 0 & var_867 == 1 & getactivewindow() == 20 ) {
			objprm var_851, 0
			var_850 = 0
		}
		if ( var_850 != var_863 | var_852 != var_864 | var_854 != var_865 ) {
			if ( var_861 >= 0 ) {
				var_862 = index2kc(var_850)
				if ( var_862 ) {
					var_862 += var_852 * 256 + var_854 * 512
				}
				var_846(var_861) = var_862
				lsvsubadd var_849, kc2str(var_846(var_861)), var_861, 3
			}
			var_863 = var_850
			var_864 = var_852
			var_865 = var_854
		}
		waitinputpolling
	loop
	gsel 20, -1
	gsel 6
	destroylstview var_849
	if ( var_858 == 0 ) {
		setshortcutkeysetting var_846
		initbuttonevent
	}
	return
*label_397
	var_858 = 1
	return
*label_398
	var_858 = 0
	return
*label_399
	checkshortcutkeysetting var_845, var_846, var_847, var_848
	return
*label_400
	goto *label_402
#deffunc checkshortcutkeysetting int prm_1135, array prm_1136, array prm_1137, array prm_1138
	var_868 = 0
	var_869 = 1
	repeat 16
		if ( (var_869 & 32755) != 0 ) {
			dim var_870, 1024
			repeat prm_1135
				if ( (prm_1137(cnt) & var_869) != 0 & (prm_1136(cnt) & 1023) != 0 ) {
					if ( var_870(prm_1136(cnt) & 1023) != 0 ) {
						var_871 = var_870(prm_1136(cnt) & 1023)
						var_872 = tltx("以下のショートカットキーが重複しています。\n", "The following settings are duplicated.\n")
						var_872 += strf("No.%03d:", var_871 + 1) + prm_1138(var_871) + "\n"
						var_872 += strf("No.%03d:", cnt + 1) + prm_1138(cnt)
						msgdialog var_872
						var_868 = 1
						break
					}
					else {
						var_870(prm_1136(cnt) & 1023) = cnt
					}
				}
			loop
		}
		if ( var_868 == 1 ) {
			break
		}
		var_869 *= 2
	loop
	if ( var_868 == 0 ) {
		msgdialog tltx("ショートカットキーの重複はありません。", "Settings are not duplicated.")
	}
	return
*label_402
	goto *label_407
#deffunc initquedragdrop
	sdim var_873, 4096
	dim var_874, 256
	dim var_875, 256
	var_876 = 0
	return
#deffunc enquedragdrop str prm_1139, int prm_1140, int prm_1141
	if ( var_876 < 256 ) {
		notesel var_873
		noteadd prm_1139
		noteunsel
		var_874(var_876) = prm_1140
		var_875(var_876) = prm_1141
		var_876++
	}
	return
#deffunc dequedragdrop var prm_1142, var prm_1143, var prm_1144
	if ( var_876 > 0 ) {
		notesel var_873
		noteget prm_1142, 0
		notedel 0
		noteunsel
		prm_1143 = var_874(0)
		prm_1144 = var_875(0)
		var_876--
		repeat var_876
			var_874(cnt) = var_874(cnt + 1)
			var_875(cnt) = var_875(cnt + 1)
		loop
	}
	return
#defcfunc getquefile
	return var_876
*label_407
	goto *label_413
#deffunc initdragdrop
	initquedragdrop
	return
#deffunc setdragdrop int prm_1187
	gsel prm_1187
	oncmd gosub *label_411, 563
	DragAcceptFiles hwnd, 1
	return
#deffunc adddragdropfile str prm_1188
	enquedragdrop prm_1188, 0, 0
	return
*label_411
	var_877 = wparam
	DragQueryFileA var_877, -1, 0, 0
	var_878 = stat
	dim var_879, 2
	DragQueryPoint var_877, varptr(var_879)
	sdim var_880, 260
	sdim var_881, 260 * 2
	repeat var_878
		DragQueryFileW var_877, cnt, varptr(var_881), 260
		func_27 0, 0, varptr(var_881), -1, varptr(var_880), 260, 0, 0
		func_30 varptr(var_881), -2147483648, 7, 0, 3, 128, 0
		var_882 = stat
		var_883 = func_32()
		func_31 var_882
		func_29 varptr(var_880), -2147483648, 7, 0, 3, 128, 0
		var_884 = stat
		var_885 = func_32()
		func_31 var_884
		if ( var_882 == (-1) ) {
			vserrordialog 350, "" + var_883
		}
		else {
			if ( var_884 == (-1) ) {
				vserrordialog 351, "" + var_885
			}
			else {
				enquedragdrop var_880, var_879(0), var_879(1)
			}
		}
	loop
	DragFinish var_877
	return
#deffunc execdragdrop
	var_886 = getquefile()
	if ( var_886 == 0 ) {
		var_887 = 0
	}
	else {
		dequedragdrop var_880, var_888, var_889
		var_890 = getpath(var_880, 2 + 16)
		exist var_880
		var_891 = strsize
		if ( var_891 > 0 ) {
			var_892 = getpath(var_880, 2 + 16)
			bload var_880, var_893, 4, 0
			if ( var_892 == ".bmp" | var_892 == ".gif" | var_892 == ".png" | var_892 == ".jpg" | var_892 == ".jpeg" ) {
				var_392(7) = var_880
				loadbgimg
				resizemainwindow 1
				resizeidewindow 1
				return
			}
			if ( getpath(var_880, 8) == "ffmpeg.exe" ) {
				var_392(4) = getpath(var_880, 32)
				msgdialog tltx("FFmpegのパスを登録しました。", "The FFmpeg path has been registered.")
				return
			}
			if ( getpath(var_880, 8) == "wavext.exe" ) {
				var_392(5) = getpath(var_880, 32)
				msgdialog tltx("wavextのパスを登録しました。", "The wavext path has been registered.")
				return
			}
			if ( var_893 == 1146114902 ) {
				openproject var_880
				initquedragdrop
				return
			}
			dditemtotrack var_880, var_888, var_889, var_887, var_887 + var_886
			var_887++
		}
		else {
			vserrordialog 340, ""
		}
	}
	return
*label_413
	goto *label_415
#deffunc setmainalldrawflg
	var_67(147) = 1
	var_67(148) = 1
	var_67(154) = 1
	var_67(149) = 1
	var_67(150) = 1
	var_67(152) = 1
	var_67(153) = 1
	var_67(162) = 1
	return
*label_415
	goto *label_418
#deffunc addmtiredrawrect array prm_1189
	if ( var_894 < 256 ) {
		var_895(var_894 * 4) = prm_1189(0), prm_1189(1), prm_1189(2), prm_1189(3)
		var_894++
	}
	return
#deffunc getmtiredrawrect array prm_1190
	if ( var_894 > 0 ) {
		var_894--
		prm_1190(0) = var_895(var_894 * 4 + 0), var_895(var_894 * 4 + 1), var_895(var_894 * 4 + 2), var_895(var_894 * 4 + 3)
		var_896 = 0
	}
	else {
		var_896 = 1
	}
	return var_896
*label_418
	goto *label_421
#deffunc updatemainwindow
	var_897 = var_67(37)
	if ( 0 ) {
		var_898++
	}
	if ( var_897 == (-1) | var_898 ) {
		var_898 = 0
		var_898++
	}
	if ( var_897 == 0 | var_898 ) {
		var_898 = 0
		var_899 = 1
		goto *label_420
		var_898++
	}
	if ( var_897 == 1 | var_898 ) {
		var_898 = 0
		var_899 = 2
		goto *label_420
	}
	if ( 1 ) {
		var_899 = 4
		goto *label_420
	}
*label_420
	gsel 6
	if ( var_67(162) != 0 ) {
		redraw 1
		var_67(162) = 0
		var_67(155) = 0
		var_67(156) = 0
		var_67(157) = 0
		var_67(158) = 0
		var_67(159) = 0
		var_67(160) = 0
		var_67(161) = 0
	}
	else {
		redraw 1, var_67(111), var_67(112), var_67(113), var_67(114)
	}
	if ( var_67(155) != 0 ) {
		redraw 1, var_67(115), var_67(116), var_67(117), var_67(118)
		var_67(155) = 0
	}
	if ( var_67(156) != 0 ) {
		redraw 1, var_67(119), var_67(120), var_67(121), var_67(122)
		var_67(156) = 0
	}
	if ( var_67(157) != 0 ) {
		redraw 1, var_67(123), var_67(124), var_67(125), var_67(126)
		var_67(157) = 0
	}
	if ( var_67(158) != 0 ) {
		redraw 1, var_67(127), var_67(128), var_67(129), var_67(130)
		var_67(158) = 0
	}
	if ( var_67(9) \ var_899 == 0 ) {
		if ( var_67(160) != 0 ) {
			redraw 1, var_67(135), var_67(136), var_67(137), var_67(138)
			var_67(160) = 0
		}
	}
	if ( var_67(9) \ var_899 == 0 ) {
		if ( var_67(159) != 0 ) {
			redraw 1, var_67(131), var_67(132), var_67(133), var_67(134)
			var_67(159) = 0
		}
	}
	if ( var_67(161) != 0 ) {
		redraw 1, var_67(139), var_67(140), var_67(141), var_67(142)
		var_67(161) = 0
	}
	repeat
		getmtiredrawrect var_900
		if ( stat != 0 ) {
			break
		}
		redraw 1, var_900(0), var_900(1), var_900(2), var_900(3)
	loop
	redraw 2
	return
*label_421
	goto *label_426
#defcfunc gettrackselflg int prm_1191
	return func_8(var_67(17), prm_1191)
#deffunc settrackselflg int prm_1192, int prm_1193
	func_9 var_67(17), prm_1192, prm_1193
	return
#defcfunc getitemselflg int prm_1194
	return GetPrjItemSelFlg(var_67(17), prm_1194)
#deffunc setitemselflg int prm_1195, int prm_1196
	SetPrjItemSelFlg var_67(17), prm_1195, prm_1196
	return
*label_426
	goto *label_428
#deffunc limitmtioffset
	if ( var_67(17) == 0 ) {
		var_67(145) = 0
		var_67(146) = 0
		return
	}
	var_901 = GetMixSample(var_67(17))
	var_902 = GetPrjSampFreq(var_67(17))
	var_903 = int(double(var_901) / var_902 * var_67(143)) - var_67(129) / 2
	var_904 = getmoveitemphase()
	if ( var_67(145) > var_903 & var_904 != 4 & var_904 != 2 ) {
		var_67(145) = var_903
	}
	if ( var_67(145) < 0 ) {
		var_67(145) = 0
	}
	var_905 = (GetTrackNum(var_67(17)) - 1) * var_67(144)
	if ( var_905 < 0 ) {
		var_905 = 0
	}
	if ( var_67(146) > var_905 ) {
		var_67(146) = var_905
	}
	if ( var_67(146) < 0 ) {
		var_67(146) = 0
	}
	return
*label_428
	goto *label_432
#deffunc automtiscroll
	if ( var_67(17) != 0 ) {
		if ( var_906 == 1 ) {
			if ( vsplay_getstatus(var_67(17)) == 0 & var_67(96) == 0 ) {
				requestcommand 57
				var_907 = 1
				var_906 = 0
				return
			}
		}
		var_908 = 0
		if ( vsplay_getstatus(var_67(17)) == 1 & var_67(96) == 1 ) {
			var_908 = 1
		}
		if ( var_907 == 0 & var_67(96) == 1 ) {
			var_908 = 1
		}
		if ( var_908 == 1 & getmoveitemphase() == 0 ) {
			var_909 = var_67(145)
			repeat
				var_910 = int(0.001 * var_67(14) * var_67(143)) - var_67(145)
				if ( var_910 < 0 ) {
					var_67(145) -= var_67(129)
				}
				else {
					if ( var_910 >= var_67(129) ) {
						var_67(145) += var_67(129)
					}
					else {
						break
					}
				}
			loop
			limitmtioffset
			if ( var_67(145) != var_909 ) {
				var_67(148) = 1
				var_67(150) = 1
			}
		}
		var_907 = var_67(96)
	}
	return
#deffunc chkdisableautoscroll
	if ( var_67(17) != 0 ) {
		if ( vsplay_getstatus(var_67(17)) == 1 & var_67(96) == 1 ) {
			var_910 = int(0.001 * var_67(14) * var_67(143)) - var_67(145)
			if ( var_910 < 0 | var_910 >= var_67(129) ) {
				var_67(96) = 0
				var_906 = 1
			}
		}
	}
	return
#deffunc setmtiautoscrollrequest
	var_907 = 0
	return
*label_432
	goto *label_445
#deffunc addtrack int prm_1197
	if ( var_67(17) != 0 ) {
		var_911 = GetTrackNum(var_67(17))
		if ( var_911 == 64 ) {
			vserrordialog 410, ""
		}
		else {
			repeat var_911
				settrackselflg cnt, 0
			loop
			func_3 var_67(17)
			settrackselflg var_911, 1
			SetTrackColor var_67(17), var_911, var_911 \ 8
			setmainalldrawflg
			if ( prm_1197 == 0 ) {
				oneditproject
			}
		}
	}
	return
#deffunc copytrack int prm_1198
	if ( var_67(17) != 0 ) {
		var_911 = GetTrackNum(var_67(17))
		if ( var_911 == 64 ) {
			vserrordialog 410, ""
		}
		else {
			repeat var_911
				var_912 = cnt
				if ( gettrackselflg(var_912) == 1 ) {
					func_4 var_67(17), var_913, var_67(17), var_912
					settrackselflg var_912, 0
					settrackselflg var_913, 1
				}
			loop
			setmainalldrawflg
			if ( prm_1198 == 0 ) {
				oneditproject
			}
		}
	}
	return
#deffunc deletetrack int prm_1199
	if ( var_67(17) != 0 ) {
		var_911 = GetTrackNum(var_67(17))
		repeat var_911
			var_912 = var_911 - cnt - 1
			if ( gettrackselflg(var_912) == 1 ) {
				func_7 var_67(17), var_912
			}
		loop
		closedisabletab
		setmainalldrawflg
		setidealldrawflg
		if ( prm_1199 == 0 ) {
			oneditproject
		}
	}
	return
#deffunc uptrack int prm_1200
	if ( var_67(17) != 0 ) {
		var_911 = GetTrackNum(var_67(17))
		if ( gettrackselflg(0) == 0 ) {
			repeat var_911
				var_912 = cnt
				if ( gettrackselflg(var_912) == 1 ) {
					func_5 var_67(17), var_912
				}
			loop
			setmainalldrawflg
			if ( prm_1200 == 0 ) {
				oneditproject
			}
		}
	}
	return
#deffunc downtrack int prm_1201
	if ( var_67(17) != 0 ) {
		var_911 = GetTrackNum(var_67(17))
		if ( gettrackselflg(var_911 - 1) == 0 ) {
			repeat var_911
				var_912 = var_911 - cnt - 1
				if ( gettrackselflg(var_912) == 1 ) {
					func_6 var_67(17), var_912
				}
			loop
			setmainalldrawflg
			if ( prm_1201 == 0 ) {
				oneditproject
			}
		}
	}
	return
#deffunc selalltrack
	if ( var_67(17) != 0 ) {
		var_911 = GetTrackNum(var_67(17))
		repeat var_911
			settrackselflg cnt, 1
		loop
		setmainalldrawflg
	}
	return
#deffunc clearseltrack
	if ( var_67(17) != 0 ) {
		var_911 = GetTrackNum(var_67(17))
		repeat var_911
			settrackselflg cnt, 0
		loop
		setmainalldrawflg
	}
	return
#deffunc copytracktocb
	if ( var_67(17) != 0 ) {
		var_914 = var_392(2) + "vocalshifter" + "_tr.clb.vshp"
		saveproject var_914, 1
	}
	return
#deffunc cuttracktocb
	if ( var_67(17) != 0 ) {
		copytracktocb
		deletetrack
	}
	return
#deffunc pastetrackfromcb
	if ( var_67(17) != 0 ) {
		var_914 = var_392(2) + "vocalshifter" + "_tr.clb.vshp"
		exist var_914
		var_915 = strsize
		if ( var_915 >= 0 ) {
			var_911 = GetTrackNum(var_67(17))
			if ( var_911 == 64 ) {
				vserrordialog 410, ""
			}
			else {
				var_916 = var_911
				repeat var_911
					if ( gettrackselflg(cnt) == 1 ) {
						var_916 = cnt + 1
					}
					settrackselflg cnt, 0
				loop
				sdim var_917, 512 * 1024
				OpenProjectEx var_918, var_914, var_917, 1
				repeat 1024
					dupptr var_919, varptr(var_917) + 512 * cnt + 256, 256, vartype("str")
					sdim var_920, 256
					var_920 = var_919
					if ( var_920 == "" ) {
						break
					}
					var_921 = getdecodefilename(var_920, var_67(2))
					if ( var_921 != var_920 ) {
						exist var_921
						if ( strsize < 0 ) {
							repeat 4
								var_922 = getdecodefilename(var_920, cnt)
								exist var_922
								if ( strsize >= 0 ) {
									CopyFileA var_922, var_921, 0
									if ( stat == 0 ) {
										vserrordialog 333, ""
									}
									break
								}
							loop
						}
						exist var_921
						if ( strsize < 0 ) {
							decodesoundfile var_920, var_921
							if ( stat != 0 ) {
								var_923 = stat
								break
							}
						}
					}
				loop
				sdim var_917, 0
				func_1 var_924, var_914
				var_923 = stat
				if ( var_924 != 0 ) {
					var_925 = GetTrackNum(var_924)
					repeat var_925
						var_926 = func_8(var_924, cnt)
						if ( var_926 == 1 ) {
							func_4 var_67(17), var_927, var_924, cnt
						}
					loop
					DeleteProject var_924
				}
				else {
					vserrordialog 320, ""
				}
				var_928 = var_911 - var_916
				if ( var_928 > 0 ) {
					repeat var_928
						uptrack 1
					loop
				}
				setmainalldrawflg
				oneditproject
			}
		}
	}
	return
#deffunc setmutetrack
	if ( var_67(17) != 0 ) {
		var_911 = GetTrackNum(var_67(17))
		var_929 = 1
		repeat var_911
			if ( gettrackselflg(cnt) == 1 ) {
				var_930 = GetTrackMuteFlg(var_67(17), cnt)
				if ( var_930 != 1 ) {
					var_929 = 0
					break
				}
			}
		loop
		var_931 = 1
		if ( var_929 == 1 ) {
			var_931 = 0
		}
		repeat var_911
			if ( gettrackselflg(cnt) == 1 ) {
				SetTrackMuteFlg var_67(17), cnt, var_931
			}
		loop
		setmainalldrawflg
		oneditproject
	}
	return
#deffunc setsolotrack
	if ( var_67(17) != 0 ) {
		var_911 = GetTrackNum(var_67(17))
		var_932 = 1
		repeat var_911
			if ( gettrackselflg(cnt) == 1 ) {
				var_930 = GetTrackSoloFlg(var_67(17), cnt)
				if ( var_930 != 1 ) {
					var_932 = 0
					break
				}
			}
		loop
		var_933 = 1
		if ( var_932 == 1 ) {
			var_933 = 0
		}
		repeat var_911
			if ( gettrackselflg(cnt) == 1 ) {
				SetTrackSoloFlg var_67(17), cnt, var_933
			}
		loop
		setmainalldrawflg
		oneditproject
	}
	return
*label_445
	goto *label_453
#deffunc deleteitem
	if ( var_67(17) != 0 ) {
		var_934 = GetPrjItemNum(var_67(17))
		repeat var_934
			var_935 = var_934 - cnt - 1
			if ( getitemselflg(var_935) == 1 ) {
				DeletePrjItem var_67(17), var_935
			}
		loop
		var_934 = GetPrjItemNum(var_67(17))
		repeat var_934
			setitemselflg cnt, 0
		loop
		closedisabletab
		setmainalldrawflg
		setidealldrawflg
		oneditproject
	}
	return
#deffunc selallitem
	if ( var_67(17) != 0 ) {
		var_934 = GetPrjItemNum(var_67(17))
		repeat var_934
			setitemselflg cnt, 1
		loop
		setmainalldrawflg
	}
	return
#deffunc clearselitem
	if ( var_67(17) != 0 ) {
		var_934 = GetPrjItemNum(var_67(17))
		repeat var_934
			setitemselflg cnt, 0
		loop
		setmainalldrawflg
	}
	return
#deffunc selectnextitem
	if ( var_67(17) != 0 ) {
		var_934 = GetPrjItemNum(var_67(17))
		if ( var_934 >= 2 ) {
			dimtype var_936, 3, var_934, 0, 0, 0
			dim var_937, var_934
			repeat var_934
				var_936(cnt) = vslib_getprjitemoffset(var_67(17), cnt)
				var_937(cnt) = cnt
			loop
			MergeSort_double var_936, var_937, var_934
			dim var_938, var_934
			repeat var_934
				var_938(cnt) = cnt
				var_939 = GetPrjItemTrackNum(var_67(17), cnt)
				var_938(cnt) += 1024 * 1024 * var_939
			loop
			repeat var_934
				var_940 = var_937(cnt)
				var_938(var_940) += 1024 * cnt
			loop
			repeat var_934
				var_937(cnt) = cnt
			loop
			MergeSort_int var_938, var_937, var_934
			repeat var_934
				if ( getitemselflg(var_937(cnt)) == 1 ) {
					var_940 = var_937((cnt + 1) \ var_934)
					break
				}
			loop
			repeat var_934
				if ( cnt == var_940 ) {
					setitemselflg cnt, 1
				}
				else {
					setitemselflg cnt, 0
				}
			loop
			var_941 = vslib_getprjitemoffset(var_67(17), var_940)
			var_942 = GetPrjSampFreq(var_67(17))
			var_67(145) = int(var_941 / var_942 * var_67(143))
			var_943 = var_67(144)
			var_939 = GetPrjItemTrackNum(var_67(17), var_940)
			var_944 = var_939 * var_943
			if ( var_67(146) > var_944 ) {
				var_67(146) = var_944
			}
			var_944 = (var_939 + 1) * var_943 - var_67(130) / var_943 * var_943
			if ( var_67(146) < var_944 ) {
				var_67(146) = var_944
			}
			limitmtioffset
			chkdisableautoscroll
		}
		setmainalldrawflg
	}
	return
#deffunc copyitemtocb
	if ( var_67(17) != 0 ) {
		var_945 = var_392(2) + "vocalshifter" + "_tr.clb.vshp"
		saveproject var_945, 1
	}
	return
#deffunc cutitemtocb
	if ( var_67(17) != 0 ) {
		copyitemtocb
		deleteitem
	}
	return
#deffunc pasteitemfromcb
	if ( var_67(17) != 0 ) {
		var_945 = var_392(2) + "vocalshifter" + "_tr.clb.vshp"
		exist var_945
		var_946 = strsize
		if ( var_946 >= 0 ) {
			var_934 = GetPrjItemNum(var_67(17))
			repeat var_934
				setitemselflg cnt, 0
			loop
			sdim var_947, 512 * 1024
			OpenProjectEx var_948, var_945, var_947, 1
			repeat 1024
				dupptr var_949, varptr(var_947) + 512 * cnt + 256, 256, vartype("str")
				sdim var_950, 256
				var_950 = var_949
				if ( var_950 == "" ) {
					break
				}
				var_951 = getdecodefilename(var_950, var_67(2))
				if ( var_951 != var_950 ) {
					exist var_951
					if ( strsize < 0 ) {
						repeat 4
							var_952 = getdecodefilename(var_950, cnt)
							exist var_952
							if ( strsize >= 0 ) {
								CopyFileA var_952, var_951, 0
								if ( stat == 0 ) {
									vserrordialog 333, ""
								}
								break
							}
						loop
					}
					exist var_951
					if ( strsize < 0 ) {
						decodesoundfile var_950, var_951
						if ( stat != 0 ) {
							var_953 = stat
							break
						}
					}
				}
			loop
			sdim var_947, 0
			func_1 var_954, var_945
			var_953 = stat
			if ( var_954 != 0 ) {
				var_955 = GetPrjItemNum(var_954)
				var_956 = GetTrackNum(var_67(17))
				var_957 = 0.0
				var_958 = 0
				var_959 = 0
				repeat var_955
					var_960 = GetPrjItemSelFlg(var_954, cnt)
					if ( var_960 == 1 ) {
						var_941 = vslib_getprjitemoffset(var_954, cnt)
						var_961 = GetPrjItemTrackNum(var_954, cnt)
						if ( var_959 == 0 ) {
							var_957 = var_941
							var_958 = var_961
							var_959 = 1
						}
						else {
							if ( var_941 < var_957 ) {
								var_957 = var_941
							}
							if ( var_961 < var_958 ) {
								var_958 = var_961
							}
						}
					}
				loop
				var_962 = var_67(13)
				var_963 = -1
				repeat var_956
					if ( gettrackselflg(cnt) == 1 ) {
						var_963 = cnt
						break
					}
				loop
				if ( var_963 == (-1) ) {
					addtrack 1
					var_956 = GetTrackNum(var_67(17))
					var_963 = var_956 - 1
				}
				repeat var_955
					var_960 = GetPrjItemSelFlg(var_954, cnt)
					if ( var_960 == 1 ) {
						CopyPrjItem var_67(17), var_940, var_954, cnt
						if ( var_940 >= 0 ) {
							var_961 = GetPrjItemTrackNum(var_954, cnt)
							var_941 = vslib_getprjitemoffset(var_954, cnt)
							var_941 = var_941 - var_957 + var_962
							var_961 = var_961 - var_958 + var_963
							var_964 = limit(var_961, 0, 64 - 1)
							if ( var_964 >= var_956 ) {
								repeat var_964 - var_956 + 1
									addtrack 1
								loop
								var_956 = GetTrackNum(var_67(17))
							}
							SetPrjItemTrackNum var_67(17), var_940, limit(var_961, 0, var_956 - 1)
							if ( var_67(99) != 0 ) {
								var_941 = getqtsample(var_941)
							}
							SetPrjItemOffset var_67(17), var_940, var_941
						}
					}
				loop
				DeleteProject var_954
			}
			else {
				vserrordialog 320, ""
			}
			setmainalldrawflg
			oneditproject
		}
	}
	return
*label_453
	goto *label_466
#deffunc zoomitempanel_timeexp
	if ( var_67(17) != 0 ) {
		var_965 = GetPrjSampFreq(var_67(17))
		createxzoomlist var_966, var_967, var_965
		var_968 = var_67(145) + var_67(129) / 2
		repeat var_967 - 1, 0
			if ( var_67(143) == var_966(cnt) ) {
				var_67(143) = var_966(cnt + 1)
				var_968 = int(double(var_968) * var_966(cnt + 1) / var_966(cnt))
				break
			}
		loop
		var_67(145) = var_968 - var_67(129) / 2
		limitmtioffset
		setmainalldrawflg
	}
	return
#deffunc zoomitempanel_timecnt
	if ( var_67(17) != 0 ) {
		var_965 = GetPrjSampFreq(var_67(17))
		createxzoomlist var_966, var_967, var_965
		var_968 = var_67(145) + var_67(129) / 2
		repeat var_967 - 1, 1
			if ( var_67(143) == var_966(cnt) ) {
				var_67(143) = var_966(cnt - 1)
				var_968 = int(double(var_968) * var_966(cnt - 1) / var_966(cnt))
				break
			}
		loop
		var_67(145) = var_968 - var_67(129) / 2
		limitmtioffset
		setmainalldrawflg
	}
	return
#deffunc zoomitempanel_trackexp
	if ( var_67(17) != 0 ) {
		var_969 = 26, 37, 48, 59, 70, 86, 106, 130, 158
		var_970 = 9
		var_971 = var_67(146) / var_67(144)
		repeat var_970
			var_972 = cnt
			if ( var_969(var_972) > var_67(144) ) {
				var_67(144) = var_969(var_972)
				break
			}
		loop
		var_67(146) = var_67(144) * var_971
		limitmtioffset
		setmainalldrawflg
	}
	return
#deffunc zoomitempanel_trackcnt
	if ( var_67(17) != 0 ) {
		var_969 = 26, 37, 48, 59, 70, 86, 106, 130, 158
		var_970 = 9
		var_971 = var_67(146) / var_67(144)
		repeat var_970
			var_972 = var_970 - 1 - cnt
			if ( var_969(var_972) < var_67(144) ) {
				var_67(144) = var_969(var_972)
				break
			}
		loop
		var_67(146) = var_67(144) * var_971
		limitmtioffset
		setmainalldrawflg
	}
	return
#defcfunc checkshowtrackvol
	return var_67(144) >= 37
#defcfunc checkshowtrackpan
	return var_67(144) >= 59
#defcfunc checkshowtracklevel
	return var_67(144) >= 70
#defcfunc checkshowtrackleveltext
	return var_67(144) >= 86
#deffunc pageupitempanel
	if ( var_67(17) != 0 ) {
		var_67(145) -= var_67(129)
		limitmtioffset
		chkdisableautoscroll
		setmainalldrawflg
	}
	return
#deffunc pagedownitempanel
	if ( var_67(17) != 0 ) {
		var_67(145) += var_67(129)
		limitmtioffset
		chkdisableautoscroll
		setmainalldrawflg
	}
	return
#deffunc scrollitempanel_home
	if ( var_67(17) != 0 ) {
		var_67(145) = 0
		limitmtioffset
		chkdisableautoscroll
		setmainalldrawflg
	}
	return
#deffunc scrollitempanel_end
	if ( var_67(17) != 0 ) {
		var_67(145) = 1073741823
		limitmtioffset
		chkdisableautoscroll
		setmainalldrawflg
	}
	return
*label_466
	goto *label_468
#deffunc createxzoomlist array prm_1202, var prm_1203, int prm_1204
	prm_1202(0) = 6, 9, 12, 17, 25, 35, 50, 70, 100, 140
	prm_1202(10) = 200, 280, 400, 560, 800, 1120, 1600, 2240, 3200, 4480
	prm_1202(20) = 6400
	prm_1203 = 21
	prm_1202(prm_1203) = prm_1204, prm_1204 * 2, prm_1204 * 4
	prm_1203 += 3
	var_973 = prm_1204
	repeat
		if ( var_973 \ 2 == 0 ) {
			var_973 = var_973 / 2
		}
		else {
			if ( var_973 \ 5 == 0 ) {
				var_973 = var_973 / 5 * 2
			}
			else {
				break
			}
		}
		if ( var_973 <= 6400 ) {
			break
		}
		prm_1202(prm_1203) = var_973
		prm_1203++
	loop
	sortval prm_1202
	return
*label_468
	goto *label_471
#deffunc sortitemofset
	var_974 = GetPrjItemNum(var_67(17))
	if ( var_974 > 0 ) {
		dim var_975, var_974
		dimtype var_976, 3, var_974, 0, 0, 0
		repeat var_974
			var_975(cnt) = cnt
			var_976(cnt) = vslib_getprjitemoffset(var_67(17), cnt)
			if ( getitemselflg(cnt) != 0 ) {
				var_976(cnt) += 0.1
			}
		loop
		MergeSort_double var_976, var_975, var_974
	}
	return
#defcfunc getsortitemnum int prm_1205
	var_977 = 0
	if ( prm_1205 >= 0 & prm_1205 < var_974 ) {
		var_977 = var_975(prm_1205)
	}
	return var_977
*label_471
	goto *label_474
#defcfunc getqtsample double prm_1206
	var_978 = prm_1206
	var_979 = var_67(100)
	var_980 = 0
	if ( var_979 <= 6 ) {
		var_980 = 960 * 4 >> var_979
	}
	if ( var_979 >= 7 & var_979 <= 12 ) {
		var_980 = 2880 >> var_979 - 7
	}
	if ( var_979 >= 13 & var_979 <= 18 ) {
		var_980 = 1280 >> var_979 - 13
	}
	var_981 = GetPrjSampFreq(var_67(17))
	var_982 = getquarternotesec() * var_981
	var_983 = var_982 * var_980 / 960.0
	var_978 = var_983 * int(var_978 / var_983 + 0.5)
	return var_978
#defcfunc getqtsample2 double prm_1207, int prm_1208
	var_978 = prm_1207
	var_980 = prm_1208
	var_981 = GetPrjSampFreq(var_67(17))
	var_982 = getquarternotesec() * var_981
	var_983 = var_982 * var_980 / 960.0
	if ( var_978 >= 0 ) {
		var_978 = var_983 * int(var_978 / var_983 + 0.5)
	}
	else {
		var_978 = var_983 * int(var_978 / var_983 - 0.5)
	}
	return var_978
*label_474
	goto *label_477
#deffunc editmainmasterpanel
	var_984 = var_985
	var_986 = var_987
	var_985 = getkeyflg(var_67(3))
	var_987 = getkeyflg(var_67(4))
	var_988 = getkeyflg(16)
	var_989 = getkeyflg(17)
	if ( getactivewindow() != 6 ) {
		return
	}
	var_990 = 0
	var_991 = 0
	if ( var_67(17) != 0 ) {
		gsel 6
		var_992 = _mousex() - var_67(115)
		var_993 = _mousey() - var_67(116)
		var_994 = 0
		var_995 = 0
		var_996 = var_67(117)
		var_997 = var_67(118)
		var_998 = var_994 + 10
		var_999 = var_995 + 20
		var_1000 = 120
		var_1001 = 17
		var_1002 = 20
		if ( var_992 >= var_994 & var_993 >= var_995 & var_992 < var_994 + var_996 & var_993 < var_995 + var_997 ) {
			var_990 = 1
			if ( var_992 >= var_998 & var_993 >= var_999 & var_992 < var_998 + var_1000 & var_993 < var_999 + var_1001 ) {
				var_991 = 4
			}
		}
		if ( var_984 == 0 & var_985 == 1 ) {
			if ( var_991 == 4 ) {
				var_1003 = 1
			}
			else {
				var_1003 = 0
			}
		}
		if ( var_991 == 4 ) {
			setmainstatusstr tltx("マスターボリューム", "Master volume"), 0
			if ( var_984 == 0 & var_985 == 1 ) {
				var_1004 = 1
				var_1005 = var_992
				var_1006 = vslib_getprjmastervolume(var_67(17))
				var_1007 = 20.0 * logf(var_1006) / logf(10.0)
				var_1008 = (var_1007 + 36.0) / (36.0 + 12.0)
				var_1009 = limit(int(var_1008 * (var_1000 - var_1002)), 0, var_1000 - var_1002) + var_998
			}
		}
		if ( var_990 == 1 ) {
			if ( var_984 == 0 & var_985 == 1 ) {
				var_1010 = GetTickCount()
				if ( var_1010 - var_1011 < 400 ) {
					var_1012 = abs(var_992 - var_1013) + abs(var_993 - var_1014)
					if ( var_991 != 4 & var_1012 < 10 ) {
						setmastertrackoption
					}
					if ( var_991 == 4 ) {
						var_1004 = 0
						SetPrjMasterVolume var_67(17), 1.0
						oneditproject
						var_67(147) = 1
					}
				}
				var_1013 = var_992
				var_1014 = var_993
				var_1011 = var_1010
			}
		}
		if ( var_990 == 1 ) {
			if ( var_986 == 1 & var_987 == 0 ) {
				if ( var_1015 == 0 ) {
					var_67(167) = 1
				}
				var_1015 = 0
			}
		}
		if ( var_1004 == 1 ) {
			if ( var_987 == 1 ) {
				SetPrjMasterVolume var_67(17), var_1006
				var_1004 = 0
				var_1015 = 1
			}
			else {
				if ( var_985 == 0 ) {
					var_1004 = 0
					oneditproject
				}
				else {
					var_1008 = double(var_992 - var_1005) / (var_1000 - var_1002)
					var_1016 = limitf(var_1007 + var_1008 * (36.0 + 12.0), -36.0, 12.0)
					if ( var_1016 >= 0.0 ) {
						var_1016 = limitf(0.1 * int(var_1016 * 10.0 + 0.5), -36.0, 12.0)
					}
					else {
						var_1016 = limitf(0.1 * int(var_1016 * 10.0 - 0.5), -36.0, 12.0)
					}
					var_1017 = powf(10.0, var_1016 / 20.0)
					SetPrjMasterVolume var_67(17), var_1017
					var_67(147) = 1
				}
			}
		}
		if ( var_1004 == 2 ) {
			if ( var_985 == 0 ) {
				var_1004 = 0
			}
			else {
				if ( var_990 == 1 ) {
					if ( var_1018 == 0 | (var_1018 \ 10 == 0 & var_1018 >= 50) ) {
						var_1017 = vslib_getprjmastervolume(var_67(17))
						var_1016 = 20.0 * logf(var_1017) / logf(10.0)
						var_1008 = (var_1016 + 36.0) / (36.0 + 12.0)
						var_1009 = limit(int(var_1008 * (var_1000 - var_1002)), 0, var_1000 - var_1002) + var_998
						var_1019 = 3.0
						if ( var_992 < var_1009 ) {
							var_1016 -= var_1019
						}
						if ( var_992 >= var_1009 + var_1002 ) {
							var_1016 += var_1019
						}
						if ( var_1016 >= 0.0 ) {
							var_1016 = limitf(0.1 * int(var_1016 * 10.0 + 0.5), -36.0, 12.0)
						}
						else {
							var_1016 = limitf(0.1 * int(var_1016 * 10.0 - 0.5), -36.0, 12.0)
						}
						var_1017 = powf(10.0, var_1016 / 20.0)
						SetPrjMasterVolume var_67(17), var_1017
						var_1020 = 1
						var_67(147) = 1
					}
				}
			}
			var_1018++
		}
		if ( var_67(163) != 0 ) {
			if ( var_991 == 4 & var_1003 == 1 ) {
				var_1017 = vslib_getprjmastervolume(var_67(17))
				var_1016 = 20.0 * logf(var_1017) / logf(10.0)
				var_1019 = 3.0
				if ( (var_989 | var_988) == 1 ) {
					var_1019 = 1.0
				}
				if ( (var_989 & var_988) == 1 ) {
					var_1019 = 0.1
				}
				if ( var_67(163) < 0 ) {
					var_1016 += var_1019
				}
				else {
					var_1016 -= var_1019
				}
				if ( var_1016 >= 0.0 ) {
					var_1016 = limitf(0.1 * int(var_1016 * 10.0 + 0.5), -36.0, 12.0)
				}
				else {
					var_1016 = limitf(0.1 * int(var_1016 * 10.0 - 0.5), -36.0, 12.0)
				}
				var_1017 = powf(10.0, var_1016 / 20.0)
				SetPrjMasterVolume var_67(17), var_1017
				var_1020 = 1
				var_67(147) = 1
			}
		}
		if ( var_1020 == 1 & var_991 != 4 ) {
			oneditproject
			var_1020 = 0
		}
		var_1021 = 0
		if ( var_1004 == 1 | var_991 == 4 ) {
			var_1021 = 4
		}
		if ( var_1021 != var_1022 ) {
			var_67(147) = 1
			var_1022 = var_1021
		}
	}
	return
#defcfunc getmasterpanelstatus
	if ( var_1003 == 1 ) {
		return var_1021
	}
	return 0
*label_477
	goto *label_479
#deffunc editmaintimepanel
	var_1023 = var_1024
	var_1025 = var_1026
	var_1024 = getkeyflg(var_67(3))
	var_1026 = getkeyflg(var_67(4))
	var_1027 = getkeyflg(4)
	var_1028 = getkeyflg(17)
	if ( getactivewindow() != 6 ) {
		return
	}
	gsel 6
	if ( var_67(17) != 0 ) {
		var_1029 = _mousex() - var_67(119)
		var_1030 = _mousey() - var_67(120)
		var_1031 = var_67(143)
		var_1032 = var_67(145)
		var_1033 = GetMixSample(var_67(17))
		var_1034 = GetPrjSampFreq(var_67(17))
		var_1035 = int(double(var_1033) / var_1034 * 1000.0)
		if ( var_1029 >= 0 & var_1030 >= 0 & var_1029 < var_67(121) & var_1030 < var_67(122) ) {
			if ( var_1023 == 0 & var_1024 == 1 ) {
				var_1036 = GetTickCount()
				var_1037 = 0
				if ( var_1036 - var_1038 < 400 ) {
					var_1039 = abs(var_1029 - var_1040) + abs(var_1030 - var_1041)
					if ( var_1039 < 10 ) {
						var_1037 = 1
					}
				}
				if ( var_1037 == 1 ) {
					if ( vsplay_getstatus() == 0 ) {
						var_1042 = var_1029 + var_67(145)
						var_1043 = var_1042 * 1000 / var_67(143)
						vsplay_seek var_67(17), var_1043
						var_67(148) = 1
						var_67(151) = 1
						requestcommand 45
					}
					else {
						requestcommand 45
					}
				}
				else {
					if ( vsplay_getstatus() == 0 ) {
						var_1042 = var_1029 + var_67(145)
						var_1043 = var_1042 * 1000 / var_67(143)
						vsplay_seek var_67(17), var_1043
						var_67(148) = 1
						var_67(151) = 1
					}
				}
				var_1040 = var_1029
				var_1041 = var_1030
				var_1038 = var_1036
			}
			if ( var_67(40) == 0 ) {
				setmtihscrollreq
			}
			else {
				setmtivhscrollreqt
			}
			if ( var_1025 == 1 & var_1026 == 0 ) {
				if ( var_1044 == 0 ) {
					var_67(167) = 3
					var_67(166) = 32512
				}
				var_1044 = 0
			}
			var_1045 = 0
			if ( var_1046 == 0 ) {
				if ( var_67(22) != var_67(23) ) {
					var_1047 = 0.001 * var_67(22)
					var_1048 = int(var_1047 * var_1031 + 0.5) - var_1032
					var_1047 = 0.001 * var_67(23)
					var_1049 = int(var_1047 * var_1031 + 0.5) - var_1032
					if ( abs(var_1029 - var_1048) <= abs(var_1029 - var_1049) ) {
						if ( abs(var_1029 - var_1048) <= 5 ) {
							var_1045 = 1
							var_67(166) = 32644
						}
					}
					else {
						if ( abs(var_1029 - var_1049) <= 5 ) {
							var_1045 = 2
							var_67(166) = 32644
						}
					}
				}
			}
			if ( var_1023 == 0 & var_1024 == 1 ) {
				var_1050 = int(1000.0 * (var_1029 + var_1032) / var_1031 + 0.5)
				if ( var_1046 == 0 & var_1051 != 0 ) {
					if ( var_1052 <= var_1050 ) {
						var_67(22) = var_1052
						var_67(23) = var_1050
						var_1045 = 2
					}
					else {
						var_67(22) = var_1050
						var_67(23) = var_1052
						var_1045 = 1
					}
					var_67(22) = limit(var_67(22), 0, var_1035)
					var_67(23) = limit(var_67(23), 0, var_1035)
					var_67(148) = 1
					var_67(247) = 1
					var_67(251) = 1
				}
				if ( var_1046 == 0 ) {
					if ( var_1045 == 0 ) {
						var_1053 = var_1050
						var_1046 = 1
					}
					if ( var_1045 == 1 ) {
						var_1053 = var_67(23)
						var_1046 = 2
						var_1054 = -1
					}
					if ( var_1045 == 2 ) {
						var_1053 = var_67(22)
						var_1046 = 2
						var_1054 = -1
					}
					var_1055 = var_1029 + var_1032
				}
				var_1052 = var_1050
			}
		}
		if ( var_1046 == 1 ) {
			if ( var_1024 == 0 ) {
				var_1046 = 0
			}
			if ( var_1029 + var_1032 != var_1055 ) {
				var_1046 = 2
				var_1054 = -1
			}
		}
		if ( var_1046 == 2 ) {
			var_1056 = int(1000.0 * (var_1029 + var_1032) / var_1031 + 0.5)
			if ( var_1056 != var_1054 ) {
				var_67(148) = 1
				var_67(247) = 1
				var_67(251) = 1
				var_1054 = var_1056
			}
			if ( var_1053 <= var_1056 ) {
				var_67(22) = var_1053
				var_67(23) = var_1056
			}
			else {
				var_67(22) = var_1056
				var_67(23) = var_1053
			}
			var_67(22) = limit(var_67(22), 0, var_1035)
			var_67(23) = limit(var_67(23), 0, var_1035)
			var_67(166) = 32644
			if ( var_1026 != 0 ) {
				var_67(22) = var_1053
				var_67(23) = var_1053
				var_1046 = 0
				var_67(148) = 1
				var_67(247) = 1
				var_67(251) = 1
				var_1044 = 1
			}
			else {
				if ( var_1024 == 0 ) {
					var_1046 = 0
				}
			}
		}
	}
	return
*label_479
	goto *label_482
#deffunc editmaintrackpanel
	var_1057 = var_1058
	var_1059 = var_1060
	var_1058 = getkeyflg(var_67(3))
	var_1060 = getkeyflg(var_67(4))
	var_1061 = getkeyflg(16)
	var_1062 = getkeyflg(17)
	if ( getactivewindow() != 6 ) {
		return
	}
	if ( var_67(17) != 0 ) {
		gsel 6
		var_1063 = _mousex() - var_67(123)
		var_1064 = _mousey() - var_67(124)
		var_1065 = GetTrackNum(var_67(17))
		var_1066 = -1
		var_1067 = 0
		if ( var_1057 == 0 & var_1058 == 1 ) {
			var_1068 = 0
		}
		repeat var_1065
			var_1069 = cnt
			var_1070 = 0
			var_1071 = cnt * var_67(144) - var_67(146)
			var_1072 = var_67(125)
			var_1073 = var_67(144)
			if ( var_1071 + var_1073 < 0 ) {
				continue
			}
			if ( var_1071 >= var_67(126) ) {
				break
			}
			if ( var_1063 >= var_1070 & var_1064 >= var_1071 & var_1063 < var_1070 + var_1072 & var_1064 < var_1071 + var_1073 & var_1064 >= 0 & var_1064 < var_67(126) ) {
				var_1066 = var_1069
			}
			if ( var_1066 == var_1069 ) {
				repeat 3
					var_1074 = var_1070 + 136 + 21 * cnt
					var_1075 = var_1071 + 3
					var_1076 = 18
					var_1077 = 15
					if ( var_1063 >= var_1074 & var_1064 >= var_1075 & var_1063 < var_1074 + var_1076 & var_1064 < var_1075 + var_1077 ) {
						if ( cnt == 0 ) {
							var_1067 = 1
							setmainstatusstr tltx("ミュート", "Mute"), 0
						}
						if ( cnt == 1 ) {
							var_1067 = 2
							setmainstatusstr tltx("ソロ", "Solo"), 0
						}
						if ( cnt == 2 ) {
							var_1067 = 3
							setmainstatusstr tltx("逆相", "Inverse"), 0
						}
						if ( var_1057 == 0 & var_1058 == 1 ) {
							if ( cnt == 0 ) {
								var_1078 = GetTrackMuteFlg(var_67(17), var_1069)
								SetTrackMuteFlg var_67(17), var_1069, 1 - var_1078
								var_67(149) = 1
								oneditproject
							}
							if ( cnt == 1 ) {
								var_1078 = GetTrackSoloFlg(var_67(17), var_1069)
								SetTrackSoloFlg var_67(17), var_1069, 1 - var_1078
								var_67(149) = 1
								oneditproject
							}
							if ( cnt == 2 ) {
								var_1078 = GetTrackInvertFlg(var_67(17), var_1069)
								SetTrackInvertFlg var_67(17), var_1069, 1 - var_1078
								var_67(149) = 1
								oneditproject
							}
						}
					}
				loop
			}
			if ( var_1066 == var_1069 ) {
				repeat 2
					if ( cnt == 0 ) {
						if ( checkshowtrackvol() == 0 ) {
							break
						}
					}
					else {
						if ( checkshowtrackpan() == 0 ) {
							break
						}
					}
					var_1079 = var_1070 + 10
					var_1080 = var_1071 + 19 + cnt * 19
					var_1081 = 120
					var_1082 = 16
					var_1076 = 20
					if ( var_1063 >= var_1079 & var_1064 >= var_1080 & var_1063 < var_1079 + var_1081 & var_1064 < var_1080 + var_1082 ) {
						if ( cnt == 0 ) {
							var_1067 = 4
							setmainstatusstr tltx("ボリューム", "Volume"), 0
						}
						else {
							var_1067 = 5
							setmainstatusstr tltx("パン", "Pan"), 0
						}
						if ( var_1083 == 0 & var_1057 == 0 & var_1058 == 1 ) {
							var_1083 = 1
							var_1084 = cnt
							var_1085 = var_1069
							var_1068 = var_1069 * 2
							if ( var_1084 == 0 ) {
								var_1086 = var_1063
								var_1087 = vslib_gettrackvolume(var_67(17), var_1085)
								var_1088 = 20.0 * logf(var_1087) / logf(10.0)
								var_1089 = (var_1088 + 36.0) / (36.0 + 12.0)
								var_1090 = limit(int(var_1089 * (var_1081 - var_1076)), 0, var_1081 - var_1076) + var_1079
								var_1068 += 1
							}
							else {
								var_1086 = var_1063
								var_1087 = vslib_gettrackpan(var_67(17), var_1085)
								var_1090 = limit(int((var_1087 + 1.0) * 0.5 * (var_1081 - var_1076)), 0, var_1081 - var_1076) + var_1079
								var_1068 += 2
							}
						}
					}
				loop
			}
			if ( var_1066 == var_1069 ) {
				if ( var_1057 == 0 & var_1058 == 1 ) {
					var_1091 = var_1069
					var_1092 = var_1064
					var_1093 = 1
				}
				if ( var_1057 == 1 & var_1058 == 0 & var_1093 != 2 ) {
					var_1094 = var_1069
					var_1095 = var_1069
					if ( var_1061 == 1 ) {
						var_1094 = limit(var_1096, 0, var_1065 - 1)
						if ( var_1062 == 1 ) {
							settrackselflg var_1094, 1 - gettrackselflg(var_1094)
						}
					}
					var_1096 = var_1069
					if ( var_1062 == 0 ) {
						repeat var_1065
							settrackselflg cnt, 0
						loop
					}
					if ( var_1094 > var_1095 ) {
						var_1097 = var_1094
						var_1094 = var_1095
						var_1095 = var_1097
					}
					repeat var_1095 - var_1094 + 1, var_1094
						settrackselflg cnt, 1 - gettrackselflg(cnt)
					loop
					var_67(149) = 1
				}
				if ( var_1057 == 0 & var_1058 == 1 ) {
					var_1098 = GetTickCount()
					if ( var_1098 - var_1099 < 400 ) {
						var_1100 = abs(var_1063 - var_1101) + abs(var_1064 - var_1102)
						if ( var_1069 == var_1103 & var_1100 < 10 ) {
							if ( var_1067 == 0 ) {
								var_1104 = limit((var_1064 - var_1071) / 19 + 1, 1, 3)
								settrackoption var_1069, var_1104
							}
							if ( var_1067 == 4 ) {
								var_1083 = 0
								SetTrackVolume var_67(17), var_1069, 1.0
								oneditproject
								var_67(149) = 1
							}
							if ( var_1067 == 5 ) {
								var_1083 = 0
								SetTrackPan var_67(17), var_1069, 0.0
								oneditproject
								var_67(149) = 1
							}
						}
					}
					var_1103 = var_1069
					var_1101 = var_1063
					var_1102 = var_1064
					var_1099 = var_1098
				}
			}
		loop
		if ( var_1083 == 1 ) {
			if ( var_1060 == 1 ) {
				if ( var_1084 == 0 ) {
					SetTrackVolume var_67(17), var_1085, var_1087
				}
				else {
					SetTrackPan var_67(17), var_1085, var_1087
				}
				var_1083 = 0
				var_67(149) = 1
				var_1105 = 1
			}
			else {
				if ( var_1058 == 0 ) {
					var_1083 = 0
					oneditproject
				}
				else {
					if ( var_1084 == 0 ) {
						var_1089 = double(var_1063 - var_1086) / (var_1081 - var_1076)
						var_1106 = limitf(var_1088 + var_1089 * (36.0 + 12.0), -36.0, 12.0)
						if ( var_1106 >= 0.0 ) {
							var_1106 = limitf(0.1 * int(var_1106 * 10.0 + 0.5), -36.0, 12.0)
						}
						else {
							var_1106 = limitf(0.1 * int(var_1106 * 10.0 - 0.5), -36.0, 12.0)
						}
						var_1107 = powf(10.0, var_1106 / 20.0)
						SetTrackVolume var_67(17), var_1085, var_1107
					}
					else {
						var_1108 = var_1087 + double(var_1063 - var_1086) / (var_1081 - var_1076) * 2.0
						if ( var_1108 >= 0.0 ) {
							var_1108 = limitf(0.01 * int(var_1108 * 100.0 + 0.5), -1.0, 1.0)
						}
						else {
							var_1108 = limitf(0.01 * int(var_1108 * 100.0 - 0.5), -1.0, 1.0)
						}
						SetTrackPan var_67(17), var_1085, var_1108
					}
				}
				var_67(149) = 1
			}
		}
		if ( var_1083 == 2 ) {
			if ( var_1058 == 0 ) {
				var_1083 = 0
			}
			else {
				if ( var_1067 == 4 & var_1068 == var_1066 * 2 + 1 ) {
					if ( var_1109 == 0 | (var_1109 \ 10 == 0 & var_1109 >= 50) ) {
						var_1107 = vslib_gettrackvolume(var_67(17), var_1066)
						var_1106 = 20.0 * logf(var_1107) / logf(10.0)
						var_1089 = (var_1106 + 36.0) / (36.0 + 12.0)
						var_1090 = limit(int(var_1089 * (var_1081 - var_1076)), 0, var_1081 - var_1076) + var_1079
						var_1110 = 3.0
						if ( var_1063 > var_1090 ) {
							var_1106 += var_1110
						}
						if ( var_1063 <= var_1090 + var_1076 ) {
							var_1106 -= var_1110
						}
						if ( var_1106 >= 0.0 ) {
							var_1106 = limitf(0.1 * int(var_1106 * 10.0 + 0.5), -36.0, 12.0)
						}
						else {
							var_1106 = limitf(0.1 * int(var_1106 * 10.0 - 0.5), -36.0, 12.0)
						}
						var_1107 = powf(10.0, var_1106 / 20.0)
						SetTrackVolume var_67(17), var_1066, var_1107
						var_1111 = 1
						var_67(149) = 1
					}
				}
				if ( var_1067 == 5 & var_1068 == var_1066 * 2 + 2 ) {
					if ( var_1109 == 0 | (var_1109 \ 10 == 0 & var_1109 >= 50) ) {
						var_1108 = vslib_gettrackpan(var_67(17), var_1066)
						var_1090 = limit(int((var_1108 + 1.0) * 0.5 * (var_1081 - var_1076)), 0, var_1081 - var_1076) + var_1079
						var_1112 = 0.1
						if ( var_1063 > var_1090 ) {
							var_1108 += var_1112
						}
						if ( var_1063 <= var_1090 + var_1076 ) {
							var_1108 -= var_1112
						}
						if ( var_1108 >= 0.0 ) {
							var_1108 = limitf(0.01 * int(var_1108 * 100.0 + 0.5), -1.0, 1.0)
						}
						else {
							var_1108 = limitf(0.01 * int(var_1108 * 100.0 - 0.5), -1.0, 1.0)
						}
						SetTrackPan var_67(17), var_1066, limitf(var_1108, -1.0, 1.0)
						var_1111 = 1
						var_67(149) = 1
					}
				}
			}
			var_1109++
		}
		if ( var_1063 >= 0 & var_1063 < var_67(125) & var_1064 >= 0 & var_1064 < var_67(126) ) {
			if ( var_1059 == 1 & var_1060 == 0 ) {
				if ( var_1105 == 0 ) {
					var_1113 = (var_1064 + var_67(146)) / var_67(144)
					if ( var_1113 < var_1065 ) {
						if ( gettrackselflg(var_1113) == 0 ) {
							repeat var_1065
								settrackselflg cnt, 0
							loop
							settrackselflg var_1113, 1
							var_67(149) = 1
						}
					}
					var_67(167) = 2
				}
				var_1105 = 0
			}
			if ( var_67(163) != 0 ) {
				if ( var_1067 == 4 & var_1068 == var_1066 * 2 + 1 ) {
					var_1107 = vslib_gettrackvolume(var_67(17), var_1066)
					var_1106 = 20.0 * logf(var_1107) / logf(10.0)
					var_1110 = 3.0
					if ( (var_1062 | var_1061) == 1 ) {
						var_1110 = 1.0
					}
					if ( (var_1062 & var_1061) == 1 ) {
						var_1110 = 0.1
					}
					if ( var_67(163) < 0 ) {
						var_1106 += var_1110
					}
					else {
						var_1106 -= var_1110
					}
					if ( var_1106 >= 0.0 ) {
						var_1106 = limitf(0.1 * int(var_1106 * 10.0 + 0.5), -36.0, 12.0)
					}
					else {
						var_1106 = limitf(0.1 * int(var_1106 * 10.0 - 0.5), -36.0, 12.0)
					}
					var_1107 = powf(10.0, var_1106 / 20.0)
					SetTrackVolume var_67(17), var_1066, var_1107
					var_1111 = 1
					var_67(149) = 1
				}
				if ( var_1067 == 5 & var_1068 == var_1066 * 2 + 2 ) {
					var_1108 = vslib_gettrackpan(var_67(17), var_1066)
					var_1112 = 0.1
					if ( (var_1062 | var_1061) == 1 ) {
						var_1112 = 0.05
					}
					if ( (var_1062 & var_1061) == 1 ) {
						var_1112 = 0.01
					}
					if ( var_67(163) < 0 ) {
						var_1108 += var_1112
					}
					else {
						var_1108 -= var_1112
					}
					if ( var_1108 >= 0.0 ) {
						var_1108 = limitf(0.01 * int(var_1108 * 100.0 + 0.5), -1.0, 1.0)
					}
					else {
						var_1108 = limitf(0.01 * int(var_1108 * 100.0 - 0.5), -1.0, 1.0)
					}
					SetTrackPan var_67(17), var_1066, limitf(var_1108, -1.0, 1.0)
					var_1111 = 1
					var_67(149) = 1
				}
				if ( var_1067 != 4 & var_1067 != 5 ) {
					if ( var_67(40) == 0 ) {
						setmtivscrollreq
					}
					else {
						setmtivhscrollreqt
					}
				}
			}
			var_1071 = var_1065 * var_67(144) - var_67(146)
			if ( var_1057 == 1 & var_1058 == 0 ) {
				if ( var_1093 != 2 & var_1064 > var_1071 ) {
					repeat var_1065
						settrackselflg cnt, 0
					loop
					var_67(149) = 1
				}
			}
			if ( var_1057 == 1 & var_1058 == 0 ) {
				var_67(21) = 0
			}
			if ( var_1059 == 1 & var_1060 == 0 ) {
				var_67(21) = 0
			}
		}
		if ( var_1111 == 1 & var_1067 == 0 ) {
			oneditproject
			var_1111 = 0
		}
		if ( var_1093 == 1 ) {
			if ( var_1058 == 0 ) {
				var_1093 = 0
			}
			else {
				if ( abs(var_1064 - var_1092) > var_67(144) / 2 ) {
					if ( gettrackselflg(var_1091) == 0 ) {
						if ( var_1062 == 0 ) {
							repeat var_1065
								settrackselflg cnt, 0
							loop
						}
						settrackselflg var_1091, 1
						var_67(149) = 1
					}
					var_1114 = -1
					var_1093 = 2
				}
			}
		}
		if ( var_1093 == 2 ) {
			var_1115 = (var_1064 + var_67(146) + var_67(144) / 2) / var_67(144)
			var_1115 = limit(var_1115, 0, var_1065)
			var_67(169) = var_1091
			var_67(170) = var_1115
			var_67(168) = 1
			if ( var_1115 != var_1114 ) {
				var_1114 = var_1115
				var_67(149) = 1
			}
			if ( var_1064 <= 20 ) {
				var_67(146) -= cnvscrollsize(5) * var_67(61) / 100
				limitmtioffset
				var_67(149) = 1
				var_67(150) = 1
			}
			if ( var_1064 >= var_67(126) - 20 ) {
				var_67(146) += cnvscrollsize(5) * var_67(61) / 100
				limitmtioffset
				var_67(149) = 1
				var_67(150) = 1
			}
			if ( var_1060 == 1 ) {
				var_1093 = 0
				var_67(168) = 0
				var_67(149) = 1
				var_1105 = 1
			}
			else {
				if ( var_1058 == 0 ) {
					if ( var_1062 == 0 ) {
						if ( var_1115 - var_1091 - 1 > 0 ) {
							repeat var_1115 - var_1091 - 1
								downtrack 1
							loop
						}
						if ( var_1091 - var_1115 > 0 ) {
							repeat var_1091 - var_1115
								uptrack 1
							loop
						}
					}
					else {
						copytrack 1
						if ( var_1065 - var_1115 > 0 ) {
							repeat var_1065 - var_1115
								uptrack 1
							loop
						}
					}
					var_1093 = 0
					oneditproject
					var_67(168) = 0
					var_67(149) = 1
				}
			}
		}
		if ( var_1083 == 1 ) {
			var_1066 = var_1085
			if ( var_1084 == 0 ) {
				var_1067 = 4
			}
			else {
				var_1067 = 5
			}
		}
		if ( var_1066 != var_1116 | var_1067 != var_1117 ) {
			var_67(149) = 1
			var_1116 = var_1066
			var_1117 = var_1067
		}
	}
	return
#defcfunc gettrackpanelstatus int prm_1209
	var_1118 = 0
	if ( prm_1209 == var_1066 ) {
		if ( var_1067 == 4 & var_1068 == prm_1209 * 2 + 1 ) {
			var_1118 = 4
		}
		if ( var_1067 == 5 & var_1068 == prm_1209 * 2 + 2 ) {
			var_1118 = 5
		}
	}
	return var_1118
*label_482
	goto *label_486
#deffunc editmainitempanel
	var_1119 = var_1120
	var_1121 = var_1122
	var_1123 = var_1124
	var_1120 = getkeyflg(var_67(3))
	var_1122 = getkeyflg(var_67(4))
	var_1124 = getkeyflg(4)
	var_1125 = getkeyflg(16)
	var_1126 = getkeyflg(17)
	if ( getactivewindow() != 6 ) {
		var_1127 = 0
		return
	}
	gsel 6
	var_1128 = _mousex() - var_67(127)
	var_1129 = _mousey() - var_67(128)
	var_1130 = 0
	if ( var_1128 >= 0 & var_1129 >= 0 & var_1128 < var_67(129) & var_1129 < var_67(130) ) {
		var_1130 = 1
	}
	if ( var_67(101) == 1 & var_1130 == 1 ) {
		var_67(166) = 32515
	}
	if ( var_67(17) != 0 ) {
		var_1131 = GetPrjSampFreq(var_67(17))
		var_1132 = GetPrjItemNum(var_67(17))
		var_1133 = GetTrackNum(var_67(17))
		var_1134 = -1
		sortitemofset
		if ( var_1135 == 2 | var_1135 == 4 | var_1135 == 6 ) {
			if ( var_1129 <= 20 ) {
				var_1136 = cnvscrollsize((var_1137 / 120 + 1) * 5) * var_67(61) / 100
				var_67(146) -= var_1136
				limitmtioffset
				var_67(149) = 1
				var_67(150) = 1
				var_1137 += cnvscrollsize(1)
			}
			else {
				if ( var_1129 >= var_67(130) - 20 ) {
					var_1136 = cnvscrollsize((var_1137 / 120 + 1) * 5) * var_67(61) / 100
					var_67(146) += var_1136
					limitmtioffset
					var_67(149) = 1
					var_67(150) = 1
					var_1137 += cnvscrollsize(1)
				}
				else {
					var_1137 = 0
				}
			}
			if ( var_1128 <= 20 ) {
				var_1136 = cnvscrollsize((var_1138 / 120 + 1) * 5) * var_67(61) / 100
				var_67(145) -= var_1136
				limitmtioffset
				chkdisableautoscroll
				var_67(148) = 1
				var_67(150) = 1
				var_1138 += cnvscrollsize(1)
			}
			else {
				if ( var_1128 >= var_67(129) - 20 ) {
					var_1136 = cnvscrollsize((var_1138 / 120 + 1) * 5) * var_67(61) / 100
					var_67(145) += var_1136
					limitmtioffset
					chkdisableautoscroll
					var_67(148) = 1
					var_67(150) = 1
					var_1138 += cnvscrollsize(1)
				}
				else {
					var_1138 = 0
				}
			}
		}
		else {
			var_1137 = 0
			var_1138 = 0
		}
		if ( var_1130 == 1 ) {
			if ( var_1119 == 0 & var_1120 == 1 ) {
				if ( var_1135 == 0 & var_1125 == 1 ) {
					var_1139 = var_1140
					var_1141 = var_1142
					var_1143 = var_1144
					var_1145 = var_1146
					dim var_1147, var_1132
					repeat var_1132
						var_1147(cnt) = getitemselflg(cnt)
					loop
					var_1135 = 6
				}
				var_1140 = var_1128
				var_1142 = var_1129
				var_1144 = var_67(145) + var_1128
				var_1146 = var_67(146) + var_1129
			}
		}
		repeat var_1132
			var_1148 = getsortitemnum(var_1132 - cnt - 1)
			var_1149 = GetPrjItem(var_67(17), var_1148)
			var_1150 = GetPrjItemTrackNum(var_67(17), var_1148)
			var_1151 = vslib_getprjitemoffset(var_67(17), var_1148)
			var_1152 = GetII_editSample(var_1149)
			var_1153 = GetII_channel(var_1149)
			var_1154 = int(var_1151 / var_1131 * var_67(143) - var_67(145))
			var_1155 = var_1150 * var_67(144) - var_67(146)
			var_1156 = int(double(var_1152) / var_1131 * var_67(143))
			var_1157 = var_67(144)
			if ( var_1130 == 1 & var_1128 >= var_1154 & var_1129 >= var_1155 & var_1128 < var_1154 + var_1156 & var_1129 < var_1155 + var_1157 ) {
				if ( var_1135 == 0 ) {
					if ( var_1119 == 0 & var_1120 == 1 ) {
						var_1158 = var_1148
						var_1139 = var_1128
						var_1141 = var_1129
						var_1143 = var_67(145) + var_1128
						var_1145 = var_67(146) + var_1129
						var_1159 = var_1150
						if ( var_67(101) == 1 & var_67(67) != 0 ) {
							var_1135 = 5
						}
						else {
							if ( var_67(101) == 1 & getitemselflg(var_1148) == 0 ) {
								var_1135 = 5
							}
							else {
								if ( var_1128 >= var_1154 + var_1156 - 10 ) {
									var_1135 = 3
								}
								else {
									var_1135 = 1
								}
							}
						}
					}
				}
				if ( var_67(101) == 0 ) {
					if ( var_1128 >= var_1154 + var_1156 - 10 ) {
						var_67(166) = 32644
					}
					else {
						var_67(166) = 32646
					}
				}
				else {
					if ( var_67(67) != 0 ) {
						var_67(166) = 32515
					}
					else {
						if ( getitemselflg(var_1148) != 0 & var_1135 != 6 ) {
							if ( var_1128 >= var_1154 + var_1156 - 10 ) {
								var_67(166) = 32644
							}
							else {
								var_67(166) = 32646
							}
						}
					}
				}
				if ( var_1135 != 2 & var_1135 != 4 & var_1135 != 6 ) {
					if ( var_1119 == 1 & var_1120 == 0 ) {
						if ( var_1126 == 0 ) {
							repeat var_1132
								setitemselflg cnt, 0
							loop
						}
						setitemselflg var_1148, 1 - getitemselflg(var_1148)
						var_67(148) = 1
						var_67(150) = 1
						var_1134 = var_1148
					}
					if ( var_1119 == 1 & var_1120 == 0 ) {
						var_1160 = GetTickCount()
						if ( var_1160 - var_1161 < 400 ) {
							var_1162 = abs(var_1128 - var_1163) + abs(var_1129 - var_1164)
							if ( var_1148 == var_1165 & var_1162 < 10 ) {
								var_67(166) = 32512
								changecursor var_67(166)
								openidetab var_1148
							}
						}
						var_1165 = var_1148
						var_1163 = var_1128
						var_1164 = var_1129
						var_1161 = var_1160
					}
				}
				if ( var_1121 == 1 & var_1122 == 0 ) {
					if ( getitemselflg(var_1148) == 0 ) {
						repeat var_1132
							setitemselflg cnt, 0
						loop
						setitemselflg var_1148, 1
						repeat var_1133
							settrackselflg cnt, 0
						loop
						settrackselflg var_1150, 1
						var_67(150) = 1
						var_67(149) = 1
					}
				}
				break
			}
		loop
		if ( var_1121 == 1 & var_1122 == 0 ) {
			if ( var_1130 == 1 & var_1166 == 0 ) {
				var_67(167) = 3
				var_67(166) = 32512
			}
			var_1166 = 0
		}
		if ( var_1130 == 1 ) {
			if ( var_1119 == 0 & var_1120 == 1 ) {
				if ( vsplay_getstatus() == 0 ) {
					var_1167 = var_1128 + var_67(145)
					var_1160 = var_1167 * 1000 / var_67(143)
					vsplay_seek var_67(17), var_1160
					var_67(148) = 1
					var_67(151) = 1
				}
			}
			if ( var_67(40) == 0 ) {
				setmtivhscrollreq
			}
			else {
				setmtivhscrollreqt
			}
			if ( var_1119 == 0 & var_1120 == 1 & var_1134 == (-1) ) {
				if ( var_1135 == 0 ) {
					var_1139 = var_1128
					var_1141 = var_1129
					var_1143 = var_67(145) + var_1128
					var_1145 = var_67(146) + var_1129
					var_1135 = 5
				}
			}
			if ( var_1119 == 1 & var_1120 == 0 ) {
				if ( var_1135 != 2 & var_1135 != 4 & var_1135 != 6 ) {
					if ( var_1134 == (-1) ) {
						repeat var_1132
							setitemselflg cnt, 0
						loop
						var_67(148) = 1
						var_67(150) = 1
					}
					var_1168 = (var_67(146) + var_1129) / var_67(144)
					if ( var_1150 >= 0 & var_1150 < var_1133 ) {
						repeat var_1133
							settrackselflg cnt, 0
						loop
						settrackselflg var_1168, 1
						var_67(149) = 1
					}
				}
			}
			if ( var_1169 == 0 ) {
				if ( var_1124 == 1 & var_1123 == 0 ) {
					var_1170 = var_67(145)
					var_1171 = var_67(146)
					var_1172 = var_1128
					var_1173 = var_1129
					var_1169 = 1
				}
			}
			if ( var_1119 == 0 & var_1120 == 1 ) {
				var_67(21) = 1
			}
			if ( var_1121 == 1 & var_1122 == 0 ) {
				var_67(21) = 1
			}
		}
		if ( var_1127 != 0 ) {
			if ( var_1127 == 1 ) {
				var_67(145) -= 50
			}
			if ( var_1127 == 2 ) {
				var_67(145) += 50
			}
			if ( var_1127 == 5 ) {
				var_67(146) -= var_67(144)
			}
			if ( var_1127 == 6 ) {
				var_67(146) += var_67(144)
			}
			if ( var_1127 == 3 ) {
				zoomitempanel_timeexp
			}
			if ( var_1127 == 4 ) {
				zoomitempanel_timecnt
			}
			if ( var_1127 == 7 ) {
				zoomitempanel_trackexp
			}
			if ( var_1127 == 8 ) {
				zoomitempanel_trackcnt
			}
			limitmtioffset
			chkdisableautoscroll
			var_67(148) = 1
			var_67(149) = 1
			var_67(150) = 1
			var_1127 = 0
		}
		if ( var_1135 == 1 ) {
			if ( var_1120 == 0 ) {
				var_1135 = 0
			}
			else {
				if ( var_1128 != var_1139 | var_1129 != var_1141 ) {
					if ( getitemselflg(var_1158) == 0 ) {
						if ( var_1126 == 0 ) {
							repeat var_1132
								setitemselflg cnt, 0
							loop
						}
						setitemselflg var_1158, 1
						var_67(148) = 1
						var_67(150) = 1
					}
					dim var_1174, var_1132
					dimtype var_1175, 3, var_1132, 0, 0, 0
					var_1176 = 0
					var_1177 = 0
					var_1178 = 0.0
					var_1179 = 0
					repeat var_1132
						var_1174(cnt) = GetPrjItemTrackNum(var_67(17), cnt)
						var_1175(cnt) = vslib_getprjitemoffset(var_67(17), cnt)
						if ( getitemselflg(cnt) ) {
							if ( var_1179 == 0 ) {
								var_1176 = var_1174(cnt)
								var_1177 = var_1174(cnt)
								var_1178 = var_1175(cnt)
							}
							else {
								if ( var_1174(cnt) < var_1176 ) {
									var_1176 = var_1174(cnt)
								}
								if ( var_1174(cnt) > var_1177 ) {
									var_1177 = var_1174(cnt)
								}
								if ( var_1175(cnt) < var_1178 ) {
									var_1178 = var_1175(cnt)
								}
							}
							var_1179 = 1
						}
					loop
					var_1135 = 2
				}
			}
		}
		if ( var_1135 == 2 ) {
			var_1180 = var_67(145) + var_1128 - var_1143
			var_1181 = double(var_1180) / var_67(143) * var_1131
			var_1182 = (var_67(146) + var_1129) / var_67(144) - var_1159
			if ( var_1182 < -var_1176 ) {
				var_1182 = -var_1176
			}
			if ( var_1182 > var_1133 - var_1177 - 1 ) {
				var_1182 = var_1133 - var_1177 - 1
			}
			if ( var_1181 < -var_1178 ) {
				var_1181 = -var_1178
			}
			repeat var_1132
				if ( getitemselflg(cnt) == 1 ) {
					var_1168 = var_1174(cnt)
					var_1151 = var_1175(cnt)
					if ( var_1126 == 0 ) {
						var_1168 = limit(var_1168 + var_1182, 0, var_1133 - 1)
						var_1151 += var_1181
						if ( var_1151 < 0.0 ) {
							var_1151 = 0.0
						}
					}
					if ( var_67(99) != 0 ) {
						var_1183 = vslib_getprjitemmeasoffset(var_67(17), cnt)
						var_1184 = GetPrjItemOffsetAdd(var_67(17), cnt)
						var_1151 -= var_1184 - var_1183 * var_1131
						var_1151 = getqtsample(var_1151)
						var_1151 += var_1184 - var_1183 * var_1131
						if ( var_1151 < 0.0 ) {
							var_1151 = 0.0
						}
					}
					SetPrjItemTrackNum var_67(17), cnt, var_1168
					SetPrjItemOffset var_67(17), cnt, var_1151
				}
			loop
			if ( var_1126 == 0 ) {
				var_67(171) = 0
			}
			else {
				var_67(171) = 1
				var_67(172) = var_1182
				var_67(173) = int(var_1181)
			}
			if ( var_1122 == 1 ) {
				repeat var_1132
					if ( getitemselflg(cnt) == 1 ) {
						SetPrjItemTrackNum var_67(17), cnt, var_1174(cnt)
						SetPrjItemOffset var_67(17), cnt, var_1175(cnt)
					}
				loop
				var_1135 = 0
				var_67(171) = 0
				var_1166 = 1
			}
			else {
				if ( var_1120 == 0 ) {
					if ( var_1126 == 1 ) {
						repeat var_1132
							if ( getitemselflg(cnt) == 1 ) {
								CopyPrjItem var_67(17), var_1185, var_67(17), cnt
								setitemselflg cnt, 0
								var_1168 = limit(var_1174(cnt) + var_1182, 0, var_1133 - 1)
								var_1151 = var_1175(cnt) + var_1181
								if ( var_1151 < 0.0 ) {
									var_1151 = 0.0
								}
								SetPrjItemTrackNum var_67(17), var_1185, var_1168
								if ( var_67(99) != 0 ) {
									var_1183 = vslib_getprjitemmeasoffset(var_67(17), var_1185)
									var_1184 = GetPrjItemOffsetAdd(var_67(17), var_1185)
									var_1151 -= var_1184 - var_1183 * var_1131
									var_1151 = getqtsample(var_1151)
									var_1151 += var_1184 - var_1183 * var_1131
									if ( var_1151 < 0.0 ) {
										var_1151 = 0.0
									}
								}
								SetPrjItemOffset var_67(17), var_1185, var_1151
								setitemselflg var_1185, 1
							}
						loop
					}
					var_1135 = 0
					oneditproject
					var_67(171) = 0
				}
			}
			var_67(148) = 1
			var_67(150) = 1
			var_67(249) = 1
			var_67(247) = 1
			var_67(251) = 1
			var_67(166) = 32646
		}
		if ( var_1135 == 3 ) {
			if ( var_1120 == 0 ) {
				var_1135 = 0
			}
			else {
				if ( var_1128 != var_1139 | var_1129 != var_1141 ) {
					if ( getitemselflg(var_1158) == 0 ) {
						if ( var_1126 == 0 ) {
							repeat var_1132
								setitemselflg cnt, 0
							loop
						}
						setitemselflg var_1158, 1
						var_67(148) = 1
						var_67(150) = 1
					}
					dim var_1174, var_1132
					dim var_1186, var_1132
					repeat var_1132
						var_1149 = GetPrjItem(var_67(17), cnt)
						var_1174(cnt) = GetPrjItemTrackNum(var_67(17), cnt)
						var_1186(cnt) = GetII_orgSample(var_1149)
					loop
					dim var_1187, var_1132
					dim var_1188, var_1132
					repeat var_1132
						if ( getitemselflg(cnt) == 1 ) {
							var_1149 = GetPrjItem(var_67(17), cnt)
							var_1189 = GetII_nTctrlPrm(var_1149)
						}
						else {
							var_1189 = 0
						}
						var_1187(cnt) = var_1189
						if ( cnt == 0 ) {
							var_1188(cnt) = 0
						}
						else {
							var_1188(cnt) = var_1188(cnt - 1) + var_1187(cnt - 1)
						}
					loop
					var_1190 = var_1188(var_1132 - 1) + var_1187(var_1132 - 1)
					dimtype var_1191, 3, var_1190, 0, 0, 0
					dimtype var_1192, 3, var_1190, 0, 0, 0
					dimtype var_1193, 3, var_1190, 0, 0, 0
					repeat var_1132
						if ( getitemselflg(cnt) == 1 ) {
							var_1149 = GetPrjItem(var_67(17), cnt)
							var_1194 = var_1188(cnt)
							var_1195 = var_1187(cnt)
							repeat var_1195
								var_1196 = var_1194 + cnt
								GetIP_tctrlTime var_1149, cnt, var_1191(var_1196), var_1192(var_1196)
							loop
							var_1196 = var_1194 + var_1195 - 1
							var_1193(cnt) = var_1192(var_1196) / var_1191(var_1196)
						}
					loop
					var_1135 = 4
				}
			}
		}
		if ( var_1135 == 4 ) {
			var_1182 = (var_67(146) + var_1129) / var_67(144) - var_1159
			var_1180 = var_67(145) + var_1128 - var_1143
			var_1197 = var_1186(var_1158)
			var_1198 = var_1193(var_1158)
			var_1199 = int(double(var_1197) / var_1131 * var_1198 * var_67(143))
			var_1200 = limitf(double(var_1199 + var_1180) / var_1199, 0.0001, 10000.0)
			repeat var_1132
				if ( getitemselflg(cnt) == 1 ) {
					var_1168 = limit(var_1174(cnt) + var_1182, 0, var_1133 - 1)
					SetPrjItemTrackNum var_67(17), cnt, var_1168
					var_1201 = limitf(var_1193(cnt) * var_1200, 0.01, 100.0)
					if ( (var_1126 | var_1125) == 1 ) {
						var_1201 = limitf(0.1 * int(var_1201 * 10.0 + 0.5), 0.01, 100.0)
					}
					if ( (var_1126 & var_1125) == 1 ) {
						var_1201 = 1.0
					}
					var_1200 = var_1201 / var_1193(cnt)
					var_1149 = GetPrjItem(var_67(17), cnt)
					var_1194 = var_1188(cnt)
					var_1195 = var_1187(cnt)
					repeat var_1195
						var_1196 = var_1194 + cnt
						SetIP_tctrlTime var_1149, cnt, var_1191(var_1196), var_1192(var_1196) * var_1200
					loop
					UpdateRhythmTimeCtrl var_1149
				}
			loop
			if ( var_1122 == 1 ) {
				repeat var_1132
					if ( getitemselflg(cnt) == 1 ) {
						SetPrjItemTrackNum var_67(17), cnt, var_1174(cnt)
						var_1149 = GetPrjItem(var_67(17), cnt)
						var_1194 = var_1188(cnt)
						var_1195 = var_1187(cnt)
						repeat var_1195
							var_1196 = var_1194 + cnt
							SetIP_tctrlTime var_1149, cnt, var_1191(var_1196), var_1192(var_1196)
						loop
						UpdateRhythmTimeCtrl var_1149
					}
				loop
				var_1135 = 0
				var_1166 = 1
			}
			else {
				if ( var_1120 == 0 ) {
					var_1135 = 0
					oneditproject
				}
			}
			var_67(148) = 1
			var_67(150) = 1
			var_67(249) = 1
			var_67(166) = 32644
		}
		if ( var_1135 == 5 ) {
			if ( var_1120 == 0 ) {
				var_1135 = 0
			}
			else {
				if ( var_1128 != var_1139 | var_1129 != var_1141 ) {
					dim var_1147, var_1132
					repeat var_1132
						var_1147(cnt) = getitemselflg(cnt)
					loop
					var_1135 = 6
				}
			}
		}
		if ( var_1135 == 6 ) {
			var_67(174) = 1
			if ( var_1143 <= var_67(145) + var_1128 ) {
				var_67(175) = var_1143
				var_67(177) = var_67(145) + var_1128
			}
			else {
				var_67(175) = var_67(145) + var_1128
				var_67(177) = var_1143
			}
			if ( var_1145 < var_67(146) + var_1129 ) {
				var_67(176) = var_1145
				var_67(178) = var_67(146) + var_1129
			}
			else {
				var_67(176) = var_67(146) + var_1129
				var_67(178) = var_1145
			}
			repeat var_1132
				var_1148 = cnt
				var_1149 = GetPrjItem(var_67(17), var_1148)
				var_1150 = GetPrjItemTrackNum(var_67(17), var_1148)
				var_1151 = vslib_getprjitemoffset(var_67(17), var_1148)
				var_1152 = GetII_editSample(var_1149)
				var_1154 = int(var_1151 / var_1131 * var_67(143))
				var_1155 = var_1150 * var_67(144)
				var_1202 = var_1154 + int(double(var_1152) / var_1131 * var_67(143))
				var_1203 = var_1155 + var_67(144)
				var_1204 = 0
				if ( var_1202 >= var_67(175) & var_1154 <= var_67(177) ) {
					if ( var_1203 >= var_67(176) & var_1155 <= var_67(178) ) {
						var_1204 = 1
					}
				}
				if ( var_1126 != 0 ) {
					if ( var_1204 + var_1147(cnt) == 1 ) {
						var_1204 = 1
					}
					else {
						var_1204 = 0
					}
				}
				setitemselflg cnt, var_1204
			loop
			if ( var_1122 == 1 ) {
				repeat var_1132
					setitemselflg cnt, var_1147(cnt)
				loop
				var_1135 = 0
				var_67(174) = 0
				var_1166 = 1
			}
			else {
				if ( var_1120 == 0 ) {
					var_1135 = 0
					var_67(174) = 0
				}
			}
			var_67(148) = 1
			var_67(150) = 1
			var_67(166) = 32515
		}
		if ( var_1169 == 1 ) {
			var_67(145) = var_1170 + var_1172 - var_1128
			var_67(146) = var_1171 + var_1173 - var_1129
			limitmtioffset
			chkdisableautoscroll
			var_67(149) = 1
			var_67(148) = 1
			var_67(150) = 1
			if ( var_1124 == 0 ) {
				var_1169 = 0
			}
		}
	}
	return
#defcfunc getmoveitemphase
	return var_1135
#deffunc setmticomreq int prm_1210
	var_1127 = prm_1210
	return
*label_486
	goto *label_488
#deffunc editmainscrollpanel
	if ( getactivewindow() != 6 ) {
		return
	}
	if ( var_67(17) != 0 ) {
		var_1205 = getkeyflg(17)
		gsel 6
		var_1206 = _mousex() - var_67(131)
		var_1207 = _mousey() - var_67(132)
		if ( var_1206 >= 0 & var_1207 >= 0 & var_1206 < var_67(133) & var_1207 < var_67(134) ) {
			if ( var_67(40) == 0 ) {
				setmtivscrollreq
			}
			else {
				setmtivhscrollreqt
			}
		}
		var_1206 = _mousex() - var_67(135)
		var_1207 = _mousey() - var_67(136)
		if ( var_1206 >= 0 & var_1207 >= 0 & var_1206 < var_67(137) & var_1207 < var_67(138) ) {
			if ( var_67(40) == 0 ) {
				setmtihscrollreq
			}
			else {
				setmtivhscrollreqt
			}
		}
	}
	var_1208 = GetPrjSampFreq(var_67(17))
	var_1209 = var_67(143)
	var_1210 = "" + var_1208 + "Hz  "
	if ( var_1209 <= 6400 | (var_1208 \ var_1209 != 0 & var_1209 \ var_1208 != 0) ) {
		var_1210 += "1sec : " + var_1209 + "pixel"
	}
	else {
		if ( var_1209 <= var_1208 ) {
			var_1210 += "" + var_1208 / var_1209 + "sample : 1pixel"
		}
		else {
			var_1210 += "1sample : " + var_1209 / var_1208 + "pixel"
		}
	}
	setmainstatusstrright var_1210
	return
*label_488
	goto *label_493
#deffunc setmtivhscrollreqt
	if ( ishorizontalscroll_tiltv() ) {
		if ( var_67(164) > 0 ) {
			setmticomreq 1
		}
		if ( var_67(164) < 0 ) {
			setmticomreq 2
		}
	}
	if ( ishorizontalzoom_tiltv() ) {
		if ( var_67(164) > 0 ) {
			setmticomreq 3
		}
		if ( var_67(164) < 0 ) {
			setmticomreq 4
		}
	}
	if ( isverticalscroll_tiltv() ) {
		if ( var_67(164) > 0 ) {
			setmticomreq 5
		}
		if ( var_67(164) < 0 ) {
			setmticomreq 6
		}
	}
	if ( isverticalzoom_tiltv() ) {
		if ( var_67(164) > 0 ) {
			setmticomreq 7
		}
		if ( var_67(164) < 0 ) {
			setmticomreq 8
		}
	}
	if ( ishorizontalscroll_tilth() ) {
		if ( var_67(165) > 0 ) {
			setmticomreq 1
		}
		if ( var_67(165) < 0 ) {
			setmticomreq 2
		}
	}
	if ( ishorizontalzoom_tilth() ) {
		if ( var_67(165) > 0 ) {
			setmticomreq 3
		}
		if ( var_67(165) < 0 ) {
			setmticomreq 4
		}
	}
	if ( isverticalscroll_tilth() ) {
		if ( var_67(165) > 0 ) {
			setmticomreq 5
		}
		if ( var_67(165) < 0 ) {
			setmticomreq 6
		}
	}
	if ( isverticalzoom_tilth() ) {
		if ( var_67(165) > 0 ) {
			setmticomreq 7
		}
		if ( var_67(165) < 0 ) {
			setmticomreq 8
		}
	}
	return
#deffunc setmtivhscrollreq
	if ( ishorizontalscroll() ) {
		if ( var_67(163) > 0 ) {
			setmticomreq 1
		}
		if ( var_67(163) < 0 ) {
			setmticomreq 2
		}
	}
	if ( ishorizontalzoom() ) {
		if ( var_67(163) > 0 ) {
			setmticomreq 3
		}
		if ( var_67(163) < 0 ) {
			setmticomreq 4
		}
	}
	if ( isverticalscroll() ) {
		if ( var_67(163) > 0 ) {
			setmticomreq 5
		}
		if ( var_67(163) < 0 ) {
			setmticomreq 6
		}
	}
	if ( isverticalzoom() ) {
		if ( var_67(163) > 0 ) {
			setmticomreq 7
		}
		if ( var_67(163) < 0 ) {
			setmticomreq 8
		}
	}
	return
#deffunc setmtihscrollreq
	if ( isverticalscroll() | ishorizontalscroll() ) {
		if ( var_67(163) > 0 ) {
			setmticomreq 1
		}
		if ( var_67(163) < 0 ) {
			setmticomreq 2
		}
	}
	if ( isverticalzoom() | ishorizontalzoom() ) {
		if ( var_67(163) > 0 ) {
			setmticomreq 3
		}
		if ( var_67(163) < 0 ) {
			setmticomreq 4
		}
	}
	return
#deffunc setmtivscrollreq
	if ( isverticalscroll() | ishorizontalscroll() ) {
		if ( var_67(163) > 0 ) {
			setmticomreq 5
		}
		if ( var_67(163) < 0 ) {
			setmticomreq 6
		}
	}
	if ( isverticalzoom() | ishorizontalzoom() ) {
		if ( var_67(163) > 0 ) {
			setmticomreq 7
		}
		if ( var_67(163) < 0 ) {
			setmticomreq 8
		}
	}
	return
*label_493
	goto *label_495
#deffunc drawmainmasterpanel
	if ( var_67(147) == 0 ) {
		return
	}
	var_67(147) = 0
	var_67(155) = 1
	gsel 2
	setfont_bold
	color 32, 32, 48
	boxf 0, 0, var_67(117) - 1, var_67(118) - 1
	if ( var_67(17) != 0 ) {
		var_1211 = 0
		var_1212 = 0
		var_1213 = var_67(117)
		var_1214 = var_67(118)
		color 96, 96, 112
		boxf var_1211, var_1212, var_1211 + var_1213 - 1, var_1212
		color 16, 16, 24
		boxf var_1211, var_1212 + var_1214 - 1, var_1211 + var_1213 - 1, var_1212 + var_1214 - 1
		boxf var_1211 + var_1213 - 1, var_1212, var_1211 + var_1213 - 1, var_1212 + var_1214 - 1
		color 208, 208, 208
		pos var_1211 + 10, var_1212 + 4
		mes tltx("マスター", "Master")
		var_1215 = 10
		var_1216 = 120
		var_1217 = 20
		var_1218 = var_1212 + 20
		var_1219 = 16
		var_1220 = vslib_getprjmastervolume(var_67(17))
		pos var_1211 + 140, var_1212 + 22
		if ( var_1220 == 0.0 ) {
			mes "-infdB"
		}
		else {
			mes strf("%+4.1fdB", 20.0 * logf(var_1220) / logf(10))
		}
		repeat 5
			var_1221 = var_1215 + (var_1216 - var_1217) * cnt / 4 + var_1217 / 2 - 1
			color 16, 16, 24
			boxf var_1221, var_1218, var_1221, var_1218 + var_1219 - 1
			color 96, 96, 112
			boxf var_1221 + 1, var_1218, var_1221 + 1, var_1218 + var_1219 - 1
		loop
		var_1222 = var_1218 + var_1219 / 2 - 2
		color 32, 32, 48
		boxf var_1215, var_1222 - 2, var_1215 + var_1216 - 1, var_1222 + 5
		color 16, 16, 24
		boxf var_1215, var_1222, var_1215 + var_1216 - 1, var_1222 + 3
		color 96, 96, 112
		boxf var_1215 + 1, var_1222 + 1, var_1215 + var_1216 - 1, var_1222 + 3
		color 32, 32, 48
		boxf var_1215 + 1, var_1222 + 1, var_1215 + var_1216 - 2, var_1222 + 2
		var_1223 = 20.0 * logf(var_1220) / logf(10.0)
		var_1224 = (var_1223 + 36.0) / (36.0 + 12.0)
		var_1225 = limit(int(var_1224 * (var_1216 - var_1217)), 0, var_1216 - var_1217)
		var_1215 += var_1225 + 1
		var_1216 = var_1217 - 2
		var_1218 += 1
		var_1219 -= 2
		if ( getmasterpanelstatus() == 4 ) {
			color 208, 208, 208
			boxf var_1215, var_1218, var_1215 + var_1216 - 1, var_1218 + var_1219 - 1
			color 32, 32, 48
			boxf var_1215 + 1, var_1218 + 1, var_1215 + var_1216 - 2, var_1218 + var_1219 - 2
			color 208, 208, 208
			boxf var_1215 + var_1216 / 2 - 1, var_1218 + 2, var_1215 + var_1216 / 2, var_1218 + var_1219 - 3
		}
		else {
			color 96, 96, 112
			boxf var_1215, var_1218, var_1215 + var_1216 - 1, var_1218 + var_1219 - 1
			color 16, 16, 24
			boxf var_1215 + 1, var_1218 + 1, var_1215 + var_1216 - 1, var_1218 + var_1219 - 1
			color 32, 32, 48
			boxf var_1215 + 1, var_1218 + 1, var_1215 + var_1216 - 2, var_1218 + var_1219 - 2
			color 96, 96, 112
			boxf var_1215 + var_1216 / 2 - 1, var_1218 + 2, var_1215 + var_1216 / 2, var_1218 + var_1219 - 3
		}
	}
	gsel 6
	pos var_67(115), var_67(116)
	gcopy 2, 0, 0, var_67(117), var_67(118)
	return
*label_495
	goto *label_498
#deffunc drawmaintimepanel
	var_1226 = var_67(37)
	if ( 0 ) {
		var_1227++
	}
	if ( var_1226 == (-1) | var_1227 ) {
		var_1227 = 0
		var_1228 = 2
		goto *label_497
		var_1227++
	}
	if ( var_1226 == 0 | var_1227 ) {
		var_1227 = 0
		var_1228 = 4
		goto *label_497
		var_1227++
	}
	if ( var_1226 == 1 | var_1227 ) {
		var_1227 = 0
		var_1228 = 4
		goto *label_497
	}
	if ( 1 ) {
		var_1228 = 8
		goto *label_497
	}
*label_497
	if ( var_67(9) \ var_1228 == 0 ) {
		if ( var_67(14) != var_1229 ) {
			var_67(148) = 1
			var_1229 = var_67(14)
		}
	}
	if ( var_67(148) == 0 ) {
		return
	}
	var_67(148) = 0
	var_67(156) = 1
	sdim var_1230, 260
	var_1231(0) = 0, 16, 32, 64, 96, 112, 144, 158
	gsel 5
	color 12, 12, 32
	boxf 0, 0, var_67(121) - 1, var_67(122) - 2
	color 208, 208, 208
	boxf 0, var_67(122) - 1, var_67(121) - 1, var_67(122) - 1
	var_1232 = var_67(143)
	var_1233 = var_67(145)
	if ( var_67(17) != 0 ) {
		setfont_normal
		if ( var_67(22) < var_67(23) ) {
			var_1234 = 0.001 * var_67(22)
			var_1235 = 0.001 * var_67(23)
			var_1236 = int(var_1234 * var_1232 - var_1233 + 0.5)
			var_1237 = int(var_1235 * var_1232 - var_1233 + 0.5)
			color 12, 12, 80
			boxf var_1236, 0, var_1237, var_67(122) - 2
		}
		var_1238 = GetPrjMeasure(var_67(17))
		var_1239 = gethakusec()
		var_1240 = double(var_67(145) - 100) / var_67(143)
		var_1241 = int(var_1240 / var_1239)
		repeat
			var_1242 = var_1241 + cnt
			var_1243 = var_1239 * var_1242
			var_1244 = int(var_1243 * var_67(143) - var_67(145))
			if ( var_1244 >= var_67(121) ) {
				break
			}
			if ( var_1242 \ var_1238 == 0 ) {
				color 160, 160, 160
				if ( var_67(98) == 1 ) {
					boxf var_1244, var_67(122) - 16, var_1244, var_67(122) - 2
					pos var_1244 + 3, var_67(122) - 15
				}
				else {
					boxf var_1244, 0, var_1244, 15
					pos var_1244 + 3, 1
				}
				color 208, 208, 208
				mes var_1242 / var_1238 + 1
			}
			else {
				color 80, 80, 80
				if ( var_67(98) == 1 ) {
					boxf var_1244, var_67(122) - 6, var_1244, var_67(122) - 2
				}
				else {
					boxf var_1244, 0, var_1244, 4
				}
			}
		loop
		var_1245(0) = 0.1, 0.2, 0.5, 1.0, 2.0, 5.0, 10.0, 20.0
		var_1246(0) = 5, 4, 5, 5, 4, 5, 5, 4
		repeat 8
			var_1247 = var_1246(cnt)
			var_1248 = var_1245(cnt) / var_1247
			if ( var_1248 * var_1247 * var_67(143) >= 70 ) {
				break
			}
		loop
		var_1240 = double(var_67(145) - 100) / var_67(143)
		var_1241 = int(var_1240 / var_1248)
		repeat
			var_1242 = var_1241 + cnt
			var_1243 = var_1248 * var_1242
			var_1244 = int(var_1243 * var_67(143) - var_67(145))
			if ( var_1244 >= var_67(121) ) {
				break
			}
			if ( var_1242 \ var_1247 == 0 ) {
				color 160, 160, 160
				if ( var_67(98) == 1 ) {
					boxf var_1244, 0, var_1244, 4
					pos var_1244 - 25, 5
				}
				else {
					boxf var_1244, var_67(122) - 6, var_1244, var_67(122) - 2
					pos var_1244 - 25, var_67(122) - 19
				}
				var_1249 = int(1000.0 * var_1243)
				color 208, 208, 208
				mes strf("%02d:%02d.%03d", var_1249 / 60000, var_1249 / 1000 \ 60, var_1249 \ 1000)
			}
			else {
				color 80, 80, 80
				if ( var_67(98) == 1 ) {
					boxf var_1244, 0, var_1244, 4
				}
				else {
					boxf var_1244, var_67(122) - 6, var_1244, var_67(122) - 2
				}
			}
		loop
		if ( var_67(22) < var_67(23) ) {
			var_1234 = 0.001 * var_67(22)
			var_1235 = 0.001 * var_67(23)
			var_1236 = int(var_1234 * var_1232 - var_1233 + 0.5)
			var_1237 = int(var_1235 * var_1232 - var_1233 + 0.5)
			color 128, 255, 255
			boxf var_1236, 0, var_1236, var_67(122) - 1
			boxf var_1237, 0, var_1237, var_67(122) - 1
		}
		var_1250 = int(0.001 * var_67(14) * var_67(143) - var_67(145))
		color 56, 56, 56
		boxf var_1250 - 1, 0, var_1250 + 1, var_67(122) - 1
		color 255, 255, 255
		boxf var_1250, 0, var_1250, var_67(122) - 1
	}
	gsel 6
	pos var_67(119), var_67(120)
	gcopy 5, 0, 0, var_67(121), var_67(122)
	return
*label_498
	goto *label_501
#deffunc createtrackvolumeimage
	var_1251 = ginfo(3)
	var_1252 = 176
	var_1253 = 4
	buffer 1, var_1252, var_1253 * 2
	repeat var_1252
		var_1254 = 9.0 * cnt / (var_1252 * 8)
		if ( var_1254 >= 1.0 ) {
			var_1255 = 255
			var_1256 = 0
			var_1257 = 0
			var_1258 = 255
		}
		else {
			var_1255 = 0
			var_1256 = var_1254 * 255
			var_1257 = 255
			var_1258 = 128 + var_1254 * 128
		}
		color var_1255, var_1256, var_1257
		boxf cnt, 0, cnt, var_1253 - 1
		color var_1258 / 2, var_1258 / 2, var_1258 / 2
		boxf cnt, var_1253, cnt, var_1253 * 2 - 1
	loop
	color 32, 32, 48
	repeat var_1252
		if ( cnt \ 4 == 3 ) {
			boxf cnt, 0, cnt, var_1253 * 2 - 1
		}
	loop
	gsel var_1251
	return
#deffunc drawmaintrackpanel
	if ( checkshowtracklevel() == 1 ) {
		var_1259 = vsplay_getstatus(var_67(17))
		if ( var_1259 == 1 ) {
			if ( var_67(9) \ 2 == 0 ) {
				var_67(149) = 1
			}
		}
		if ( var_1259 != var_1260 ) {
			var_67(149) = 1
		}
		var_1260 = var_1259
	}
	if ( var_67(149) == 0 ) {
		return
	}
	var_67(149) = 0
	var_67(157) = 1
	gsel 3
	sdim var_1261, 260
	var_1262(0) = 0, 16, 32, 64, 96, 112, 144, 158
	color 32, 32, 48
	boxf 0, 0, var_67(125) - 1, var_67(126) - 1
	if ( var_67(17) != 0 ) {
		var_1263 = GetTrackNum(var_67(17))
		repeat var_1263
			var_1264 = cnt
			var_1265 = 0
			var_1266 = cnt * var_67(144) - var_67(146)
			var_1252 = var_67(125)
			var_1253 = var_67(144)
			if ( var_1266 + var_1253 < 0 ) {
				continue
			}
			if ( var_1266 >= var_67(130) ) {
				break
			}
			var_1267 = gettrackpanelstatus(var_1264)
			color 96, 96, 112
			boxf var_1265, var_1266, var_1265 + var_1252 - 1, var_1266
			color 16, 16, 24
			boxf var_1265, var_1266 + var_1253 - 1, var_1265 + var_1252 - 1, var_1266 + var_1253 - 1
			boxf var_1265 + var_1252 - 1, var_1266, var_1265 + var_1252 - 1, var_1266 + var_1253 - 1
			var_1268 = GetTrackColor(var_67(17), var_1264)
			if ( gettrackselflg(var_1264) == 1 ) {
				hsvcolor var_1262(var_1268 \ 8), 96, 255
				var_1269 = (ginfo(16) << 16) + (ginfo(17) << 8) + ginfo(18)
				hsvcolor var_1262(var_1268 \ 8), 160, 255
				var_1270 = (ginfo(16) << 16) + (ginfo(17) << 8) + ginfo(18)
				gradf var_1265, var_1266, 5, var_1253, 1, var_1269, var_1270
			}
			setfont_bold
			hsvcolor var_1262(var_1268 \ 8), 96, 255
			var_1261 = vslib_gettrackname(var_67(17), cnt)
			pos var_1265 + 10, var_1266 + 4
			mes var_1261
			repeat 3
				var_1271 = var_1265 + 136 + 21 * cnt
				var_1272 = var_1266 + 3
				var_1273 = 18
				var_1274 = 15
				var_1275 = 0
				if ( cnt == 0 ) {
					var_1276 = GetTrackMuteFlg(var_67(17), var_1264)
					if ( var_1267 == 1 ) {
						var_1275 = 1
					}
				}
				if ( cnt == 1 ) {
					var_1276 = GetTrackSoloFlg(var_67(17), var_1264)
					if ( var_1267 == 2 ) {
						var_1275 = 1
					}
				}
				if ( cnt == 2 ) {
					var_1276 = GetTrackInvertFlg(var_67(17), var_1264)
					if ( var_1267 == 3 ) {
						var_1275 = 1
					}
				}
				if ( var_1276 == 0 ) {
					if ( var_1275 == 1 ) {
						color 208, 208, 208
						boxf var_1271, var_1272, var_1271 + var_1273 - 1, var_1272 + var_1274 - 1
						color 32, 32, 48
						boxf var_1271 + 1, var_1272 + 1, var_1271 + var_1273 - 2, var_1272 + var_1274 - 2
					}
					color 208, 208, 208
				}
				else {
					if ( var_1275 == 1 ) {
						color 208, 208, 208
						boxf var_1271, var_1272, var_1271 + var_1273 - 1, var_1272 + var_1274 - 1
						hsvcolor var_1262(var_1268 \ 8), 96, 255
						boxf var_1271 + 1, var_1272 + 1, var_1271 + var_1273 - 2, var_1272 + var_1274 - 2
					}
					else {
						hsvcolor var_1262(var_1268 \ 8), 96, 255
						boxf var_1271 + 1, var_1272 + 1, var_1271 + var_1273 - 2, var_1272 + var_1274 - 2
					}
					color 32, 32, 48
				}
				pos var_1271 + 4, var_1272 + 1
				if ( cnt == 0 ) {
					mes "M"
				}
				if ( cnt == 1 ) {
					mes "S"
				}
				if ( cnt == 2 ) {
					mes "I"
				}
			loop
			repeat 2
				if ( cnt == 0 ) {
					if ( checkshowtrackvol() == 0 ) {
						break
					}
				}
				else {
					if ( checkshowtrackpan() == 0 ) {
						break
					}
				}
				hsvcolor var_1262(var_1268 \ 8), 96, 255
				var_1277 = 10
				var_1278 = var_1266 + 19 + cnt * 19
				var_1279 = 120
				var_1280 = 16
				var_1273 = 20
				if ( cnt == 0 ) {
					var_1281 = vslib_gettrackvolume(var_67(17), var_1264)
					pos var_1265 + 140, var_1278 + 2
					if ( var_1281 == 0.0 ) {
						mes "-infdB"
					}
					else {
						mes strf("%+4.1fdB", 20.0 * logf(var_1281) / logf(10))
					}
					var_1282 = 20.0 * logf(var_1281) / logf(10.0)
					var_1283 = (var_1282 + 36.0) / (36.0 + 12.0)
					var_1284 = limit(int(var_1283 * (var_1279 - var_1273)), 0, var_1279 - var_1273)
				}
				else {
					var_1285 = vslib_gettrackpan(var_67(17), var_1264)
					pos var_1265 + 140, var_1278 + 2
					if ( var_1285 == 0.0 ) {
						mes strf("%+4.2f(C)", var_1285)
					}
					else {
						if ( var_1285 < 0.0 ) {
							mes strf("%+4.2f(L)", var_1285)
						}
						else {
							mes strf("%+4.2f(R)", var_1285)
						}
					}
					var_1284 = limit(int((var_1285 + 1.0) * 0.5 * (var_1279 - var_1273)), 0, var_1279 - var_1273)
				}
				repeat 5
					var_1286 = var_1277 + (var_1279 - var_1273) * cnt / 4 + var_1273 / 2 - 1
					color 16, 16, 24
					boxf var_1286, var_1278, var_1286, var_1278 + var_1280 - 1
					color 96, 96, 112
					boxf var_1286 + 1, var_1278, var_1286 + 1, var_1278 + var_1280 - 1
				loop
				var_1287 = var_1278 + var_1280 / 2 - 2
				color 32, 32, 48
				boxf var_1277, var_1287 - 2, var_1277 + var_1279 - 1, var_1287 + 5
				color 16, 16, 24
				boxf var_1277, var_1287, var_1277 + var_1279 - 1, var_1287 + 3
				color 96, 96, 112
				boxf var_1277 + 1, var_1287 + 1, var_1277 + var_1279 - 1, var_1287 + 3
				color 32, 32, 48
				boxf var_1277 + 1, var_1287 + 1, var_1277 + var_1279 - 2, var_1287 + 2
				var_1277 += var_1284 + 1
				var_1279 = var_1273 - 2
				var_1278 += 1
				var_1280 -= 2
				var_1275 = 0
				if ( cnt == 0 ) {
					if ( var_1267 == 4 ) {
						var_1275 = 1
					}
				}
				else {
					if ( var_1267 == 5 ) {
						var_1275 = 1
					}
				}
				if ( var_1275 == 1 ) {
					color 208, 208, 208
					boxf var_1277, var_1278, var_1277 + var_1279 - 1, var_1278 + var_1280 - 1
					color 32, 32, 48
					boxf var_1277 + 1, var_1278 + 1, var_1277 + var_1279 - 2, var_1278 + var_1280 - 2
					color 208, 208, 208
					boxf var_1277 + var_1279 / 2 - 1, var_1278 + 2, var_1277 + var_1279 / 2, var_1278 + var_1280 - 3
				}
				else {
					color 96, 96, 112
					boxf var_1277, var_1278, var_1277 + var_1279 - 1, var_1278 + var_1280 - 1
					color 16, 16, 24
					boxf var_1277 + 1, var_1278 + 1, var_1277 + var_1279 - 1, var_1278 + var_1280 - 1
					color 32, 32, 48
					boxf var_1277 + 1, var_1278 + 1, var_1277 + var_1279 - 2, var_1278 + var_1280 - 2
					color 96, 96, 112
					boxf var_1277 + var_1279 / 2 - 1, var_1278 + 2, var_1277 + var_1279 / 2, var_1278 + var_1280 - 3
				}
			loop
			if ( checkshowtracklevel() == 1 ) {
				var_1288 = 14
				var_1289 = var_1266 + 57
				var_1290 = 176
				var_1291 = 4
				vsplay_gettrackcurvol var_1264, var_67(13), var_1292, var_1293
				var_1294 = 20.0 * logf(var_1292) / logf(10.0)
				var_1295 = 20.0 * logf(var_1293) / logf(10.0)
				var_1296 = int(limitf(var_1294 + 84.0, 0.0, 96.0) / 96.0 * var_1290)
				var_1297 = int(limitf(var_1295 + 84.0, 0.0, 96.0) / 96.0 * var_1290)
				pos var_1288, var_1289
				gcopy 1, 0, 0, var_1296, var_1291
				pos var_1288 + var_1296, var_1289
				gcopy 1, var_1296, var_1291, var_1290 - var_1296, var_1291
				pos var_1288, var_1289 + var_1291 + 1
				gcopy 1, 0, 0, var_1297, var_1291
				pos var_1288 + var_1297, var_1289 + var_1291 + 1
				gcopy 1, var_1297, var_1291, var_1290 - var_1297, var_1291
				if ( checkshowtrackleveltext() == 1 ) {
					repeat 9
						var_1286 = var_1288 + (var_1290 - 1) * cnt / 8 - 1
						var_1298 = var_1289 + var_1291 * 2 + 3
						color 16, 16, 24
						boxf var_1286, var_1298, var_1286, var_1298 + 3
						color 96, 96, 112
						boxf var_1286 + 1, var_1298, var_1286 + 1, var_1298 + 3
					loop
					setfont_level_eter
					color 208, 208, 208
					pos var_1288 + 22 * (-1) + 13, var_1289 + var_1291 * 2 + 8
					mes "-84"
					pos var_1288 + 22 * 0 + 13, var_1289 + var_1291 * 2 + 8
					mes "-72"
					pos var_1288 + 22 * 1 + 13, var_1289 + var_1291 * 2 + 8
					mes "-60"
					pos var_1288 + 22 * 2 + 13, var_1289 + var_1291 * 2 + 8
					mes "-48"
					pos var_1288 + 22 * 3 + 13, var_1289 + var_1291 * 2 + 8
					mes "-36"
					pos var_1288 + 22 * 4 + 13, var_1289 + var_1291 * 2 + 8
					mes "-24"
					pos var_1288 + 22 * 5 + 13, var_1289 + var_1291 * 2 + 8
					mes "-12"
					pos var_1288 + 22 * 6 + 19, var_1289 + var_1291 * 2 + 8
					mes "0"
					pos var_1288 + 22 * 7 + 17, var_1289 + var_1291 * 2 + 8
					mes "12"
				}
			}
		loop
		if ( var_67(168) != 0 ) {
			var_1299 = GetTrackColor(var_67(17), var_67(169))
			hsvcolor var_1262(var_1299 \ 8), 96, 255
			var_1266 = var_67(170) * var_67(144) - var_67(146)
			boxf var_1265, var_1266 - 2, var_1265 + var_1252 - 1, var_1266 + 1
		}
	}
	gsel 6
	pos var_67(123), var_67(124)
	gcopy 3, 0, 0, var_67(125), var_67(126)
	return
*label_501
	goto *label_508
#deffunc setitembgcolord int prm_1211, int prm_1212
	if ( prm_1212 == 0 ) {
		hsvcolor prm_1211, 160, 255
	}
	else {
		hsvcolor prm_1211, 160, 64
	}
	return
#deffunc setitembgcolorl int prm_1213, int prm_1214
	if ( prm_1214 == 0 ) {
		hsvcolor prm_1213, 96, 255
	}
	else {
		hsvcolor prm_1213, 96, 64
	}
	return
#deffunc setitembgedgecolor int prm_1215, int prm_1216
	if ( prm_1216 == 0 ) {
		hsvcolor prm_1215, 96, 255
	}
	else {
		hsvcolor prm_1215, 128, 64
	}
	return
#deffunc setitemwavecolor int prm_1217, int prm_1218
	if ( prm_1218 == 0 ) {
		hsvcolor prm_1217, 160, 96
	}
	else {
		hsvcolor prm_1217, 96, 255
	}
	return
#deffunc setitemedgecolor int prm_1219, int prm_1220
	if ( prm_1220 == 0 ) {
		hsvcolor prm_1219, 128, 64
	}
	else {
		hsvcolor prm_1219, 128, 255
	}
	return
#deffunc setitemtextcolor int prm_1221, int prm_1222
	if ( prm_1222 == 0 ) {
		hsvcolor prm_1221, 128, 32
	}
	else {
		hsvcolor prm_1221, 96, 255
	}
	return
*label_508
	goto *label_512
#deffunc drawmainitempanel
	var_1300 = var_67(37)
	if ( 0 ) {
		var_1301++
	}
	if ( var_1300 == (-1) | var_1301 ) {
		var_1301 = 0
		var_1302 = 2
		goto *label_510
		var_1301++
	}
	if ( var_1300 == 0 | var_1301 ) {
		var_1301 = 0
		var_1302 = 4
		goto *label_510
		var_1301++
	}
	if ( var_1300 == 1 | var_1301 ) {
		var_1301 = 0
		var_1302 = 4
		goto *label_510
	}
	if ( 1 ) {
		var_1302 = 8
		goto *label_510
	}
*label_510
	if ( var_67(9) \ var_1302 == 0 ) {
		if ( var_67(14) != var_1303 ) {
			var_67(151) = 1
			var_1303 = var_67(14)
		}
	}
	if ( var_67(150) == 1 ) {
		var_67(150) = 0
		var_67(151) = 1
		var_67(158) = 1
		gsel 4
		setfont_bold
		var_1304(0) = 0, 16, 32, 64, 96, 112, 144, 158
		sdim var_1305, 260
		color 12, 12, 32
		boxf 0, 0, var_67(129) - 1, var_67(130) - 1
		if ( var_67(17) != 0 ) {
			var_1306 = GetPrjSampFreq(var_67(17))
			var_1307 = GetTrackNum(var_67(17))
			if ( var_67(98) == 1 ) {
				var_1308 = GetPrjMeasure(var_67(17))
				var_1309 = gethakusec()
				var_1310 = double(var_67(145) - 100) / var_67(143)
				var_1311 = int(var_1310 / var_1309)
				repeat
					var_1312 = var_1311 + cnt
					var_1313 = var_1309 * var_1312
					var_1314 = int(var_1313 * var_67(143) - var_67(145))
					if ( var_1314 >= var_67(121) ) {
						break
					}
					if ( var_1312 \ var_1308 == 0 ) {
						color 160, 160, 160
					}
					else {
						color 80, 80, 80
					}
					var_1315 = var_67(130)
					boxf var_1314, 0, var_1314, var_1315 - 1
				loop
			}
			else {
				var_1316(0) = 0.1, 0.2, 0.5, 1.0, 2.0, 5.0, 10.0, 20.0
				var_1317(0) = 5, 4, 5, 5, 4, 5, 5, 4
				repeat 8
					var_1318 = var_1317(cnt)
					var_1319 = var_1316(cnt) / var_1318
					if ( var_1319 * var_1318 * var_67(143) >= 70 ) {
						break
					}
				loop
				var_1310 = double(var_67(145) - 100) / var_67(143)
				var_1311 = int(var_1310 / var_1319)
				repeat
					var_1312 = var_1311 + cnt
					var_1313 = var_1319 * var_1312
					var_1314 = int(var_1313 * var_67(143) - var_67(145))
					if ( var_1314 >= var_67(121) ) {
						break
					}
					if ( var_1312 \ var_1318 == 0 ) {
						color 160, 160, 160
					}
					else {
						color 80, 80, 80
					}
					var_1315 = var_67(130)
					boxf var_1314, 0, var_1314, var_1315 - 1
				loop
			}
			repeat var_1307
				var_1320 = 0
				var_1315 = cnt * var_67(144) - var_67(146)
				var_1321 = var_67(129)
				var_1322 = var_67(144)
				if ( var_1315 + var_1322 < 0 ) {
					continue
				}
				if ( var_1315 >= var_67(130) ) {
					break
				}
				color 160, 160, 160
				boxf var_1320, var_1315 + var_1322 - 1, var_1320 + var_1321 - 1, var_1315 + var_1322 - 1
			loop
			sortitemofset
			var_1323 = GetPrjItemNum(var_67(17))
			dimtype var_1324, 3, 64, 0, 0, 0
			repeat var_1323
				var_1325 = getsortitemnum(cnt)
				var_1326 = GetPrjItem(var_67(17), var_1325)
				var_1327 = GetPrjItemTrackNum(var_67(17), var_1325)
				var_1328 = vslib_getprjitemoffset(var_67(17), var_1325)
				var_1329 = GetII_editSample(var_1326)
				var_1330 = GetII_channel(var_1326)
				var_1331 = getitemselflg(var_1325)
				var_1332 = GetII_SMFFlag(var_1326)
				var_1333 = GetIP_fadeInSample(var_1326)
				var_1334 = GetIP_fadeOutSample(var_1326)
				var_1335 = 0
				if ( var_1328 < var_1324(var_1327) ) {
					var_1335 = 1
				}
				if ( var_1328 + var_1329 > var_1324(var_1327) ) {
					var_1324(var_1327) = var_1328 + var_1329
				}
				repeat 2
					if ( cnt == 1 ) {
						if ( var_67(171) == 0 | var_1331 == 0 ) {
							break
						}
						var_1327 += var_67(172)
						var_1327 = limit(var_1327, 0, var_1307 - 1)
						var_1328 += var_67(173)
						if ( var_1328 < 0.0 ) {
							var_1328 = 0.0
						}
						if ( var_67(99) != 0 ) {
							var_1328 = getqtsample(var_1328)
						}
					}
					var_1336 = GetTrackColor(var_67(17), var_1327)
					var_1320 = int(var_1328 / var_1306 * var_67(143)) - var_67(145)
					var_1315 = var_1327 * var_67(144) - var_67(146)
					var_1321 = int(double(var_1329) / var_1306 * var_67(143))
					var_1322 = var_67(144)
					var_1315 += 1
					var_1322 -= 3
					var_1337 = int(double(var_1333) / var_1306 * var_67(143))
					var_1338 = int(double(var_1334) / var_1306 * var_67(143))
					var_1339 = var_1320
					if ( var_1339 < 0 ) {
						var_1339 = -1
					}
					var_1340 = var_1320 + var_1321
					if ( var_1340 > var_67(129) ) {
						var_1340 = var_67(129)
					}
					if ( var_1339 < var_1340 ) {
						setitembgedgecolor var_1304(var_1336), var_1331
						boxf var_1339 + 1, var_1315 + 1, var_1340 - 1, var_1315 + var_1322 - 2
						setitembgcolord var_1304(var_1336), var_1331
						var_1341 = (ginfo(16) << 16) + (ginfo(17) << 8) + ginfo(18)
						setitembgcolorl var_1304(var_1336), var_1331
						var_1342 = (ginfo(16) << 16) + (ginfo(17) << 8) + ginfo(18)
						gradf var_1339 + 1, var_1315 + 2, var_1340 - var_1339 - 1, var_1322 - 4, 1, var_1342, var_1341
						setitemedgecolor var_1304(var_1336), var_1331
						boxf var_1339 + 1, var_1315, var_1340 - 1, var_1315
						boxf var_1339 + 1, var_1315 + var_1322 - 1, var_1340 - 1, var_1315 + var_1322 - 1
						if ( var_1332 == 0 & var_1330 == 2 ) {
							boxf var_1339 + 1, var_1315 + var_1322 / 2, var_1340 - 1, var_1315 + var_1322 / 2
						}
					}
					if ( var_1320 >= 0 & var_1320 < var_67(129) ) {
						setitemedgecolor var_1304(var_1336), var_1331
						boxf var_1320, var_1315, var_1320, var_1315 + var_1322 - 1
						if ( var_1320 + 1 < var_67(129) ) {
							setitembgedgecolor var_1304(var_1336), var_1331
							boxf var_1320 + 1, var_1315 + 1, var_1320 + 1, var_1315 + var_1322 - 2
						}
					}
					if ( var_1320 + var_1321 >= 0 & var_1320 + var_1321 < var_67(129) ) {
						setitemedgecolor var_1304(var_1336), var_1331
						boxf var_1320 + var_1321, var_1315, var_1320 + var_1321, var_1315 + var_1322 - 1
						if ( var_1320 + var_1321 - 1 >= 0 ) {
							setitembgedgecolor var_1304(var_1336), var_1331
							boxf var_1320 + var_1321 - 1, var_1315 + 1, var_1320 + var_1321 - 1, var_1315 + var_1322 - 2
						}
					}
					if ( var_1340 - var_1339 - 2 > 0 ) {
						var_1343 = var_1339 + 1
						var_1344 = var_1340 - var_1339 - 2
						dim var_1345, 4
						var_1346 = var_1315 + var_1322 / 4
						var_1347 = var_1315 + var_1322 * 3 / 4
						var_1348 = var_1315 + var_1322 / 2
						setitemwavecolor var_1304(var_1336), var_1331
						if ( var_1332 == 0 ) {
							if ( var_1330 == 2 ) {
								repeat var_1344
									if ( var_67(143) <= 200 ) {
										GetII_waveRange var_1326, var_1329, var_1321, var_1339 + cnt + 1 - var_1320, var_1322 / 4 - 2, var_1345
									}
									else {
										GetII_waveRangeEx var_1326, var_1329, var_1321, var_1339 + cnt + 1 - var_1320, var_1322 / 4 - 2, var_1345
									}
									var_1314 = var_1339 + cnt + 1
									boxf var_1314, var_1346 - var_1345(0), var_1314, var_1346 - var_1345(1)
									boxf var_1314, var_1347 - var_1345(2), var_1314, var_1347 - var_1345(3)
								loop
							}
							else {
								repeat var_1344
									if ( var_67(143) <= 200 ) {
										GetII_waveRange var_1326, var_1329, var_1321, var_1339 + cnt + 1 - var_1320, var_1322 / 2 - 2, var_1345
									}
									else {
										GetII_waveRangeEx var_1326, var_1329, var_1321, var_1339 + cnt + 1 - var_1320, var_1322 / 2 - 2, var_1345
									}
									var_1314 = var_1339 + cnt + 1
									boxf var_1314, var_1348 - var_1345(0), var_1314, var_1348 - var_1345(1)
								loop
							}
						}
						else {
							var_1349 = GetII_ctrlPntPs(var_1326)
							var_1350 = GetII_nCtrlPnt(var_1326)
							repeat var_1344
								var_1351 = (var_1339 + cnt + 1 - var_1320) * var_1349 / var_67(143)
								if ( var_1351 >= 0 & var_1351 < var_1350 ) {
									var_1352 = GetICP_fix_edit(var_1326, var_1351)
									if ( var_1352 == 0 ) {
										var_1353 = GetICP_pit_edit(var_1326, var_1351)
										var_1314 = var_1339 + cnt + 1
										var_1354 = var_1315 + var_1322 - 1 - var_1353 * (var_1322 - 2) / 12800
										pset var_1314, var_1354
									}
								}
							loop
						}
					}
					var_1355 = vslib_getprjitemmeasoffset(var_67(17), var_1325)
					if ( var_1355 > 0.0 ) {
						var_1355 += var_1328 / var_1306
						var_1356 = int(var_1355 * var_67(143)) - var_67(145)
						if ( var_1356 >= 0 & var_1356 < var_67(129) ) {
							setitemedgecolor var_1304(var_1336), var_1331
							boxf var_1356, var_1315, var_1356, var_1315 + var_1322 - 1
						}
					}
					var_1357 = 0
					if ( var_67(70) == 1 ) {
						if ( var_1339 < var_1340 ) {
							var_1358 = var_1339
							var_1357 = 1
						}
					}
					else {
						if ( var_1320 >= (-200) & var_1320 < var_67(129) ) {
							var_1358 = var_1320
							var_1357 = 1
						}
					}
					if ( var_1357 == 1 ) {
						var_1305 = vslib_getii_filename(var_1326)
						var_1305 = getpath(var_1305, 8)
						if ( var_1335 == 1 ) {
							var_1305 = "[!] " + var_1305
						}
						setitembgcolorl var_1304(var_1336), var_1331
						repeat 9
							pos var_1358 + 4 + cnt \ 3, var_1315 + 3 + cnt / 3
							mes var_1305
						loop
						setitemtextcolor var_1304(var_1336), var_1331
						pos var_1358 + 5, var_1315 + 4
						mes var_1305
					}
					if ( var_67(144) >= 37 ) {
						var_1359 = 0
						if ( var_67(70) == 1 ) {
							if ( var_1339 < var_1340 ) {
								var_1360 = var_1339
								var_1359 = 1
							}
						}
						else {
							if ( var_1320 >= (-200) & var_1320 < var_67(129) ) {
								var_1360 = var_1320
								var_1359 = 1
							}
						}
						if ( var_1359 == 1 ) {
							if ( var_1332 == 0 ) {
								var_1361 = GetIP_synthMode(var_1326)
								var_1300 = var_1361
								if ( 0 ) {
									var_1301++
								}
								if ( var_1300 == 0 | var_1301 ) {
									var_1301 = 0
									var_1305 = "M"
									goto *label_511
									var_1301++
								}
								if ( var_1300 == 1 | var_1301 ) {
									var_1301 = 0
									var_1305 = "V"
									goto *label_511
									var_1301++
								}
								if ( var_1300 == 2 | var_1301 ) {
									var_1301 = 0
									var_1305 = "P"
									goto *label_511
									var_1301++
								}
								if ( var_1300 == 4 | var_1301 ) {
									var_1301 = 0
									var_1305 = "R"
									goto *label_511
									var_1301++
								}
								if ( var_1300 == 8 | var_1301 ) {
									var_1301 = 0
									var_1305 = "WORLD"
									goto *label_511
								}
*label_511
								if ( var_1361 >= 16 & var_1361 < 24 ) {
									var_1305 = var_392(26 + var_1361 - 16)
									if ( var_1305 == "" ) {
										var_1305 = tltx("未登録", "Unregistered")
									}
								}
							}
							else {
								var_1305 = "MIDI"
							}
							setitembgcolord var_1304(var_1336), var_1331
							repeat 9
								pos var_1360 + 4 + cnt \ 3, var_1315 + var_1322 - 18 + cnt / 3
								mes var_1305
							loop
							setitemtextcolor var_1304(var_1336), var_1331
							pos var_1360 + 5, var_1315 + var_1322 - 17
							mes var_1305
						}
					}
					var_1362 = 0
					if ( var_67(70) == 1 ) {
						if ( var_1339 < var_1340 ) {
							var_1363 = var_1340 - 60
							var_1362 = 1
						}
					}
					else {
						if ( var_1320 + var_1321 >= 0 & var_1320 + var_1321 < var_67(129) + 60 ) {
							var_1363 = var_1320 + var_1321 - 60
							var_1362 = 1
						}
					}
					if ( var_1362 == 1 ) {
						var_1364 = GetII_nTctrlPrm(var_1326)
						var_1365 = 0.0
						var_1366 = 0.0
						GetIP_tctrlTime var_1326, var_1364 - 1, var_1366, var_1365
						var_1367 = var_1365 / var_1366
						var_1305 = strf("x%6.4f", var_1367)
						setitembgcolord var_1304(var_1336), var_1331
						repeat 9
							pos var_1363 - 1 + cnt \ 3, var_1315 + var_1322 - 18 + cnt / 3
							mes var_1305
						loop
						setitemtextcolor var_1304(var_1336), var_1331
						pos var_1363, var_1315 + var_1322 - 17
						mes var_1305
					}
				loop
			loop
			if ( var_67(174) == 1 ) {
				var_1339 = var_67(175) - var_67(145)
				var_1340 = var_67(177) - var_67(145)
				var_1368 = var_67(176) - var_67(146)
				var_1369 = var_67(178) - var_67(146)
				color 56, 56, 56
				boxf var_1339 - 1, var_1368 - 1, var_1340 + 1, var_1368 + 1
				boxf var_1339 - 1, var_1369 - 1, var_1340 + 1, var_1369 + 1
				boxf var_1339 - 1, var_1368 - 1, var_1339 + 1, var_1369 + 1
				boxf var_1340 - 1, var_1368 - 1, var_1340 + 1, var_1369 + 1
				color 255, 255, 255
				boxf var_1339, var_1368, var_1340, var_1368
				boxf var_1339, var_1369, var_1340, var_1369
				boxf var_1339, var_1368, var_1339, var_1369
				boxf var_1340, var_1368, var_1340, var_1369
			}
		}
		if ( var_67(24) == 1 ) {
			gmode 3, 0, 0, 256 * var_67(71) / 100
			pos 0, 0
			gcopy 25, 0, 0, var_67(129), var_67(130)
			gmode 0
		}
		gsel 6
		pos var_67(127), var_67(128)
		gcopy 4, 0, 0, var_67(129), var_67(130)
	}
	if ( var_67(151) == 1 ) {
		var_67(151) = 0
		gsel 6
		if ( var_1370 <= var_1371 ) {
			pos var_1370 + var_67(127), var_67(128)
			gcopy 4, var_1370, 0, var_1371 - var_1370 + 1, var_67(130)
			var_1372(0) = var_1370 + var_67(127)
			var_1372(1) = var_67(128)
			var_1372(2) = var_1371 - var_1370 + 1
			var_1372(3) = var_67(130)
			addmtiredrawrect var_1372
			var_1370 = 1
			var_1371 = 0
		}
		if ( var_67(17) != 0 ) {
			var_1320 = int(0.001 * var_67(14) * var_67(143) - var_67(145))
			var_1373 = var_67(128)
			var_1374 = var_67(128) + var_67(130) - 1
			if ( var_1320 >= 0 & var_1320 < var_67(129) ) {
				var_1375 = var_1320 + var_67(127)
				color 255, 255, 255
				boxf var_1375, var_1373, var_1375, var_1374
			}
			if ( var_1320 - 1 >= 0 & var_1320 - 1 < var_67(129) ) {
				var_1375 = var_1320 - 1 + var_67(127)
				color 56, 56, 56
				boxf var_1375, var_1373, var_1375, var_1374
			}
			if ( var_1320 + 1 >= 0 & var_1320 + 1 < var_67(129) ) {
				var_1375 = var_1320 + 1 + var_67(127)
				color 56, 56, 56
				boxf var_1375, var_1373, var_1375, var_1374
			}
			var_1376 = var_1320 - 1
			var_1377 = var_1320 + 1
			if ( var_1376 < 0 ) {
				var_1376 = 0
			}
			if ( var_1377 >= var_67(129) ) {
				var_1377 = var_67(129) - 1
			}
			if ( var_1376 <= var_1377 ) {
				var_1372(0) = var_1376 + var_67(127)
				var_1372(1) = var_67(128)
				var_1372(2) = var_1377 - var_1376 + 1
				var_1372(3) = var_67(130)
				addmtiredrawrect var_1372
				var_1370 = var_1376
				var_1371 = var_1377
			}
		}
	}
	return
*label_512
	goto *label_514
#deffunc drawmaincurtime
	gsel 6
	var_1378 = 590
	var_1379 = 3
	var_1380 = 430
	var_1381 = 30
	color 32, 32, 48
	boxf var_1378, var_1379, var_1378 + var_1380 - 1, var_1379 + var_1381 - 1
	color 208, 208, 208
	if ( var_67(17) != 0 ) {
		setfont_time_small
		pos var_1378, var_1379
		mes "M:B:T"
		pos var_1378 + 120, var_1379
		mes "M:S.MS"
		setfont_time_big
		pos var_1378, var_1379 + 10
		mes timesmptostr(var_67(13), 1)
		pos var_1378 + 120, var_1379 + 10
		mes timesmptostr(var_67(13), 0)
	}
	else {
		setfont_time_small
		pos var_1378, var_1379
		mes "M:B:T"
		pos var_1378 + 120, var_1379
		mes "M:S.MS"
		setfont_time_big
		pos var_1378, var_1379 + 10
		mes "000:00:000"
		pos var_1378 + 120, var_1379 + 10
		mes "00:00.000"
	}
	var_1382 = 830
	var_1383 = 7
	var_1384 = 176
	var_1385 = 4
	if ( var_67(17) != 0 ) {
		vsplay_gettrackcurvol 64, var_67(13), var_1386, var_1387
	}
	else {
		var_1386 = 0.0
		var_1387 = 0.0
	}
	var_1388 = 20.0 * logf(var_1386) / logf(10.0)
	var_1389 = 20.0 * logf(var_1387) / logf(10.0)
	var_1390 = int(limitf(var_1388 + 84.0, 0.0, 96.0) / 96.0 * var_1384)
	var_1391 = int(limitf(var_1389 + 84.0, 0.0, 96.0) / 96.0 * var_1384)
	pos var_1382, var_1383
	gcopy 1, 0, 0, var_1390, var_1385
	pos var_1382 + var_1390, var_1383
	gcopy 1, var_1390, var_1385, var_1384 - var_1390, var_1385
	pos var_1382, var_1383 + var_1385 + 1
	gcopy 1, 0, 0, var_1391, var_1385
	pos var_1382 + var_1391, var_1383 + var_1385 + 1
	gcopy 1, var_1391, var_1385, var_1384 - var_1391, var_1385
	repeat 9
		var_1392 = var_1382 + (var_1384 - 1) * cnt / 8 - 1
		var_1393 = var_1383 + var_1385 * 2 + 3
		color 16, 16, 24
		boxf var_1392, var_1393, var_1392, var_1393 + 3
		color 96, 96, 112
		boxf var_1392 + 1, var_1393, var_1392 + 1, var_1393 + 3
	loop
	setfont_level_eter
	color 208, 208, 208
	pos var_1382 + 22 * (-1) + 13, var_1383 + var_1385 * 2 + 8
	mes "-84"
	pos var_1382 + 22 * 0 + 13, var_1383 + var_1385 * 2 + 8
	mes "-72"
	pos var_1382 + 22 * 1 + 13, var_1383 + var_1385 * 2 + 8
	mes "-60"
	pos var_1382 + 22 * 2 + 13, var_1383 + var_1385 * 2 + 8
	mes "-48"
	pos var_1382 + 22 * 3 + 13, var_1383 + var_1385 * 2 + 8
	mes "-36"
	pos var_1382 + 22 * 4 + 13, var_1383 + var_1385 * 2 + 8
	mes "-24"
	pos var_1382 + 22 * 5 + 13, var_1383 + var_1385 * 2 + 8
	mes "-12"
	pos var_1382 + 22 * 6 + 19, var_1383 + var_1385 * 2 + 8
	mes "0"
	pos var_1382 + 22 * 7 + 17, var_1383 + var_1385 * 2 + 8
	mes "12"
	return
*label_514
	goto *label_519
#deffunc clearmainstatusstr
	var_392(11) = ""
	var_1394 = 0
	var_392(12) = ""
	var_1395 = 0
	return
#deffunc setmainstatusstr str prm_1223, int prm_1224
	if ( prm_1224 >= var_1394 ) {
		var_392(11) = prm_1223
		var_1394 = prm_1224
	}
	return
#deffunc setmainstatusstrright str prm_1225, int prm_1226
	if ( prm_1226 >= var_1395 ) {
		var_392(12) = prm_1225
		var_1395 = prm_1226
	}
	return
#deffunc drawmainstatus
	var_1396 = var_67(154)
	if ( var_392(11) != var_1397 ) {
		var_1396 = 1
	}
	if ( var_392(12) != var_1398 ) {
		var_1396 = 1
	}
	if ( var_1396 == 1 ) {
		var_1399 = var_67(139)
		var_1400 = var_67(140)
		var_1401 = var_67(141)
		var_1402 = var_67(142)
		gsel 6
		setfont_normal
		pos var_1399 + 8, var_1400 + 4
		mes var_392(12)
		var_1403 = ginfo(14)
		color 32, 32, 48
		boxf var_1399, var_1400, var_1399 + var_1401 - 1, var_1400 + var_1402 - 1
		color 208, 208, 208
		pos var_1399 + 8, var_1400 + 4
		mes var_392(11)
		pos var_1399 + var_1401 - var_1403 - 8, var_1400 + 4
		mes var_392(12)
		var_67(154) = 0
		var_67(161) = 1
		var_1397 = var_392(11)
		var_1398 = var_392(12)
	}
	return
*label_519
	goto *label_525
#deffunc setmastertrackoption
	if ( var_67(17) == 0 ) {
		return
	}
	screen_nomin 14, 320, 105, 2 | 4
	title tltx("マスタートラック設定", "Master track settings")
	syscolor 15
	boxf
	var_1404 = vslib_getprjmastervolume(var_67(17))
	sdim var_1405
	if ( var_1404 == 0.0 ) {
		var_1405 = "-inf"
	}
	else {
		var_1405 = strf("%3.1f", 20.0 * logf(var_1404) / logf(10.0))
	}
	var_1406 = 10
	syscolor 8
	setfont_normal
	objmode 2
	pos 10, var_1406 + 4
	mes tltx("トラック名", "Track name")
	pos 100, var_1406 + 4
	mes tltx("マスター", "Master")
	var_1406 += 28
	pos 10, var_1406 + 4
	mes tltx("ボリューム", "Volume")
	objsize 60, 22
	pos 100, var_1406
	input var_1405
	var_1407 = stat
	pos 165, var_1406 + 4
	mes "dB"
	var_1406 += 28
	var_1406 += 5
	objsize 80, 22
	pos 50, var_1406
	button gosub tltx("OK", "OK"), *label_522
	var_1408 = stat
	pos 140, var_1406
	button gosub tltx("キャンセル", "Cancel"), *label_521
	pos 230, var_1406
	button gosub tltx("適用", "Apply"), *label_524
	objsel var_1407
	selectinputtext var_1407
	waitobjectupdate
	gsel 14, 2
	var_1409 = -1
	var_1410 = 0
	onkey gosub *label_523
	repeat
		gsel 14
		var_1411 = var_1410
		var_1410 = getkeyflg(27)
		if ( var_67(20) == 14 ) {
			var_67(20) = 0
			var_1409 = 1
		}
		if ( getactivewindow() == 14 & var_1411 == 0 & var_1410 == 1 ) {
			var_1409 = 1
		}
		if ( var_1409 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	onkey 0
	gsel 14, -1
	gsel 6
	if ( var_1409 == 0 ) {
		gosub *label_524
	}
	setmainalldrawflg
	return
*label_521
	var_1409 = 1
	return
*label_522
	var_1409 = 0
	return
*label_523
	if ( iparam == 13 & getactivewindow() == 14 ) {
		objsel -1
		if ( stat == var_1407 ) {
			gosub *label_522
		}
	}
	return
*label_524
	if ( var_1405 == "-inf" | double(var_1405) <= (-200.0) ) {
		var_1404 = 0.0
	}
	else {
		var_1412 = double(var_1405)
		if ( var_1412 >= 0.0 ) {
			var_1412 = limitf(0.1 * int(var_1412 * 10.0 + 0.5), -200.0, 40.0)
		}
		else {
			var_1412 = limitf(0.1 * int(var_1412 * 10.0 - 0.5), -200.0, 40.0)
		}
		var_1404 = powf(10.0, var_1412 / 20.0)
	}
	SetPrjMasterVolume var_67(17), limitf(var_1404, 0.0, 100.0)
	oneditproject
	return
*label_525
	goto *label_532
#deffunc settrackoption int prm_1227, int prm_1228
	if ( var_67(17) == 0 ) {
		return
	}
	var_1413 = GetTrackNum(var_67(17))
	if ( var_1413 == 0 ) {
		var_1414 = tltx("トラックが選択されていません。\n設定を変更するトラックを選択してから\nメニューのトラック設定を選択してください。", "Target track is not selected.")
		msgdialog var_1414
		return
	}
	var_1415 = prm_1227
	if ( var_1415 == (-1) ) {
		if ( var_1413 == 1 ) {
			var_1415 = 0
		}
		else {
			var_1416 = 0
			repeat var_1413
				if ( gettrackselflg(cnt) == 1 ) {
					var_1415 = cnt
					var_1416++
				}
			loop
			if ( var_1416 == 0 ) {
				var_1414 = tltx("トラックが選択されていません。\n設定を変更するトラックを選択してから\nメニューのトラック設定を選択してください。", "Target track is not selected.")
				msgdialog var_1414
				return
			}
			if ( var_1416 != 1 ) {
				setmultitrackoption
				return
			}
		}
	}
	screen_nomin 15, 340, 220 + var_67(76) * 28 * 3, 2 | 4
	title tltx("トラック設定", "Track settings")
	syscolor 15
	boxf
	var_1417 = vslib_gettrackname(var_67(17), var_1415)
	var_1418 = GetTrackColor(var_67(17), var_1415)
	var_1419 = GetTrackMuteFlg(var_67(17), var_1415)
	var_1420 = GetTrackSoloFlg(var_67(17), var_1415)
	var_1421 = vslib_gettrackvolume(var_67(17), var_1415)
	var_1422 = vslib_gettrackpan(var_67(17), var_1415)
	var_1423 = GetTrackInvertFlg(var_67(17), var_1415)
	var_1424 = GetTrackMorphingGroup(var_67(17), var_1415)
	var_1425 = GetTrackOption(var_67(17), var_1415)
	var_1426 = (var_1425 & 1) != 0
	var_1427 = (var_1425 & 2) != 0
	sdim var_1428
	if ( var_1421 == 0.0 ) {
		var_1428 = "-inf"
	}
	else {
		var_1428 = strf("%3.1f", 20.0 * logf(var_1421) / logf(10.0))
	}
	sdim var_1429
	var_1429 = strf("%4.2f", var_1422)
	var_1430 = 10
	syscolor 8
	setfont_normal
	objmode 2
	pos 10, var_1430 + 4
	mes tltx("トラック名", "Track name")
	objsize 210, 22
	pos 120, var_1430
	input var_1417, , , 63
	var_1431 = stat
	var_1430 += 28
	pos 10, var_1430 + 4
	mes tltx("トラックカラー", "Track color")
	objsize 100, 22
	pos 120, var_1430
	combox var_1418, 100, tltx("赤\n橙\n黄色\n緑\n水色\n青\n紫\nピンク", "Red\nOrange\nYellow\nGreen\nLight blue\nBlue\nPurple\nPink")
	var_1430 += 28
	objsize 80, 22
	pos 10, var_1430
	chkbox tltx("ミュート", "Mute"), var_1419
	pos 120, var_1430
	chkbox tltx("ソロ", "Solo"), var_1420
	var_1430 += 28
	pos 10, var_1430 + 4
	mes tltx("ボリューム", "Volume")
	objsize 60, 22
	pos 120, var_1430
	input var_1428
	var_1432 = stat
	pos 185, var_1430 + 4
	mes "dB"
	var_1430 += 28
	pos 10, var_1430 + 4
	mes tltx("Pan", "Pan")
	pos 120, var_1430
	objsize 60, 22
	input var_1429
	var_1433 = stat
	pos 185, var_1430 + 4
	mes "(L:-1.00 , R:1.00)"
	var_1430 += 28
	objsize 120, 22
	pos 10, var_1430
	chkbox tltx("逆相", "Inverse phase"), var_1423
	var_1430 += 28
	if ( var_67(76) != 0 ) {
		pos 10, var_1430 + 4
		mes tltx("モーフィング設定", "Morphing settings")
		var_1430 += 28
		pos 20, var_1430 + 4
		mes tltx("モーフィンググループ", "Morphing group")
		objsize 100, 22
		pos 120, var_1430
		combox var_1424, 100, tltx("-\n1", "-\n1")
		var_1430 += 28
		pos 20, var_1430
		objsize 100, 22
		chkbox tltx("PITをミュート", "Mute PIT"), var_1426
		pos 140, var_1430
		objsize 100, 22
		chkbox tltx("音色をミュート", "Mute spectrum"), var_1427
		var_1430 += 28
	}
	var_1430 += 5
	objsize 80, 22
	pos 70, var_1430
	button gosub tltx("OK", "OK"), *label_529
	var_1434 = stat
	pos 160, var_1430
	button gosub tltx("キャンセル", "Cancel"), *label_528
	pos 250, var_1430
	button gosub tltx("適用", "Apply"), *label_531
	var_1435 = prm_1228
	if ( 0 ) {
		var_1436++
	}
	if ( var_1435 == 1 | var_1436 ) {
		var_1436 = 0
		objsel var_1431
		selectinputtext var_1431
		goto *label_527
		var_1436++
	}
	if ( var_1435 == 2 | var_1436 ) {
		var_1436 = 0
		objsel var_1432
		selectinputtext var_1432
		goto *label_527
		var_1436++
	}
	if ( var_1435 == 3 | var_1436 ) {
		var_1436 = 0
		objsel var_1433
		selectinputtext var_1433
		goto *label_527
	}
*label_527
	waitobjectupdate
	gsel 15, 2
	var_1437 = -1
	var_1438 = 0
	onkey gosub *label_530
	repeat
		gsel 15
		var_1439 = var_1438
		var_1438 = getkeyflg(27)
		if ( var_67(20) == 15 ) {
			var_67(20) = 0
			var_1437 = 1
		}
		if ( getactivewindow() == 15 & var_1439 == 0 & var_1438 == 1 ) {
			var_1437 = 1
		}
		if ( var_1437 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	onkey 0
	gsel 15, -1
	gsel 6
	if ( var_1437 == 0 ) {
		gosub *label_531
	}
	setmainalldrawflg
	setidealldrawflg
	return
*label_528
	var_1437 = 1
	return
*label_529
	var_1437 = 0
	return
*label_530
	if ( iparam == 13 & getactivewindow() == 15 ) {
		objsel -1
		if ( stat == var_1431 ) {
			gosub *label_529
		}
		if ( stat == var_1432 ) {
			gosub *label_529
		}
		if ( stat == var_1433 ) {
			gosub *label_529
		}
	}
	return
*label_531
	SetTrackName var_67(17), var_1415, var_1417
	SetTrackColor var_67(17), var_1415, limit(var_1418, 0, 7)
	SetTrackMuteFlg var_67(17), var_1415, limit(var_1419, 0, 1)
	SetTrackSoloFlg var_67(17), var_1415, limit(var_1420, 0, 1)
	SetTrackInvertFlg var_67(17), var_1415, limit(var_1423, 0, 1)
	SetTrackMorphingGroup var_67(17), var_1415, limit(var_1424, 0, 1)
	var_1422 = double(var_1429)
	if ( var_1422 >= 0.0 ) {
		var_1422 = limitf(0.01 * int(var_1422 * 100.0 + 0.5), -1.0, 1.0)
	}
	else {
		var_1422 = limitf(0.01 * int(var_1422 * 100.0 - 0.5), -1.0, 1.0)
	}
	SetTrackPan var_67(17), var_1415, var_1422
	if ( var_1428 == "-inf" | double(var_1428) <= (-200.0) ) {
		var_1421 = 0.0
	}
	else {
		var_1440 = double(var_1428)
		if ( var_1440 >= 0.0 ) {
			var_1440 = limitf(0.1 * int(var_1440 * 10.0 + 0.5), -200.0, 40.0)
		}
		else {
			var_1440 = limitf(0.1 * int(var_1440 * 10.0 - 0.5), -200.0, 40.0)
		}
		var_1421 = powf(10.0, var_1440 / 20.0)
	}
	SetTrackVolume var_67(17), var_1415, limitf(var_1421, 0.0, 100.0)
	var_1425 = 0
	if ( var_1426 != 0 ) {
		var_1425 += 1
	}
	if ( var_1427 != 0 ) {
		var_1425 += 2
	}
	func_10 var_67(17), var_1415, var_1425
	oneditproject
	return
*label_532
	goto *label_538
#deffunc setmultitrackoption
	if ( var_67(17) == 0 ) {
		return
	}
	var_1441 = GetTrackNum(var_67(17))
	var_1442 = -1
	repeat var_1441
		if ( gettrackselflg(cnt) == 1 ) {
			var_1442 = cnt
			break
		}
	loop
	if ( var_1442 == (-1) ) {
		var_1443 = tltx("トラックが選択されていません。\n設定を変更するトラックを選択してから\nメニューのトラック設定を選択してください。", "Target track is not selected.")
		msgdialog var_1443
		return
	}
	screen_nomin 15, 320, 230 + var_67(76) * 90, 2 | 4
	title tltx("トラック一括設定", "Multiple track settings")
	syscolor 15
	boxf
	var_1444 = GetTrackColor(var_67(17), var_1442)
	var_1445 = GetTrackMuteFlg(var_67(17), var_1442)
	var_1446 = GetTrackSoloFlg(var_67(17), var_1442)
	var_1447 = vslib_gettrackvolume(var_67(17), var_1442)
	var_1448 = vslib_gettrackpan(var_67(17), var_1442)
	var_1449 = GetTrackInvertFlg(var_67(17), var_1442)
	var_1450 = GetTrackMorphingGroup(var_67(17), var_1442)
	var_1451 = GetTrackOption(var_67(17), var_1442)
	sdim var_1452
	if ( var_1447 == 0.0 ) {
		var_1452 = "-inf"
	}
	else {
		var_1452 = strf("%3.1f", 20.0 * logf(var_1447) / logf(10.0))
	}
	sdim var_1453
	var_1453 = strf("%4.2f", var_1448)
	var_1454 = (var_1451 & 1) != 0
	var_1455 = (var_1451 & 2) != 0
	var_1456 = 0
	var_1457 = 0
	var_1458 = 0
	var_1459 = 0
	var_1460 = 0
	var_1461 = 0
	var_1462 = 0
	var_1463 = 0
	var_1464 = 0
	var_1465 = 10
	syscolor 8
	setfont_normal
	objmode 2
	pos 10, var_1465
	objsize 180, 22
	chkbox tltx("トラックカラー一括変更", "Change track color"), var_1456
	pos 210, var_1465
	objsize 100, 22
	combox var_1444, 100, tltx("赤\n橙\n黄色\n緑\n水色\n青\n紫\nピンク", "Red\nOrange\nYellow\nGreen\nLight blue\nBlue\nPurple\nPink")
	var_1465 += 30
	pos 10, var_1465
	objsize 180, 22
	chkbox tltx("Mute一括変更", "Change mute"), var_1457
	pos 210, var_1465
	objsize 80, 22
	chkbox "Mute", var_1445
	var_1465 += 30
	pos 10, var_1465
	objsize 180, 22
	chkbox tltx("Solo一括変更", "Change solo"), var_1458
	pos 210, var_1465
	objsize 80, 22
	chkbox "Solo", var_1446
	var_1465 += 30
	pos 10, var_1465
	objsize 180, 22
	chkbox tltx("Volume一括変更", "Change volume"), var_1459
	pos 210, var_1465
	objsize 60, 22
	input var_1452
	var_1466 = stat
	pos 275, var_1465 + 4
	mes "dB"
	var_1465 += 30
	pos 10, var_1465
	objsize 180, 22
	chkbox tltx("Pan一括変更", "Change pan"), var_1460
	pos 210, var_1465
	objsize 60, 22
	input var_1453
	var_1467 = stat
	var_1465 += 30
	pos 10, var_1465
	objsize 180, 22
	chkbox tltx("逆相一括変更", "Change Inverse"), var_1461
	pos 210, var_1465
	objsize 100, 22
	chkbox tltx("逆相", "Inverse phase"), var_1449
	var_1465 += 30
	if ( var_67(76) != 0 ) {
		pos 10, var_1465
		objsize 180, 22
		chkbox tltx("モーフィンググループ一括変更", "Change Morphing group"), var_1462
		pos 210, var_1465
		objsize 100, 22
		combox var_1450, 100, tltx("-\n1", "-\n1")
		var_1465 += 30
		pos 10, var_1465
		objsize 180, 22
		chkbox tltx("PITミュート一括変更", "Change Mute PIT"), var_1463
		pos 210, var_1465
		objsize 100, 22
		chkbox tltx("PITをミュート", "Mute PIT"), var_1454
		var_1465 += 30
		pos 10, var_1465
		objsize 180, 22
		chkbox tltx("音色をミュート一括変更", "Change Mute spectrum"), var_1464
		pos 210, var_1465
		objsize 100, 22
		chkbox tltx("音色をミュート", "Mute spectrum"), var_1455
		var_1465 += 30
	}
	var_1465 += 5
	objsize 80, 22
	pos 50, var_1465
	button gosub tltx("OK", "OK"), *label_535
	var_1468 = stat
	pos 140, var_1465
	button gosub tltx("キャンセル", "Cancel"), *label_534
	pos 230, var_1465
	button gosub tltx("適用", "Apply"), *label_537
	objsel var_1468
	waitobjectupdate
	gsel 15, 2
	var_1469 = -1
	var_1470 = 0
	onkey gosub *label_536
	repeat
		gsel 15
		var_1471 = var_1470
		var_1470 = getkeyflg(27)
		if ( var_67(20) == 15 ) {
			var_67(20) = 0
			var_1469 = 1
		}
		if ( getactivewindow() == 15 & var_1471 == 0 & var_1470 == 1 ) {
			var_1469 = 1
		}
		if ( var_1469 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	onkey 0
	gsel 15, -1
	gsel 6
	if ( var_1469 == 0 ) {
		gosub *label_537
	}
	setmainalldrawflg
	return
*label_534
	var_1469 = 1
	return
*label_535
	var_1469 = 0
	return
*label_536
	if ( iparam == 13 & getactivewindow() == 15 ) {
		objsel -1
		if ( stat == var_1466 ) {
			gosub *label_535
		}
		if ( stat == var_1467 ) {
			gosub *label_535
		}
	}
	return
*label_537
	var_1448 = double(var_1453)
	if ( var_1448 >= 0.0 ) {
		var_1448 = limitf(0.01 * int(var_1448 * 100.0 + 0.5), -1.0, 1.0)
	}
	else {
		var_1448 = limitf(0.01 * int(var_1448 * 100.0 - 0.5), -1.0, 1.0)
	}
	if ( var_1452 == "-inf" | double(var_1452) <= (-200.0) ) {
		var_1447 = 0.0
	}
	else {
		var_1472 = double(var_1452)
		if ( var_1472 >= 0.0 ) {
			var_1472 = limitf(0.1 * int(var_1472 * 10.0 + 0.5), -200.0, 40.0)
		}
		else {
			var_1472 = limitf(0.1 * int(var_1472 * 10.0 - 0.5), -200.0, 40.0)
		}
		var_1447 = powf(10.0, var_1472 / 20.0)
	}
	repeat var_1441
		if ( gettrackselflg(cnt) == 1 ) {
			var_1442 = cnt
			if ( var_1456 != 0 ) {
				SetTrackColor var_67(17), var_1442, limit(var_1444, 0, 7)
			}
			if ( var_1457 != 0 ) {
				SetTrackMuteFlg var_67(17), var_1442, limit(var_1445, 0, 1)
			}
			if ( var_1458 != 0 ) {
				SetTrackSoloFlg var_67(17), var_1442, limit(var_1446, 0, 1)
			}
			if ( var_1459 != 0 ) {
				SetTrackVolume var_67(17), var_1442, limitf(var_1447, 0.0, 100.0)
			}
			if ( var_1460 != 0 ) {
				SetTrackPan var_67(17), var_1442, var_1448
			}
			if ( var_1461 != 0 ) {
				SetTrackInvertFlg var_67(17), var_1442, limit(var_1449, 0, 1)
			}
			if ( var_1462 != 0 ) {
				SetTrackMorphingGroup var_67(17), var_1442, limit(var_1450, 0, 1)
			}
			if ( var_1463 != 0 ) {
				var_1451 = GetTrackOption(var_67(17), var_1442)
				var_1451 -= var_1451 & 1
				var_1451 += 1 * var_1454
				func_10 var_67(17), var_1442, var_1451
			}
			if ( var_1464 != 0 ) {
				var_1451 = GetTrackOption(var_67(17), var_1442)
				var_1451 -= var_1451 & 2
				var_1451 += 2 * var_1454
				func_10 var_67(17), var_1442, var_1451
			}
		}
	loop
	if ( (var_1456 | var_1457 | var_1458 | var_1459 | var_1460 | var_1461) != 0 ) {
		oneditproject
	}
	return
*label_538
	goto *label_545
#deffunc setitemoption int prm_1229
	if ( var_67(17) == 0 ) {
		return
	}
	var_1473 = GetPrjItemNum(var_67(17))
	if ( var_1473 == 0 ) {
		var_1474 = tltx("アイテムが選択されていません。\n設定を変更するアイテムを選択してから\nメニューのアイテム設定を選択してください。", "Target item is not selected.")
		msgdialog var_1474
		return
	}
	var_1475 = prm_1229
	if ( var_1475 == (-1) ) {
		if ( var_1473 == 1 ) {
			var_1475 = 0
		}
		else {
			var_1476 = 0
			repeat var_1473
				if ( getitemselflg(cnt) == 1 ) {
					var_1475 = cnt
					var_1476++
				}
			loop
			if ( var_1476 == 0 ) {
				var_1474 = tltx("アイテムが選択されていません。\n設定を変更するアイテムを選択してから\nメニューのアイテム設定を選択してください。", "Target item is not selected.")
				msgdialog var_1474
				return
			}
			if ( var_1476 != 1 ) {
				setmultiitemoption
				return
			}
		}
	}
	var_1477 = GetPrjItem(var_67(17), var_1475)
	if ( var_1477 == 0 ) {
		return
	}
	sdim var_1478, 260
	var_1478 = vslib_getii_filename(var_1477)
	var_1479 = 275 + 28 * var_67(50) + 28 * var_67(78)
	var_1479 += var_67(76) * 28 * 1
	screen_nomin 16, 360, var_1479, 2 | 4
	title tltx("アイテム設定", "Item Settings") + " - " + getpath(var_1478, 8)
	syscolor 15
	boxf
	var_1480 = GetIP_synthMode(var_1477)
	var_1481 = vslib_getprjitemfreqa4(var_67(17), var_1475)
	var_1482 = GetPrjItemKey(var_67(17), var_1475)
	var_1483 = GetPrjItemKeyType(var_67(17), var_1475)
	var_1484 = GetPrjItemTune(var_67(17), var_1475)
	var_1485 = vslib_getprjitemoffset(var_67(17), var_1475)
	var_1486 = GetPrjItemOffsetAdd(var_67(17), var_1475)
	var_1485 -= var_1486
	var_1487 = vslib_getprjitemmeasoffset(var_67(17), var_1475)
	var_1488 = GetPrjSampFreq(var_67(17))
	var_1489(0) = 0, 1, 2, 0, 3, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0
	var_1489(16) = 5, 6, 7, 8, 9, 10, 11, 12
	var_1480 = var_1489(limit(var_1480, 0, 23))
	var_1490 = 440.0
	GetPrjItemBaseFreq var_67(17), var_1475, var_1491, var_1492, var_1490
	var_1493 = GetIP_synthOption(var_1477)
	var_1494 = var_67(102)
	var_1495 = var_1494
	var_1496 = var_1485
	var_1497 = timesmptostr(var_1485, var_1494)
	var_1498 = var_1497
	sdim var_1499, 64
	var_1499 = timesectostr(var_1487)
	sdim var_1500, 32
	var_1501 = var_1491
	if ( 0 ) {
		var_1502++
	}
	if ( var_1501 == 3 | var_1502 ) {
		var_1502 = 0
		var_1500 = getnoteoctname2(var_1492, var_1482) + strf("=%6.4f", var_1490)
		goto *label_540
	}
	if ( 1 ) {
		var_1500 = strf("A4=%6.4f", var_1481)
		goto *label_540
	}
*label_540
	if ( var_1482 != 0 & var_1483 != 0 ) {
		var_1503 = var_1482 + 12
	}
	else {
		var_1503 = var_1482
	}
	dim var_1504, 12
	GetPrjItemUserTune var_67(17), var_1475, var_1504
	sdim var_1505, 64
	repeat 12
		var_1505 += str(var_1504(cnt))
		if ( cnt != 11 ) {
			var_1505 += ","
		}
	loop
	var_1506 = 0.0
	var_1507 = 0.0
	var_1508 = GetII_nTctrlPrm(var_1477)
	GetIP_tctrlTime var_1477, var_1508 - 1, var_1507, var_1506
	sdim var_1509, 64
	var_1510 = var_1506 / var_1507
	var_1509 = strf("%6.4f", var_1510)
	var_1511 = var_1509
	sdim var_1512, 32
	if ( (var_1493 & 2) != 0 ) {
		var_1512 += "o"
	}
	if ( (var_1493 & 4) != 0 ) {
		var_1512 += "s"
	}
	if ( (var_1493 & 8) != 0 ) {
		var_1512 += "v"
	}
	if ( (var_1493 & 16) != 0 ) {
		var_1512 += "u"
	}
	var_1513 = GetPrjItemOption(var_67(17), var_1475)
	var_1514 = 0
	var_1515 = 0
	var_1516 = (var_1513 & 4) != 0
	var_1517 = 10
	syscolor 8
	setfont_normal
	objmode 2
	pos 10, var_1517 + 4
	mes tltx("音声合成方式", "Synthesize method")
	pos 140, var_1517
	objsize 210, 22
	var_1518 = "M (単音楽器用)\nV (単音ボーカル用)\nP (和音用)\nR (リズム用)\nWORLD"
	var_1519 = "M (Monophonic)\nV (Monophonic vocal)\nP (Polyphonic)\nR (Rhythm)\nWORLD"
	if ( var_67(80) == 1 ) {
		repeat 8
			if ( var_392(26 + cnt) != "" ) {
				var_1518 += "\n" + var_392(26 + cnt)
				var_1519 += "\n" + var_392(26 + cnt)
			}
			else {
				var_1518 += "\n未登録"
				var_1519 += "\nUnregistered"
			}
		loop
	}
	combox var_1480, 100, tltx(var_1518, var_1519)
	var_1517 += 28
	pos 10, var_1517 + 4
	mes tltx("基準周波数", "Base frequency")
	objsize 100, 22
	pos 140, var_1517
	input var_1500
	var_1520 = stat
	var_1517 += 28
	pos 10, var_1517 + 4
	mes tltx("キー", "Key")
	objsize 100, 22
	pos 140, var_1517
	combox var_1503, 100, "-\nC\nDb\nD\nEb\nE\nF\nGb\nG\nAb\nA\nBb\nB\nAm\nBbm\nBm\nCm\nC#m\nDm\nEbm\nEm\nFm\nF#m\nGm\nG#m"
	var_1517 += 28
	pos 10, var_1517 + 4
	mes tltx("音律", "Temperament")
	objsize 150, 22
	pos 140, var_1517
	if ( var_67(50) == 1 ) {
		combox var_1484, 100, tltx("平均律\n純正律\nピタゴラス音律\n中全音律\nユーザー定義", "Equal temperament\nJust intonation\nPythagorean Tuning\nMeantone temperament\nUser-defined")
	}
	else {
		combox var_1484, 100, tltx("平均律\n純正律\nピタゴラス音律\n中全音律", "Equal temperament\nJust intonation\nPythagorean Tuning\nMeantone temperament")
	}
	var_1517 += 28
	if ( var_67(50) == 1 ) {
		pos 10, var_1517 + 4
		mes tltx("ユーザ定義音律", "User-defined temperament")
		objsize 210, 22
		pos 140, var_1517
		input var_1505
		var_1517 += 28
	}
	pos 10, var_1517 + 4
	mes tltx("オフセット", "Offset")
	objsize 100, 22
	pos 140, var_1517
	input var_1497
	var_1521 = stat
	pos 250, var_1517
	combox var_1494, 100, "M:S.MS\nM:B:T\nsample"
	var_1517 += 28
	pos 10, var_1517 + 4
	mes tltx("オフセット補正", "Offset correction")
	objsize 100, 22
	pos 140, var_1517
	input var_1486
	var_1522 = stat
	pos 250, var_1517 + 4
	mes "sample"
	var_1517 += 28
	pos 10, var_1517 + 4
	mes tltx("小節オフセット", "Measure offset")
	objsize 100, 22
	pos 140, var_1517
	input var_1499
	var_1523 = stat
	pos 250, var_1517 + 4
	mes "M:S.MS"
	var_1517 += 28
	pos 10, var_1517 + 4
	mes tltx("タイムストレッチ", "Time stretch")
	objsize 100, 22
	pos 140, var_1517
	input var_1509
	var_1524 = stat
	pos 250, var_1517 + 4
	mes tltx("倍", "")
	var_1517 += 28
	if ( var_67(78) != 0 ) {
		pos 10, var_1517 + 4
		mes tltx("アイテムフラグ", "Item flags")
		objsize 100, 22
		pos 140, var_1517
		input var_1512
		var_1517 += 28
	}
	if ( var_67(76) != 0 ) {
		pos 10, var_1517
		objsize 100, 22
		chkbox tltx("MRP自動設定", "MRP auto setting"), var_1516
		var_1517 += 28
	}
	var_1517 += 5
	objsize 80, 22
	pos 90, var_1517
	button gosub tltx("OK", "OK"), *label_542
	var_1525 = stat
	pos 180, var_1517
	button gosub tltx("キャンセル", "Cancel"), *label_541
	pos 270, var_1517
	button gosub tltx("適用", "Apply"), *label_544
	objsel var_1525
	waitobjectupdate
	gsel 16, 2
	var_1526 = -1
	var_1527 = 0
	onkey gosub *label_543
	repeat
		gsel 16
		var_1528 = var_1527
		var_1527 = getkeyflg(27)
		if ( var_67(20) == 16 ) {
			var_67(20) = 0
			var_1526 = 1
		}
		if ( getactivewindow() == 16 & var_1528 == 0 & var_1527 == 1 ) {
			var_1526 = 1
		}
		if ( var_1526 != (-1) ) {
			break
		}
		if ( var_1494 != var_1495 ) {
			if ( var_1497 == var_1498 ) {
				var_1529 = var_1496
			}
			else {
				var_1529 = strtotimesmp(var_1497, var_1495)
			}
			var_1497 = timesmptostr(var_1529, var_1494)
			var_1498 = var_1497
			var_1496 = var_1529
			var_1495 = var_1494
			objprm var_1521, var_1497
		}
		waitinputpolling
	loop
	onkey 0
	gsel 16, -1
	gsel 6
	if ( var_1526 == 0 ) {
		gosub *label_544
	}
	setmainalldrawflg
	setidealldrawflg
	return
*label_541
	var_1526 = 1
	return
*label_542
	var_1526 = 0
	return
*label_543
	if ( iparam == 13 & getactivewindow() == 16 ) {
		objsel -1
		if ( stat == var_1520 ) {
			gosub *label_542
		}
		if ( stat == var_1521 ) {
			gosub *label_542
		}
		if ( stat == var_1522 ) {
			gosub *label_542
		}
		if ( stat == var_1523 ) {
			gosub *label_542
		}
		if ( stat == var_1524 ) {
			gosub *label_542
		}
	}
	return
*label_544
	if ( var_1503 >= 13 ) {
		var_1483 = 1
		var_1482 = var_1503 - 12
	}
	else {
		var_1483 = 0
		var_1482 = var_1503
	}
	var_1530(0) = 0, 1, 2, 4, 8, 16, 17, 18, 19, 20, 21, 22, 23
	SetIP_synthMode var_1477, var_1530(limit(var_1480, 0, 12))
	SetPrjItemKey var_67(17), var_1475, limit(var_1482, 0, 12)
	SetPrjItemKeyType var_67(17), var_1475, limit(var_1483, 0, 12)
	SetPrjItemTune var_67(17), var_1475, limit(var_1484, 0, 4)
	if ( var_1497 == var_1498 ) {
		var_1485 = var_1496
	}
	else {
		var_1485 = strtotimesmp(var_1497, var_1494)
	}
	var_1485 += var_1486
	if ( var_1485 < 0.0 ) {
		var_1485 = 0.0
	}
	SetPrjItemOffset var_67(17), var_1475, var_1485
	SetPrjItemOffsetAdd var_67(17), var_1475, var_1486
	var_67(102) = var_1494
	var_1487 = strtotimesec(var_1499)
	SetPrjItemMeasOffset var_67(17), var_1475, var_1487
	if ( var_1509 != var_1511 ) {
		var_1531 = limitf(double(var_1509), 0.01, 100.0)
		var_1532 = var_1531 / var_1510
		var_1506 = 0.0
		var_1507 = 0.0
		var_1508 = GetII_nTctrlPrm(var_1477)
		repeat var_1508 - 1, 1
			GetIP_tctrlTime var_1477, cnt, var_1507, var_1506
			SetIP_tctrlTime var_1477, cnt, var_1507, var_1506 * var_1532
		loop
		var_1510 = var_1531
		UpdateRhythmTimeCtrl var_1477
	}
	sdim var_1533, 64
	var_1534 = 0
	repeat 12
		getstr var_1533, var_1505, var_1534, 44
		var_1504(cnt) = int(var_1533)
		var_1534 += strsize
	loop
	SetPrjItemUserTune var_67(17), var_1475, var_1504
	var_1534 = instr(var_1500, 0, "=")
	if ( var_1534 == (-1) ) {
		var_1491 = 3
		var_1492 = 69
		var_1490 = double(var_1500)
	}
	else {
		var_1491 = 3
		var_1492 = cnvnname2nn(strmid(var_1500, 0, var_1534))
		var_1490 = double(strmid(var_1500, var_1534 + 1, 32))
	}
	SetPrjItemBaseFreq var_67(17), var_1475, var_1491, var_1492, var_1490
	if ( var_1482 != 0 ) {
		if ( var_1483 == 0 ) {
			var_1535 = 60 + var_1482 - 1
		}
		else {
			var_1535 = 69 + var_1482 - 1
		}
	}
	else {
		var_1535 = var_1492
	}
	var_1536 = var_1490 * powf(2.0, double(var_1535 - var_1492) / 12.0)
	var_1537 = cnvpitch2freqd(cnvnn2pitchd(var_1535, var_1481, var_1482, var_1484, var_1475))
	var_1481 = var_1481 * var_1536 / var_1537
	SetPrjItemFreqA4 var_67(17), var_1475, limitf(var_1481, 220.0, 880.0)
	var_1493 = 0
	if ( instr(var_1512, 0, "o") != (-1) ) {
		var_1493 = var_1493 | 2
	}
	if ( instr(var_1512, 0, "s") != (-1) ) {
		var_1493 = var_1493 | 4
	}
	if ( instr(var_1512, 0, "v") != (-1) ) {
		var_1493 = var_1493 | 8
	}
	if ( instr(var_1512, 0, "u") != (-1) ) {
		var_1493 = var_1493 | 16
	}
	SetIP_synthOption var_1477, var_1493
	var_1513 = 0
	if ( var_1514 != 0 ) {
		var_1513 += 1
	}
	if ( var_1515 != 0 ) {
		var_1513 += 2
	}
	if ( var_1516 != 0 ) {
		var_1513 += 4
	}
	SetPrjItemOption var_67(17), var_1475, var_1513
	oneditproject
	return
*label_545
	goto *label_552
#deffunc setmultiitemoption int
	if ( var_67(17) == 0 ) {
		return
	}
	var_1538 = GetPrjItemNum(var_67(17))
	var_1539 = -1
	repeat var_1538
		if ( getitemselflg(cnt) == 1 ) {
			var_1539 = cnt
			break
		}
	loop
	if ( var_1539 == (-1) ) {
		var_1540 = tltx("アイテムが選択されていません。\n設定を変更するアイテムを選択してから\nメニューのアイテム設定を選択してください。", "Target item is not selected.")
		msgdialog var_1540
		return
	}
	var_1541 = GetPrjItem(var_67(17), var_1539)
	if ( var_1541 == 0 ) {
		return
	}
	var_1542 = 330 + 28 * var_67(50)
	screen_nomin 16, 430, var_1542, 2 | 4
	title tltx("アイテム一括設定", "Multiple item Settings")
	syscolor 15
	boxf
	var_1543 = GetIP_synthMode(var_1541)
	var_1544 = vslib_getprjitemfreqa4(var_67(17), var_1539)
	var_1545 = GetPrjItemKey(var_67(17), var_1539)
	var_1546 = GetPrjItemKeyType(var_67(17), var_1539)
	var_1547 = GetPrjItemTune(var_67(17), var_1539)
	var_1548 = vslib_getprjitemoffset(var_67(17), var_1539)
	var_1549 = GetPrjItemOffsetAdd(var_67(17), var_1539)
	var_1548 -= var_1549
	var_1550 = vslib_getprjitemmeasoffset(var_67(17), var_1539)
	var_1551 = GetPrjSampFreq(var_67(17))
	var_1552 = GetPrjItemOption(var_67(17), var_1539)
	var_1553(0) = 0, 1, 2, 0, 3, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0
	var_1553(16) = 5, 6, 7, 8, 9, 10, 11, 12
	var_1543 = var_1553(limit(var_1543, 0, 23))
	var_1554 = 0
	var_1555 = 0
	var_1556 = 440.0
	GetPrjItemBaseFreq var_67(17), var_1539, var_1557, var_1558, var_1556
	var_1559 = var_67(102)
	var_1560 = var_1559
	var_1561 = var_1548
	var_1562 = timesmptostr(var_1548, var_1559)
	var_1563 = var_1562
	sdim var_1564, 64
	var_1564 = timesectostr(var_1550)
	sdim var_1565, 32
	var_1566 = var_1557
	if ( 0 ) {
		var_1567++
	}
	if ( var_1566 == 3 | var_1567 ) {
		var_1567 = 0
		var_1565 = getnoteoctname2(var_1558, var_1545) + strf("=%6.4f", var_1556)
		goto *label_547
	}
	if ( 1 ) {
		var_1565 = strf("A4=%6.4f", var_1544)
		goto *label_547
	}
*label_547
	if ( var_1545 != 0 & var_1546 != 0 ) {
		var_1568 = var_1545 + 12
	}
	else {
		var_1568 = var_1545
	}
	dim var_1569, 12
	GetPrjItemUserTune var_67(17), var_1539, var_1569
	sdim var_1570, 64
	repeat 12
		var_1570 += str(var_1569(cnt))
		if ( cnt != 11 ) {
			var_1570 += ","
		}
	loop
	var_1571 = 0.0
	var_1572 = 0.0
	var_1573 = GetII_nTctrlPrm(var_1541)
	GetIP_tctrlTime var_1541, var_1573 - 1, var_1572, var_1571
	sdim var_1574, 64
	var_1575 = var_1571 / var_1572
	var_1574 = strf("%6.4f", var_1575)
	var_1576 = var_1574
	var_1577 = (var_1552 & 4) != 0
	var_1578 = 0
	var_1579 = 0
	var_1580 = 0
	var_1581 = 0
	var_1582 = 0
	var_1583 = 0
	var_1584 = 0
	var_1585 = 0
	var_1586 = 0
	var_1587 = 0
	var_1588 = 0
	var_1589 = 10
	syscolor 8
	setfont_normal
	objmode 2
	pos 10, var_1589
	objsize 180, 22
	chkbox tltx("音声合成方式一括変更", "Change synthesize method"), var_1578
	pos 210, var_1589
	objsize 210, 22
	var_1590 = "M (単音楽器用)\nV (単音ボーカル用)\nP (和音用)\nR (リズム用)\nWORLD"
	var_1591 = "M (Monophonic)\nV (Monophonic vocal)\nP (Polyphonic)\nR (Rhythm)\nWORLD"
	repeat 8
		if ( var_392(26 + cnt) != "" ) {
			var_1590 += "\n" + var_392(26 + cnt)
			var_1591 += "\n" + var_392(26 + cnt)
		}
		else {
			var_1590 += "\n未登録"
			var_1591 += "\nUnregistered"
		}
	loop
	combox var_1543, 100, tltx(var_1590, var_1591)
	var_1589 += 28
	pos 10, var_1589
	objsize 180, 22
	chkbox tltx("基準周波数一括変更", "Change base frequency"), var_1579
	pos 210, var_1589
	objsize 100, 22
	input var_1565
	var_1592 = stat
	var_1589 += 28
	pos 10, var_1589
	objsize 180, 22
	chkbox tltx("キー一括変更", "Change key"), var_1580
	pos 210, var_1589
	objsize 100, 22
	combox var_1568, 100, "-\nC\nDb\nD\nEb\nE\nF\nGb\nG\nAb\nA\nBb\nB\nAm\nBbm\nBm\nCm\nC#m\nDm\nEbm\nEm\nFm\nF#m\nGm\nG#m"
	var_1589 += 28
	pos 10, var_1589
	objsize 180, 22
	chkbox tltx("音律一括変更", "Change temperament"), var_1581
	pos 210, var_1589
	objsize 100, 22
	if ( var_67(50) == 1 ) {
		combox var_1547, 100, tltx("平均律\n純正律\nピタゴラス音律\n中全音律\nユーザー定義", "Equal temperament\nJust intonation\nPythagorean Tuning\nMeantone temperament\nUser-defined")
	}
	else {
		combox var_1547, 100, tltx("平均律\n純正律\nピタゴラス音律\n中全音律", "Equal temperament\nJust intonation\nPythagorean Tuning\nMeantone temperament")
	}
	var_1589 += 28
	if ( var_67(50) == 1 ) {
		pos 10, var_1589
		objsize 180, 22
		chkbox tltx("ユーザ定義音律一括変更", "Change user-defined temperament"), var_1582
		pos 210, var_1589
		objsize 210, 22
		input var_1570
		var_1589 += 28
	}
	pos 10, var_1589
	objsize 180, 22
	chkbox tltx("オフセット一括変更", "Change offset"), var_1583
	pos 210, var_1589
	objsize 100, 22
	input var_1562
	var_1593 = stat
	pos 320, var_1589
	combox var_1559, 100, "M:S.MS\nM:B:T\nsample"
	var_1589 += 28
	pos 10, var_1589
	objsize 180, 22
	chkbox tltx("オフセット補正一括変更", "Change offset correction"), var_1584
	pos 210, var_1589
	objsize 100, 22
	input var_1549
	var_1594 = stat
	pos 320, var_1589 + 4
	mes "sample"
	var_1589 += 28
	pos 10, var_1589
	objsize 180, 22
	chkbox tltx("オフセット補正ランダマイズ", "Randomize offset correction"), var_1585
	pos 210, var_1589
	objsize 50, 22
	input var_1554
	var_1595 = stat
	pos 265, var_1589 + 4
	mes tltx("〜", "~")
	pos 280, var_1589
	objsize 50, 22
	input var_1555
	var_1596 = stat
	pos 340, var_1589 + 4
	mes "sample"
	var_1589 += 28
	pos 10, var_1589
	objsize 180, 22
	chkbox tltx("小節オフセット一括変更", "Change measure offset"), var_1586
	pos 210, var_1589
	objsize 100, 22
	input var_1564
	var_1597 = stat
	pos 320, var_1589 + 4
	mes "M:S.MS"
	var_1589 += 28
	pos 10, var_1589
	objsize 180, 22
	chkbox tltx("タイムストレッチ倍率一括変更", "Change time stretch"), var_1587
	pos 210, var_1589
	objsize 100, 22
	input var_1574
	var_1598 = stat
	pos 320, var_1589 + 4
	mes tltx("倍", "")
	var_1589 += 28
	pos 10, var_1589
	objsize 180, 22
	chkbox tltx("MRP自動設定一括変更", "Change MRP auto setting"), var_1588
	pos 210, var_1589
	objsize 100, 22
	chkbox tltx("MRP自動設定", "MRP auto setting"), var_1577
	var_1589 += 28
	var_1589 += 5
	objsize 80, 22
	pos 160, var_1589
	button gosub tltx("OK", "OK"), *label_549
	var_1599 = stat
	pos 250, var_1589
	button gosub tltx("キャンセル", "Cancel"), *label_548
	pos 340, var_1589
	button gosub tltx("適用", "Apply"), *label_551
	objsel var_1599
	waitobjectupdate
	gsel 16, 2
	var_1600 = -1
	var_1601 = 0
	onkey gosub *label_550
	repeat
		gsel 16
		var_1602 = var_1601
		var_1601 = getkeyflg(27)
		if ( var_67(20) == 16 ) {
			var_67(20) = 0
			var_1600 = 1
		}
		if ( getactivewindow() == 16 & var_1602 == 0 & var_1601 == 1 ) {
			var_1600 = 1
		}
		if ( var_1600 != (-1) ) {
			break
		}
		if ( var_1559 != var_1560 ) {
			if ( var_1562 == var_1563 ) {
				var_1603 = var_1561
			}
			else {
				var_1603 = strtotimesmp(var_1562, var_1560)
			}
			var_1562 = timesmptostr(var_1603, var_1559)
			var_1563 = var_1562
			var_1561 = var_1603
			var_1560 = var_1559
			objprm var_1593, var_1562
		}
		waitinputpolling
	loop
	onkey 0
	gsel 16, -1
	gsel 6
	if ( var_1600 == 0 ) {
		gosub *label_551
	}
	setmainalldrawflg
	setidealldrawflg
	return
*label_548
	var_1600 = 1
	return
*label_549
	var_1600 = 0
	return
*label_550
	if ( iparam == 13 & getactivewindow() == 16 ) {
		objsel -1
		if ( stat == var_1592 ) {
			gosub *label_549
		}
		if ( stat == var_1593 ) {
			gosub *label_549
		}
		if ( stat == var_1594 ) {
			gosub *label_549
		}
		if ( stat == var_1595 ) {
			gosub *label_549
		}
		if ( stat == var_1596 ) {
			gosub *label_549
		}
		if ( stat == var_1597 ) {
			gosub *label_549
		}
		if ( stat == var_1598 ) {
			gosub *label_549
		}
	}
	return
*label_551
	if ( var_1562 == var_1563 ) {
		var_1548 = var_1561
	}
	else {
		var_1548 = strtotimesmp(var_1562, var_1559)
	}
	var_1550 = strtotimesec(var_1564)
	if ( var_1568 >= 13 ) {
		var_1546 = 1
		var_1545 = var_1568 - 12
	}
	else {
		var_1546 = 0
		var_1545 = var_1568
	}
	sdim var_1604, 64
	var_1605 = 0
	repeat 12
		getstr var_1604, var_1570, var_1605, 44
		var_1569(cnt) = int(var_1604)
		var_1605 += strsize
	loop
	if ( var_1574 != var_1576 ) {
		var_1606 = limitf(double(var_1574), 0.01, 100.0)
	}
	else {
		var_1587 = 0
	}
	var_1607 = 0
	repeat var_1538
		if ( getitemselflg(cnt) == 1 ) {
			var_1539 = cnt
			if ( var_1578 != 0 ) {
				var_1608(0) = 0, 1, 2, 4, 8, 16, 17, 18, 19, 20, 21, 22, 23
				var_1541 = GetPrjItem(var_67(17), var_1539)
				SetIP_synthMode var_1541, var_1608(limit(var_1543, 0, 12))
				var_1607 = 1
			}
			if ( var_1580 != 0 ) {
				SetPrjItemKey var_67(17), var_1539, limit(var_1545, 0, 12)
				SetPrjItemKeyType var_67(17), var_1539, limit(var_1546, 0, 12)
				var_1607 = 1
			}
			if ( var_1581 != 0 ) {
				SetPrjItemTune var_67(17), var_1539, limit(var_1547, 0, 4)
				var_1607 = 1
			}
			if ( var_1582 != 0 ) {
				SetPrjItemUserTune var_67(17), var_1539, var_1569
				var_1607 = 1
			}
			if ( var_1579 != 0 ) {
				var_1605 = instr(var_1565, 0, "=")
				if ( var_1605 == (-1) ) {
					var_1557 = 3
					var_1558 = 69
					var_1556 = double(var_1565)
				}
				else {
					var_1557 = 3
					var_1558 = cnvnname2nn(strmid(var_1565, 0, var_1605))
					var_1556 = double(strmid(var_1565, var_1605 + 1, 32))
				}
				SetPrjItemBaseFreq var_67(17), var_1539, var_1557, var_1558, var_1556
				if ( var_1545 != 0 ) {
					if ( var_1546 == 0 ) {
						var_1609 = 60 + var_1545 - 1
					}
					else {
						var_1609 = 69 + var_1545 - 1
					}
				}
				else {
					var_1609 = var_1558
				}
				var_1610 = var_1556 * powf(2.0, double(var_1609 - var_1558) / 12.0)
				var_1611 = cnvpitch2freqd(cnvnn2pitchd(var_1609, var_1544, var_1545, var_1547, var_1539))
				var_1544 = var_1544 * (var_1610 / var_1611)
				SetPrjItemFreqA4 var_67(17), var_1539, limitf(var_1544, 220.0, 880.0)
				var_1607 = 1
			}
			var_1612 = var_1584 | var_1585
			if ( var_1584 != 0 ) {
				var_1613 = var_1549
			}
			if ( var_1585 != 0 ) {
				if ( var_1554 > var_1555 ) {
					var_1604 = var_1554
					var_1554 = var_1555
					var_1555 = var_1604
				}
				var_1613 = var_1554
				var_1614 = double(rnd(32768)) / 32768.0
				var_1613 += int(var_1614 * (var_1555 - var_1554))
			}
			if ( var_1583 != 0 & var_1612 != 0 ) {
				var_1548 += var_1613
				if ( var_1548 < 0.0 ) {
					var_1548 = 0.0
				}
				SetPrjItemOffset var_67(17), var_1539, var_1548
				SetPrjItemOffsetAdd var_67(17), var_1539, var_1613
				var_67(102) = var_1559
				var_1607 = 1
			}
			else {
				if ( var_1583 != 0 ) {
					var_1615 = GetPrjItemOffsetAdd(var_67(17), var_1539)
					var_1548 += var_1615
					if ( var_1548 < 0.0 ) {
						var_1548 = 0.0
					}
					SetPrjItemOffset var_67(17), var_1539, var_1548
					var_67(102) = var_1559
					var_1607 = 1
				}
				if ( var_1612 != 0 ) {
					var_1548 = vslib_getprjitemoffset(var_67(17), var_1539)
					var_1615 = GetPrjItemOffsetAdd(var_67(17), var_1539)
					var_1548 -= var_1615
					var_1548 += var_1613
					if ( var_1548 < 0.0 ) {
						var_1548 = 0.0
					}
					SetPrjItemOffset var_67(17), var_1539, var_1548
					SetPrjItemOffsetAdd var_67(17), var_1539, var_1613
					var_1607 = 1
				}
			}
			if ( var_1586 != 0 ) {
				SetPrjItemMeasOffset var_67(17), var_1539, var_1550
				var_1607 = 1
			}
			if ( var_1587 != 0 ) {
				var_1541 = GetPrjItem(var_67(17), var_1539)
				var_1573 = GetII_nTctrlPrm(var_1541)
				var_1571 = 0.0
				var_1572 = 0.0
				GetIP_tctrlTime var_1541, var_1573 - 1, var_1572, var_1571
				var_1575 = var_1571 / var_1572
				var_1616 = var_1606 / var_1575
				repeat var_1573 - 1, 1
					GetIP_tctrlTime var_1541, cnt, var_1572, var_1571
					SetIP_tctrlTime var_1541, cnt, var_1572, var_1571 * var_1616
				loop
				UpdateRhythmTimeCtrl var_1541
				var_1607 = 1
			}
			if ( var_1588 != 0 ) {
				var_1552 = 0
				if ( var_1577 != 0 ) {
					var_1552 += 4
				}
				SetPrjItemOption var_67(17), var_1539, var_1552
			}
		}
	loop
	if ( var_1607 != 0 ) {
		oneditproject
	}
	return
*label_552
	goto *label_559
#deffunc setitemeqoption int prm_1231
	if ( var_67(17) == 0 ) {
		return
	}
	var_1617 = GetPrjItemNum(var_67(17))
	if ( var_1617 == 0 ) {
		var_1618 = tltx("アイテムが選択されていません。\n設定を変更するアイテムを選択してから\nメニューのアイテムEQ設定を選択してください。", "Target item is not selected.")
		msgdialog var_1618
		return
	}
	var_1619 = prm_1231
	var_1620 = 1
	if ( var_1619 == (-1) ) {
		if ( var_1617 == 1 ) {
			var_1619 = 0
		}
		else {
			var_1620 = 0
			repeat var_1617
				if ( getitemselflg(cnt) == 1 ) {
					var_1619 = cnt
					var_1620++
				}
			loop
			if ( var_1620 == 0 ) {
				var_1618 = tltx("アイテムが選択されていません。\n設定を変更するアイテムを選択してから\nメニューのアイテムEQ設定を選択してください。", "Target item is not selected.")
				msgdialog var_1618
				return
			}
		}
	}
	var_1621 = GetPrjItem(var_67(17), var_1619)
	if ( var_1621 == 0 ) {
		return
	}
	sdim var_1622, 260
	var_1622 = vslib_getii_filename(var_1621)
	screen_nomin 16, 610, 480, 2 | 4
	if ( var_1620 == 1 ) {
		title tltx("アイテムEQ設定", "Item EQ Settings") + " - " + getpath(var_1622, 8)
	}
	else {
		title tltx("アイテムEQ一括設定", "Multiple item EQ Settings")
	}
	syscolor 15
	boxf
	dim var_1623, 15
	dim var_1624, 15
	dim var_1625, 15
	dim var_1626, 15
	GetIP_EqGain var_1621, var_1623, var_1624
	GetIP_EqGain var_1621, var_1625, var_1626
	dim var_1627, 15 * var_1617
	dim var_1628, 15 * var_1617
	repeat var_1617
		var_1629 = GetPrjItem(var_67(17), cnt)
		dupptr var_1630, varptr(var_1627) + 15 * 4 * cnt, 15 * 4, vartype("int")
		dupptr var_1631, varptr(var_1628) + 15 * 4 * cnt, 15 * 4, vartype("int")
		GetIP_EqGain var_1629, var_1630, var_1631
	loop
	sdim var_1632, 8, 15
	var_1632(0) = "  25", "  40", "  63", " 100", " 160"
	var_1632(5) = " 250", " 400", " 630", "1.0k", "1.6k"
	var_1632(10) = "2.5k", "4.0k", "6.3k", " 10k", " 16k"
	sdim var_1633, 8, 30
	sdim var_1634, 8, 30
	dim var_1635, 30
	repeat 15
		var_1633(cnt + 0) = strf("%3.1f", 0.1 * var_1623(cnt))
		var_1633(cnt + 15) = strf("%3.1f", 0.1 * var_1624(cnt))
		var_1634(cnt + 0) = var_1633(cnt + 0)
		var_1634(cnt + 15) = var_1633(cnt + 15)
	loop
	var_1636 = 10
	syscolor 8
	setfont_normal
	objmode 2
	var_1637 = 20
	var_1636 = 40
	var_1638 = 38
	var_1639 = 120
	var_1640 = 11
	var_1641 = 220
	repeat 2
		var_1642 = cnt
		var_1643 = var_1636 + var_1642 * var_1641
		repeat 15
			var_1644 = var_1637 + var_1638 * cnt
			pos var_1644 + 5, var_1643 + var_1639 + var_1640 + 8
			input var_1633(var_1642 * 15 + cnt), 37, 20
			var_1635(var_1642 * 15 + cnt) = stat
		loop
	loop
	objsize 80, 22
	pos 410, 445
	button gosub tltx("OK", "OK"), *label_555
	var_1645 = stat
	pos 500, 445
	button gosub tltx("キャンセル", "Cancel"), *label_554
	pos 60, 10
	button gosub tltx("Flat", "Flat"), *label_556
	pos 60, 230
	button gosub tltx("Flat", "Flat"), *label_557
	objsel var_1645
	waitobjectupdate
	gsel 16, 2
	var_1646 = -1
	var_1647 = 0
	onkey gosub *label_558
	repeat
		gsel 16
		var_1648 = var_1647
		var_1647 = getkeyflg(27)
		if ( var_67(20) == 16 ) {
			var_67(20) = 0
			var_1646 = 1
		}
		if ( getactivewindow() == 16 & var_1648 == 0 & var_1647 == 1 ) {
			var_1646 = 1
		}
		if ( var_1646 != (-1) ) {
			break
		}
		var_1637 = 20
		var_1636 = 40
		var_1638 = 38
		var_1639 = 120
		var_1640 = 11
		var_1641 = 220
		if ( getactivewindow() == 16 ) {
			var_1649 = _mousex()
			var_1650 = _mousey()
			var_1651 = mousew
			var_1652 = var_1653
			var_1653 = getkeyflg(var_67(3))
			var_1654 = getkeyflg(var_67(4))
			var_1655 = getkeyflg(16)
			var_1656 = getkeyflg(17)
			if ( var_1653 == 1 | var_1654 == 1 | var_1651 != 0 ) {
				repeat 2
					var_1642 = cnt
					var_1643 = var_1636 + var_1642 * var_1641
					repeat 15
						var_1644 = var_1637 + var_1638 * cnt
						var_1657 = var_1644
						var_1658 = var_1644 + var_1638
						var_1659 = var_1643 - 10
						var_1660 = var_1643 + var_1639 + var_1640 - 1 + 10
						if ( var_1649 >= var_1657 & var_1649 < var_1658 & var_1650 >= var_1659 & var_1650 < var_1660 ) {
							if ( var_1642 == 0 ) {
								var_1661 = var_1623(cnt)
							}
							else {
								var_1661 = var_1624(cnt)
							}
							if ( var_1652 == 0 & var_1653 == 1 ) {
								var_1662 = GetTickCount()
								var_1663 = abs(var_1649 - var_1664) + abs(var_1650 - var_1665)
								if ( var_1662 - var_1666 < 400 & var_1663 < 10 ) {
									var_1661 = 0
									var_1667 = 1
								}
								else {
									var_1667 = 0
								}
								var_1664 = var_1649
								var_1665 = var_1650
								var_1666 = var_1662
							}
							if ( var_1653 == 1 & var_1667 == 0 ) {
								var_1661 = 240 - (var_1650 - (var_1643 + var_1640 / 2)) * 480 / var_1639
							}
							if ( var_1654 == 1 ) {
								var_1661 = 0
							}
							var_1668 = 30
							if ( var_1655 + var_1656 == 1 ) {
								var_1668 = 10
							}
							if ( var_1655 + var_1656 == 2 ) {
								var_1668 = 1
							}
							if ( var_1651 > 0 ) {
								var_1661 += var_1668
							}
							if ( var_1651 < 0 ) {
								var_1661 -= var_1668
							}
							var_1661 = limit(var_1661, -240, 240)
							if ( var_1642 == 0 ) {
								var_1623(cnt) = var_1661
								var_1633(var_1642 * 15 + cnt) = strf("%3.1f", 0.1 * var_1623(cnt))
								if ( var_1634(var_1642 * 15 + cnt) != var_1633(var_1642 * 15 + cnt) ) {
									var_1634(var_1642 * 15 + cnt) = var_1633(var_1642 * 15 + cnt)
									objprm var_1635(var_1642 * 15 + cnt), var_1633(var_1642 * 15 + cnt)
									objsel var_1635(var_1642 * 15 + cnt)
								}
							}
							else {
								var_1624(cnt) = var_1661
								var_1633(var_1642 * 15 + cnt) = strf("%3.1f", 0.1 * var_1624(cnt))
								if ( var_1634(var_1642 * 15 + cnt) != var_1633(var_1642 * 15 + cnt) ) {
									var_1634(var_1642 * 15 + cnt) = var_1633(var_1642 * 15 + cnt)
									objprm var_1635(var_1642 * 15 + cnt), var_1633(var_1642 * 15 + cnt)
									objsel var_1635(var_1642 * 15 + cnt)
								}
							}
						}
						if ( var_1633(var_1642 * 15 + cnt) != var_1634(var_1642 * 15 + cnt) ) {
							var_1634(var_1642 * 15 + cnt) = var_1633(var_1642 * 15 + cnt)
							var_1661 = int(double(var_1633(var_1642 * 15 + cnt)) * 10.0)
							var_1661 = limit(var_1661, -960, 960)
							if ( var_1642 == 0 ) {
								var_1623(cnt) = var_1661
							}
							else {
								var_1624(cnt) = var_1661
							}
						}
					loop
				loop
				if ( var_1620 == 1 ) {
					SetIP_EqGain var_1621, var_1623, var_1624
				}
				else {
					repeat var_1617
						if ( getitemselflg(cnt) == 1 ) {
							var_1629 = GetPrjItem(var_67(17), cnt)
							SetIP_EqGain var_1629, var_1623, var_1624
						}
					loop
				}
			}
		}
		redraw 0
		syscolor 15
		boxf
		repeat 2
			var_1642 = cnt
			var_1643 = var_1636 + var_1642 * var_1641
			syscolor 8
			pos var_1637, var_1643 - 25
			mes "EQ" + (cnt + 1)
			repeat 15
				var_1644 = var_1637 + var_1638 * cnt
				var_1659 = var_1643
				var_1657 = var_1644 + var_1638 / 2 - 2
				var_1658 = var_1644 + var_1638 / 2 + 2
				var_1660 = var_1643 + var_1639 + var_1640 - 1
				syscolor 20
				boxf var_1657, var_1659, var_1658, var_1660
				syscolor 16
				boxf var_1657, var_1659, var_1658 - 1, var_1660 - 1
				color 128, 128, 128
				boxf var_1657 + 1, var_1659 + 1, var_1658 - 1, var_1660 - 1
				if ( var_1642 == 0 ) {
					var_1659 = var_1643 + limit((240 - var_1623(cnt)) * var_1639 / 480, 0, var_1639)
				}
				else {
					var_1659 = var_1643 + limit((240 - var_1624(cnt)) * var_1639 / 480, 0, var_1639)
				}
				var_1657 = var_1644 + var_1638 / 2 - 10
				var_1658 = var_1644 + var_1638 / 2 + 10
				var_1660 = var_1659 + var_1640 - 1
				syscolor 16
				boxf var_1657, var_1659, var_1658, var_1660
				syscolor 20
				boxf var_1657, var_1659, var_1658 - 1, var_1660 - 1
				syscolor 15
				boxf var_1657 + 1, var_1659 + 1, var_1658 - 1, var_1660 - 1
				if ( cnt < 14 ) {
					syscolor 16
					repeat 9
						var_1659 = var_1643 + var_1639 * cnt / 8 + var_1640 / 2
						var_1657 = var_1644 + var_1638 / 2 + 14
						var_1658 = var_1644 + var_1638 / 2 + var_1638 - 15
						boxf var_1657, var_1659, var_1658, var_1659
					loop
				}
				syscolor 8
				pos var_1644 + 5, var_1643 + var_1639 + var_1640 + 30
				mes var_1632(cnt)
			loop
		loop
		redraw 1
		waitinputpolling
	loop
	onkey 0
	gsel 16, -1
	gsel 6
	if ( var_1646 == 0 ) {
		if ( var_1620 == 1 ) {
			SetIP_EqGain var_1621, var_1623, var_1624
		}
		else {
			repeat var_1617
				if ( getitemselflg(cnt) == 1 ) {
					var_1629 = GetPrjItem(var_67(17), cnt)
					SetIP_EqGain var_1629, var_1623, var_1624
				}
			loop
		}
		oneditproject
	}
	else {
		if ( var_1620 == 1 ) {
			SetIP_EqGain var_1621, var_1625, var_1626
		}
		else {
			repeat var_1617
				var_1629 = GetPrjItem(var_67(17), cnt)
				dupptr var_1630, varptr(var_1627) + 15 * 4 * cnt, 15 * 4, vartype("int")
				dupptr var_1631, varptr(var_1628) + 15 * 4 * cnt, 15 * 4, vartype("int")
				SetIP_EqGain var_1629, var_1630, var_1631
			loop
		}
	}
	setmainalldrawflg
	setidealldrawflg
	return
*label_554
	var_1646 = 1
	return
*label_555
	var_1646 = 0
	return
*label_556
	var_1642 = 0
	repeat 15
		var_1623(cnt) = 0
		var_1633(var_1642 * 15 + cnt) = strf("%3.1f", 0.1 * var_1623(cnt))
		var_1634(var_1642 * 15 + cnt) = var_1633(var_1642 * 15 + cnt)
		objprm var_1635(var_1642 * 15 + cnt), var_1633(var_1642 * 15 + cnt)
	loop
	var_1669 = 1
	if ( var_1620 == 1 ) {
		SetIP_EqGain var_1621, var_1623, var_1624
	}
	else {
		repeat var_1617
			if ( getitemselflg(cnt) == 1 ) {
				var_1629 = GetPrjItem(var_67(17), cnt)
				SetIP_EqGain var_1629, var_1623, var_1624
			}
		loop
	}
	return
*label_557
	var_1642 = 1
	repeat 15
		var_1624(cnt) = 0
		var_1633(var_1642 * 15 + cnt) = strf("%3.1f", 0.1 * var_1624(cnt))
		var_1634(var_1642 * 15 + cnt) = var_1633(var_1642 * 15 + cnt)
		objprm var_1635(var_1642 * 15 + cnt), var_1633(var_1642 * 15 + cnt)
	loop
	var_1669 = 1
	if ( var_1620 == 1 ) {
		SetIP_EqGain var_1621, var_1623, var_1624
	}
	else {
		repeat var_1617
			if ( getitemselflg(cnt) == 1 ) {
				var_1629 = GetPrjItem(var_67(17), cnt)
				SetIP_EqGain var_1629, var_1623, var_1624
			}
		loop
	}
	return
*label_558
	if ( iparam == 13 & getactivewindow() == 16 ) {
		objsel -1
		repeat 30
			if ( stat == var_1635(cnt) ) {
			}
		loop
	}
	return
*label_559
	goto *label_565
#deffunc setitemheqoption int prm_1232
	if ( var_67(17) == 0 ) {
		return
	}
	var_1670 = GetPrjItemNum(var_67(17))
	if ( var_1670 == 0 ) {
		var_1671 = tltx("アイテムが選択されていません。\n設定を変更するアイテムを選択してから\nメニューのアイテムEQ設定を選択してください。", "Target item is not selected.")
		msgdialog var_1671
		return
	}
	var_1672 = prm_1232
	var_1673 = 1
	if ( var_1672 == (-1) ) {
		if ( var_1670 == 1 ) {
			var_1672 = 0
		}
		else {
			var_1673 = 0
			repeat var_1670
				if ( getitemselflg(cnt) == 1 ) {
					var_1672 = cnt
					var_1673++
				}
			loop
			if ( var_1673 == 0 ) {
				var_1671 = tltx("アイテムが選択されていません。\n設定を変更するアイテムを選択してから\nメニューのアイテムEQ設定を選択してください。", "Target item is not selected.")
				msgdialog var_1671
				return
			}
		}
	}
	var_1674 = GetPrjItem(var_67(17), var_1672)
	if ( var_1674 == 0 ) {
		return
	}
	sdim var_1675, 260
	var_1675 = vslib_getii_filename(var_1674)
	screen_nomin 16, 610, 260, 2 | 4
	if ( var_1673 == 1 ) {
		title tltx("アイテムHEQ設定", "Item HEQ Settings") + " - " + getpath(var_1675, 8)
	}
	else {
		title tltx("アイテムHEQ一括設定", "Multiple item HEQ Settings")
	}
	syscolor 15
	boxf
	dim var_1676, 15
	dim var_1677, 15
	GetIP_HeqGain var_1674, var_1676
	GetIP_HeqGain var_1674, var_1677
	dim var_1678, 15 * var_1670
	repeat var_1670
		var_1679 = GetPrjItem(var_67(17), cnt)
		dupptr var_1680, varptr(var_1678) + 15 * 4 * cnt, 15 * 4, vartype("int")
		GetIP_HeqGain var_1679, var_1680
	loop
	sdim var_1681, 8, 30
	sdim var_1682, 8, 30
	dim var_1683, 30
	repeat 15
		var_1681(cnt + 0) = strf("%3.1f", 0.1 * var_1676(cnt))
		var_1682(cnt + 0) = var_1681(cnt + 0)
	loop
	var_1684 = 10
	syscolor 8
	setfont_normal
	objmode 2
	var_1685 = 20
	var_1684 = 40
	var_1686 = 38
	var_1687 = 120
	var_1688 = 11
	var_1689 = 220
	repeat 1
		var_1690 = cnt
		var_1691 = var_1684 + var_1690 * var_1689
		repeat 15
			var_1692 = var_1685 + var_1686 * cnt
			pos var_1692 + 5, var_1691 + var_1687 + var_1688 + 8
			input var_1681(var_1690 * 15 + cnt), 37, 20
			var_1683(var_1690 * 15 + cnt) = stat
		loop
	loop
	objsize 80, 22
	pos 410, 225
	button gosub tltx("OK", "OK"), *label_562
	var_1693 = stat
	pos 500, 225
	button gosub tltx("キャンセル", "Cancel"), *label_561
	pos 60, 10
	button gosub tltx("Flat", "Flat"), *label_563
	objsel var_1693
	waitobjectupdate
	gsel 16, 2
	var_1694 = -1
	var_1695 = 0
	onkey gosub *label_564
	repeat
		gsel 16
		var_1696 = var_1695
		var_1695 = getkeyflg(27)
		if ( var_67(20) == 16 ) {
			var_67(20) = 0
			var_1694 = 1
		}
		if ( getactivewindow() == 16 & var_1696 == 0 & var_1695 == 1 ) {
			var_1694 = 1
		}
		if ( var_1694 != (-1) ) {
			break
		}
		var_1685 = 20
		var_1684 = 40
		var_1686 = 38
		var_1687 = 120
		var_1688 = 11
		var_1689 = 220
		if ( getactivewindow() == 16 ) {
			var_1697 = _mousex()
			var_1698 = _mousey()
			var_1699 = mousew
			var_1700 = var_1701
			var_1701 = getkeyflg(var_67(3))
			var_1702 = getkeyflg(var_67(4))
			var_1703 = getkeyflg(16)
			var_1704 = getkeyflg(17)
			if ( var_1701 == 1 | var_1702 == 1 | var_1699 != 0 ) {
				repeat 1
					var_1690 = cnt
					var_1691 = var_1684 + var_1690 * var_1689
					repeat 15
						var_1692 = var_1685 + var_1686 * cnt
						var_1705 = var_1692
						var_1706 = var_1692 + var_1686
						var_1707 = var_1691 - 10
						var_1708 = var_1691 + var_1687 + var_1688 - 1 + 10
						if ( var_1697 >= var_1705 & var_1697 < var_1706 & var_1698 >= var_1707 & var_1698 < var_1708 ) {
							if ( var_1690 == 0 ) {
								var_1709 = var_1676(cnt)
							}
							if ( var_1700 == 0 & var_1701 == 1 ) {
								var_1710 = GetTickCount()
								var_1711 = abs(var_1697 - var_1712) + abs(var_1698 - var_1713)
								if ( var_1710 - var_1714 < 400 & var_1711 < 10 ) {
									var_1709 = 0
									var_1715 = 1
								}
								else {
									var_1715 = 0
								}
								var_1712 = var_1697
								var_1713 = var_1698
								var_1714 = var_1710
							}
							if ( var_1701 == 1 & var_1715 == 0 ) {
								var_1709 = 240 - (var_1698 - (var_1691 + var_1688 / 2)) * 480 / var_1687
							}
							if ( var_1702 == 1 ) {
								var_1709 = 0
							}
							var_1716 = 30
							if ( var_1703 + var_1704 == 1 ) {
								var_1716 = 10
							}
							if ( var_1703 + var_1704 == 2 ) {
								var_1716 = 1
							}
							if ( var_1699 > 0 ) {
								var_1709 += var_1716
							}
							if ( var_1699 < 0 ) {
								var_1709 -= var_1716
							}
							var_1709 = limit(var_1709, -240, 240)
							if ( var_1690 == 0 ) {
								var_1676(cnt) = var_1709
								var_1681(var_1690 * 15 + cnt) = strf("%3.1f", 0.1 * var_1676(cnt))
								if ( var_1682(var_1690 * 15 + cnt) != var_1681(var_1690 * 15 + cnt) ) {
									var_1682(var_1690 * 15 + cnt) = var_1681(var_1690 * 15 + cnt)
									objprm var_1683(var_1690 * 15 + cnt), var_1681(var_1690 * 15 + cnt)
									objsel var_1683(var_1690 * 15 + cnt)
								}
							}
						}
						if ( var_1681(var_1690 * 15 + cnt) != var_1682(var_1690 * 15 + cnt) ) {
							var_1682(var_1690 * 15 + cnt) = var_1681(var_1690 * 15 + cnt)
							var_1709 = int(double(var_1681(var_1690 * 15 + cnt)) * 10.0)
							var_1709 = limit(var_1709, -960, 960)
							if ( var_1690 == 0 ) {
								var_1676(cnt) = var_1709
							}
						}
					loop
				loop
				if ( var_1673 == 1 ) {
					SetIP_HeqGain var_1674, var_1676
				}
				else {
					repeat var_1670
						if ( getitemselflg(cnt) == 1 ) {
							var_1679 = GetPrjItem(var_67(17), cnt)
							SetIP_HeqGain var_1679, var_1676
						}
					loop
				}
			}
		}
		redraw 0
		syscolor 15
		boxf
		repeat 1
			var_1690 = cnt
			var_1691 = var_1684 + var_1690 * var_1689
			syscolor 8
			pos var_1685, var_1691 - 25
			mes "HEQ"
			repeat 15
				var_1692 = var_1685 + var_1686 * cnt
				var_1707 = var_1691
				var_1705 = var_1692 + var_1686 / 2 - 2
				var_1706 = var_1692 + var_1686 / 2 + 2
				var_1708 = var_1691 + var_1687 + var_1688 - 1
				syscolor 20
				boxf var_1705, var_1707, var_1706, var_1708
				syscolor 16
				boxf var_1705, var_1707, var_1706 - 1, var_1708 - 1
				color 128, 128, 128
				boxf var_1705 + 1, var_1707 + 1, var_1706 - 1, var_1708 - 1
				if ( var_1690 == 0 ) {
					var_1707 = var_1691 + limit((240 - var_1676(cnt)) * var_1687 / 480, 0, var_1687)
				}
				var_1705 = var_1692 + var_1686 / 2 - 10
				var_1706 = var_1692 + var_1686 / 2 + 10
				var_1708 = var_1707 + var_1688 - 1
				syscolor 16
				boxf var_1705, var_1707, var_1706, var_1708
				syscolor 20
				boxf var_1705, var_1707, var_1706 - 1, var_1708 - 1
				syscolor 15
				boxf var_1705 + 1, var_1707 + 1, var_1706 - 1, var_1708 - 1
				if ( cnt < 14 ) {
					syscolor 16
					repeat 9
						var_1707 = var_1691 + var_1687 * cnt / 8 + var_1688 / 2
						var_1705 = var_1692 + var_1686 / 2 + 14
						var_1706 = var_1692 + var_1686 / 2 + var_1686 - 15
						boxf var_1705, var_1707, var_1706, var_1707
					loop
				}
				syscolor 8
				pos var_1692 + 5, var_1691 + var_1687 + var_1688 + 30
				mes " x" + (cnt + 1)
			loop
		loop
		redraw 1
		waitinputpolling
	loop
	onkey 0
	gsel 16, -1
	gsel 6
	if ( var_1694 == 0 ) {
		if ( var_1673 == 1 ) {
			SetIP_HeqGain var_1674, var_1676
		}
		else {
			repeat var_1670
				if ( getitemselflg(cnt) == 1 ) {
					var_1679 = GetPrjItem(var_67(17), cnt)
					SetIP_HeqGain var_1679, var_1676
				}
			loop
		}
		oneditproject
	}
	else {
		if ( var_1673 == 1 ) {
			SetIP_HeqGain var_1674, var_1677
		}
		else {
			repeat var_1670
				var_1679 = GetPrjItem(var_67(17), cnt)
				dupptr var_1680, varptr(var_1678) + 15 * 4 * cnt, 15 * 4, vartype("int")
				SetIP_HeqGain var_1679, var_1680
			loop
		}
	}
	setmainalldrawflg
	setidealldrawflg
	return
*label_561
	var_1694 = 1
	return
*label_562
	var_1694 = 0
	return
*label_563
	var_1690 = 0
	repeat 15
		var_1676(cnt) = 0
		var_1681(var_1690 * 15 + cnt) = strf("%3.1f", 0.1 * var_1676(cnt))
		var_1682(var_1690 * 15 + cnt) = var_1681(var_1690 * 15 + cnt)
		objprm var_1683(var_1690 * 15 + cnt), var_1681(var_1690 * 15 + cnt)
	loop
	var_1717 = 1
	if ( var_1673 == 1 ) {
		SetIP_HeqGain var_1674, var_1676
	}
	else {
		repeat var_1670
			if ( getitemselflg(cnt) == 1 ) {
				var_1679 = GetPrjItem(var_67(17), cnt)
				SetIP_HeqGain var_1679, var_1676
			}
		loop
	}
	return
*label_564
	if ( iparam == 13 & getactivewindow() == 16 ) {
		objsel -1
		repeat 30
			if ( stat == var_1683(cnt) ) {
			}
		loop
	}
	return
*label_565
	goto *label_568
#deffunc showitemproperty int prm_1233
	if ( var_67(17) == 0 ) {
		return
	}
	var_1718 = GetPrjItemNum(var_67(17))
	if ( var_1718 == 0 ) {
		var_1719 = tltx("アイテムが選択されていません。\nアイテムを選択してから\nメニューのアイテムのプロパティを選択してください。", "Target item is not selected.")
		msgdialog var_1719
		return
	}
	var_1720 = prm_1233
	if ( var_1720 == (-1) ) {
		if ( var_1718 == 1 ) {
			var_1720 = 0
		}
		else {
			var_1721 = 0
			repeat var_1718
				if ( getitemselflg(cnt) == 1 ) {
					var_1720 = cnt
					var_1721++
				}
			loop
			if ( var_1721 != 1 ) {
				var_1719 = tltx("アイテムが複数選択されています。\nアイテムを1つ選択してから\nメニューのアイテムのプロパティを選択してください。", "Target item is not selected.")
				msgdialog var_1719
				return
			}
		}
	}
	var_1722 = GetPrjItem(var_67(17), var_1720)
	if ( var_1722 == 0 ) {
		return
	}
	sdim var_1723, 260
	var_1723 = vslib_getii_filename(var_1722)
	var_1724 = 215
	screen_nomin 16, 360, var_1724, 2 | 4
	title tltx("アイテムのプロパティ", "Item properties") + " - " + getpath(var_1723, 8)
	syscolor 15
	boxf
	var_1725 = 0
	var_1726 = 0
	var_1727 = 0
	var_1728 = 0
	GetII_waveFormat var_1722, var_1725, var_1726, var_1727, var_1728
	var_1729 = GetII_orgSample(var_1722)
	var_1730 = GetIP_nNote(var_1722)
	var_1731 = GetIP_nLabel(var_1722)
	var_1732 = GetII_SMFFlag(var_1722)
	if ( var_1732 == 0 ) {
		var_1733 = str(var_1725)
		var_1734 = str(var_1729)
		var_1735 = "" + var_1727 + "bit"
		if ( var_1726 == 1 ) {
			var_1726 += tltx("浮動小数点", " floating point")
		}
		var_1736 = ""
		if ( var_1728 == 1 ) {
			var_1736 = "monoral"
		}
		if ( var_1728 == 2 ) {
			var_1736 = "stereo"
		}
	}
	else {
		var_1733 = "-"
		var_1734 = "-"
		var_1735 = "-"
		var_1736 = "-"
	}
	var_1737 = 10
	syscolor 8
	setfont_normal
	objmode 2
	pos 10, var_1737 + 4
	mes tltx("サンプリング周波数", "sampling frequency")
	objsize 100, 22
	pos 140, var_1737
	input var_1733
	sendmsg objinfo(stat, 2), 207, 1
	pos 245, var_1737 + 4
	mes "Hz"
	var_1737 += 28
	pos 10, var_1737 + 4
	mes tltx("ビット数", "bit depth")
	objsize 100, 22
	pos 140, var_1737
	input var_1735
	sendmsg objinfo(stat, 2), 207, 1
	var_1737 += 28
	pos 10, var_1737 + 4
	mes tltx("チャンネル", "channel")
	objsize 100, 22
	pos 140, var_1737
	input var_1736
	sendmsg objinfo(stat, 2), 207, 1
	var_1737 += 28
	pos 10, var_1737 + 4
	mes tltx("サンプル数", "number of samples")
	objsize 100, 22
	pos 140, var_1737
	input var_1734
	sendmsg objinfo(stat, 2), 207, 1
	var_1737 += 28
	pos 10, var_1737 + 4
	mes tltx("ノート数", "number of notes")
	objsize 100, 22
	pos 140, var_1737
	input var_1730
	sendmsg objinfo(stat, 2), 207, 1
	var_1737 += 28
	pos 10, var_1737 + 4
	mes tltx("ラベル数", "number of labels")
	objsize 100, 22
	pos 140, var_1737
	input var_1731
	sendmsg objinfo(stat, 2), 207, 1
	var_1737 += 28
	var_1737 += 5
	objsize 80, 22
	pos 270, var_1737
	button gosub tltx("OK", "OK"), *label_567
	var_1738 = stat
	objsel var_1738
	waitobjectupdate
	gsel 16, 2
	var_1739 = -1
	var_1740 = 0
	repeat
		gsel 16
		var_1741 = var_1740
		var_1740 = getkeyflg(27)
		if ( var_67(20) == 16 ) {
			var_67(20) = 0
			var_1739 = 1
		}
		if ( getactivewindow() == 16 & var_1741 == 0 & var_1740 == 1 ) {
			var_1739 = 1
		}
		if ( var_1739 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 16, -1
	gsel 6
	setmainalldrawflg
	setidealldrawflg
	return
*label_567
	var_1739 = 0
	return
*label_568
	goto *label_572
#defcfunc setitemsynthmode str prm_1234
	var_1742 = prm_1234
	var_1743 = 5
	gosub *label_571
	screen_nomin 16, 544, 80 * var_1743, 2 | 4
	title getpath(var_1742, 8) + " " + tltx("音声合成方式を選択してください", "Select synthesize method.")
	syscolor 15
	boxf
	waitobjectupdate
	gsel 16, 2
	var_1744 = -1
	var_1745 = 0
	repeat
		gsel 16
		var_1746 = var_1745
		var_1745 = getkeyflg(27)
		if ( var_67(20) == 16 ) {
			var_67(20) = 0
			var_1744 = 1
		}
		if ( getactivewindow() == 16 & var_1746 == 0 & var_1745 == 1 ) {
			var_1744 = 1
		}
		if ( var_1744 != (-1) ) {
			break
		}
		gosub *label_570
	loop
	gsel 16, -1
	gsel 6
	setmainalldrawflg
	setidealldrawflg
	if ( var_1744 != 0 ) {
		var_1747 = -1
	}
	else {
		var_1747 = var_1748(var_1747)
	}
	return var_1747
*label_570
	if ( getactivewindow() == 16 ) {
		var_1749 = getkeyflg(var_67(3))
	}
	else {
		var_1749 = 0
	}
	var_1750 = limit(_mousey() / 80, 0, var_1743 - 1)
	if ( var_1751 == 0 & var_1749 == 1 ) {
		var_1752 = var_1750
	}
	if ( var_1750 != var_1753 | var_1751 != var_1749 ) {
		redraw 0
		repeat var_1743
			var_1754 = 544
			var_1755 = 80
			var_1756 = 0
			var_1757 = var_1755 * cnt
			color 96, 96, 112
			boxf var_1756, var_1757, var_1756 + var_1754 - 1, var_1757
			color 32, 32, 48
			boxf var_1756, var_1757 + 1, var_1756 + var_1754 - 1, var_1757 + var_1755 - 2
			color 16, 16, 24
			boxf var_1756, var_1757 + var_1755 - 1, var_1756 + var_1754 - 1, var_1757 + var_1755 - 1
			if ( cnt == var_1750 ) {
				hsvcolor var_1758(cnt), 128, 255
				boxf var_1756, var_1757, var_1756 + 4, var_1757 + var_1755 - 1
			}
			var_1756 = 20
			var_1757 = var_1755 * cnt + 10
			if ( var_1749 == 1 & cnt == var_1750 & var_1750 == var_1752 ) {
				pos var_1756 + 2, var_1757 + 2
			}
			else {
				pos var_1756, var_1757
			}
			hsvcolor var_1758(cnt), 128, 255
			font "Meiryo UI", 14, 1
			mes var_1759(cnt)
			color 208, 208, 208
			font "Meiryo UI", 12, 0
			mes var_1760(cnt)
		loop
		redraw 1
	}
	if ( var_1751 == 1 & var_1749 == 0 ) {
		if ( var_1750 == var_1752 ) {
			var_1747 = var_1750
			var_1744 = 0
		}
	}
	var_1753 = var_1750
	var_1751 = var_1749
	waittaskdispatch
	return
*label_571
	sdim var_1759, 32, 4
	var_1759(0) = tltx("P : 和音用", "P (Polyphonic)")
	var_1759(1) = tltx("M : 単音楽器用", "M (Monophonic)")
	var_1759(2) = tltx("V : 単音ボーカル用", "V (Monophonic vocal)")
	var_1759(3) = tltx("WORLD : 単音ボーカル用", "WORLD (Monophonic vocal)")
	var_1759(4) = tltx("R : リズム用", "R (Rhythm)")
	sdim var_1760, 512, 4
	var_1760(0) += tltx("音量,タイミング,EQの編集のみ可能です。\n", "for polyphonic\n")
	var_1760(0) += tltx("編集可能パラメータ", "Editable parameter") + " : VOL / PAN / DYN / TIME / EQ1 / EQ2"
	var_1760(1) += tltx("楽器などフォルマントを維持する必要がない音声に適しています。\n", "for monophonic instruments\n")
	var_1760(1) += tltx("編集可能パラメータ", "Editable parameter") + " : PIT / VOL / PAN / DYN / TIME / *PIT / BRE / EQ1 / EQ2 / HEQ"
	var_1760(2) += tltx("ボーカルなどフォルマントを維持する必要がある音声に適しています。\n", "for monophonic vocals\n")
	var_1760(2) += tltx("編集可能パラメータ", "Editable parameter") + " : PIT / FRM / VOL / PAN / DYN / TIME / *PIT / BRE / EQ1 / EQ2 / HEQ"
	var_1760(3) += tltx("分析に時間がかかりますが、高品質なピッチシフトが可能です。\n", "for monophonic vocals\n")
	var_1760(3) += tltx("編集可能パラメータ", "Editable parameter") + " : PIT / FRM / VOL / PAN / DYN / TIME / BRE"
	var_1760(4) += tltx("ドラムなどに適しています。\n", "for drums\n")
	var_1760(4) += tltx("編集可能パラメータ", "Editable parameter") + " : VOL / PAN / DYN / TIME / EQ1 / EQ2"
	var_1758(0) = 0, 32, 64, 96, 128
	var_1748(0) = 2, 0, 1, 8, 4
	var_1753 = -1
	var_1751 = -1
	return
*label_572
	goto *label_578
#deffunc createmainwindow
	GetSystemMetrics 15
	var_1761 = stat
	if ( var_67(109) >= 400 & var_67(110) >= 300 ) {
		var_67(107) = var_67(109)
		var_67(108) = var_67(110)
	}
	else {
		var_67(107) = 820
		var_67(108) = 500
	}
	screen_max 6, 0, 0, 0, var_67(105), var_67(106), var_67(107), var_67(108) + var_1761
	if ( var_67(109) == (-1) ) {
		sendmsg hwnd, 274, 61488, 0
	}
	createmainwindowmenu
	updatehistorymenu ""
	updatemainwindowmenu
	color 32, 32, 48
	boxf
	setmainwindowtitle tltx("起動しています...", "Starting...")
	gsel 6
	func_33 hwnd
	waitobjectupdate
	var_67(107) = -1
	resizemainwindow
	setdragdrop 6
	onexit gosub *label_940
	oncmd gosub *label_938, 273
	oncmd gosub *label_937, 275
	oncmd gosub *label_939, 32768
	oncmd gosub *label_574, 522
	oncmd gosub *label_575, 526
	SetTimer hwnd, 1, 10, 0
	var_67(7) = 1
	return
	dupptr var_1762, lparam, 4 * 10, vartype("int")
	var_1762(6) = limit(800, 0, ginfo(20))
	var_1762(7) = limit(550, 0, ginfo(21))
	return
*label_574
	var_1763 = wparam / 65536
	return
*label_575
	var_1764 = wparam / 65536
	return
#defcfunc getmtivwheel
	var_1765 = var_1763
	var_1763 = 0
	return var_1765
#defcfunc getmtihwheel
	var_1766 = var_1764
	var_1764 = 0
	return var_1766
*label_578
	goto *label_580
#deffunc setmainwindowtitle str prm_1236
	var_1767 = ginfo(3)
	gsel 6
	if ( prm_1236 != "" ) {
		title "VocalShifter" + " - " + prm_1236
	}
	else {
		if ( var_392(8) != "" ) {
			title "VocalShifter" + " - " + getpath(var_392(8), 8)
		}
		else {
			if ( var_67(17) != 0 ) {
				title "VocalShifter" + " - " + tltx("名称未設定", "Untitled")
			}
			else {
				title "VocalShifter"
			}
		}
	}
	gsel var_1767
	return
*label_580
	goto *label_584
#deffunc createmainwindowmenu
	CreatePopupMenu
	var_1768 = stat
	AppendMenuA var_1768, 0, 8, tltx("履歴クリア(&C)", "Clear recent used files")
	var_1769 = 0
	CreatePopupMenu
	var_1770 = stat
	AppendMenuA var_1770, 0, 19, tltx("スキャン開始(&S)", "Start scanning")
	AppendMenuA var_1770, 0, 20, tltx("スキャン中断(&C)", "Cancel scanning")
	AppendMenuA var_1770, 0, 21, tltx("スキャン終了(&E)", "Stop scanning")
	AppendMenuA var_1770, 0, 22, tltx("転送(&T)", "Transfer")
	CreatePopupMenu
	var_1771 = stat
	AppendMenuA var_1771, 0, 1, tltx("新規作成(&N)", "New project")
	AppendMenuA var_1771, 0, 2, tltx("開く(&O)...", "Open project...")
	AppendMenuA var_1771, 16, var_1768, tltx("最近使用したプロジェクト(&H)", "Recent used files")
	AppendMenuA var_1771, 0, 3, tltx("上書き保存(&S)", "Save")
	AppendMenuA var_1771, 0, 4, tltx("名前を付けて保存(&A)...", "Save as...")
	AppendMenuA var_1771, 0, 5, tltx("Waveファイル出力(&E)...", "Export wave file...")
	AppendMenuA var_1771, 0, 6, tltx("Waveファイル出力後に開く(&P)...", "Export and open wave file...")
	if ( var_1770 != 0 ) {
		AppendMenuA var_1771, 16, var_1770, tltx("VSTプラグイン(&V)", "VST plugin")
	}
	AppendMenuA var_1771, 2048, 0, ""
	AppendMenuA var_1771, 0, 7, tltx("終了(&X)", "Exit")
	CreatePopupMenu
	var_1772 = stat
	AppendMenuA var_1772, 0, 67, tltx("全音符(&1)", "Whole note")
	AppendMenuA var_1772, 0, 68, tltx("2分音符(&2)", "Half note")
	AppendMenuA var_1772, 0, 69, tltx("4分音符(&4)", "Quarter note")
	AppendMenuA var_1772, 0, 70, tltx("8分音符(&8)", "Eighth note")
	AppendMenuA var_1772, 0, 71, tltx("16分音符(&6)", "Sixteenth note")
	AppendMenuA var_1772, 0, 72, tltx("32分音符(&3)", "Thirty-second note")
	AppendMenuA var_1772, 0, 73, tltx("64分音符", "Sixty-fourth note")
	AppendMenuA var_1772, 2048, 0, ""
	AppendMenuA var_1772, 0, 74, tltx("付点2分音符", "Dotted half note")
	AppendMenuA var_1772, 0, 75, tltx("付点4分音符", "Dotted quarter note")
	AppendMenuA var_1772, 0, 76, tltx("付点8分音符", "Dotted eighth note")
	AppendMenuA var_1772, 0, 77, tltx("付点16分音符", "Dotted sixteenth note")
	AppendMenuA var_1772, 0, 78, tltx("付点32分音符", "Dotted thirty-second note")
	AppendMenuA var_1772, 0, 79, tltx("付点64分音符", "Dotted sixty-fourth note")
	AppendMenuA var_1772, 2048, 0, ""
	AppendMenuA var_1772, 0, 80, tltx("3連2分音符", "Half-note triplet")
	AppendMenuA var_1772, 0, 81, tltx("3連4分音符", "Quarter-note triplet")
	AppendMenuA var_1772, 0, 82, tltx("3連8分音符", "Eighth-note triplet")
	AppendMenuA var_1772, 0, 83, tltx("3連16分音符", "Sixteenth-note triplet")
	AppendMenuA var_1772, 0, 84, tltx("3連32分音符", "Thirty-second-note triplet")
	AppendMenuA var_1772, 0, 85, tltx("3連64分音符", "Sixty-fourth-note triplet")
	CreatePopupMenu
	var_1773 = stat
	AppendMenuA var_1773, 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_1773, 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_1773, 2048, 0, ""
	AppendMenuA var_1773, 0, 65, tltx("編集ツール(&E)", "Editing tool")
	AppendMenuA var_1773, 0, 66, tltx("選択ツール(&S)", "Selection tool")
	AppendMenuA var_1773, 2048, 0, ""
	AppendMenuA var_1773, 0, 63, tltx("スナップ(&N)", "Snap")
	AppendMenuA var_1773, 16, var_1772, tltx("スナップ単位(&A)", "Snap unit")
	CreatePopupMenu
	var_1774 = stat
	AppendMenuA var_1774, 0, 49, tltx("横に拡大(&E)", "Expand horizontally")
	AppendMenuA var_1774, 0, 50, tltx("横に縮小(&C)", "Contract horizontally")
	AppendMenuA var_1774, 0, 51, tltx("縦に拡大(&X)", "Expand vertically")
	AppendMenuA var_1774, 0, 52, tltx("縦に縮小(&N)", "Contract vertically")
	AppendMenuA var_1774, 0, 57, tltx("オートスクロール(&A)", "Auto scroll")
	AppendMenuA var_1774, 2048, 0, ""
	AppendMenuA var_1774, 0, 61, tltx("小節単位(&M)", "Measure grid")
	AppendMenuA var_1774, 0, 62, tltx("秒単位(&S)", "Second grid")
	CreatePopupMenu
	var_1775 = stat
	AppendMenuA var_1775, 0, 42, tltx("再生位置を左に移動(&L)", "Seek backward")
	AppendMenuA var_1775, 0, 43, tltx("停止(&S)", "Stop")
	AppendMenuA var_1775, 0, 44, tltx("最初から再生(&Y)", "Playback from the beginning")
	AppendMenuA var_1775, 0, 45, tltx("再生/停止(&P)", "Start/Stop playing")
	AppendMenuA var_1775, 0, 48, tltx("再生位置を右に移動(&R)", "Seek forward")
	AppendMenuA var_1775, 2048, 0, ""
	AppendMenuA var_1775, 0, 59, tltx("メトロノーム", "Metronome")
	AppendMenuA var_1775, 0, 58, tltx("リピート再生(&E)", "Repeat")
	CreatePopupMenu
	var_1776 = stat
	AppendMenuA var_1776, 0, 25, tltx("プロジェクト設定(&S)...", "Project Settings...")
	AppendMenuA var_1776, 0, 26, tltx("最大音量計測(&V)", "Check maximum volume")
	CreatePopupMenu
	var_1777 = stat
	AppendMenuA var_1777, 0, 86, tltx("切り取り(&T)", "Cut")
	AppendMenuA var_1777, 0, 87, tltx("コピー(&C)", "Copy")
	AppendMenuA var_1777, 0, 88, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_1777, 0, 89, tltx("削除(&D)", "Delete")
	AppendMenuA var_1777, 2048, 0, ""
	AppendMenuA var_1777, 0, 90, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_1777, 0, 91, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_1777, 2048, 0, ""
	AppendMenuA var_1777, 0, 94, tltx("マスタートラック設定(&M)...", "Master track Settings...")
	AppendMenuA var_1777, 0, 92, tltx("トラック追加(&N)", "Add track")
	AppendMenuA var_1777, 0, 93, tltx("トラック設定(&S)...", "Track Settings...")
	AppendMenuA var_1777, 0, 106, tltx("アイテム追加(&I)...", "Add item...")
	AppendMenuA var_1777, 0, 95, tltx("選択トラックをWaveファイルに出力(&E)...", "Export selected tracks...")
	AppendMenuA var_1777, 0, 96, tltx("選択トラックをトラックごとにWaveファイルに出力...", "Export selected tracks by track...")
	CreatePopupMenu
	var_1778 = stat
	AppendMenuA var_1778, 0, 99, tltx("切り取り(&T)", "Cut")
	AppendMenuA var_1778, 0, 100, tltx("コピー(&C)", "Copy")
	AppendMenuA var_1778, 0, 101, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_1778, 0, 102, tltx("削除(&D)", "Delete")
	AppendMenuA var_1778, 2048, 0, ""
	AppendMenuA var_1778, 0, 103, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_1778, 0, 104, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_1778, 0, 105, tltx("次のアイテムを選択(&X)", "Select next item")
	AppendMenuA var_1778, 2048, 0, ""
	AppendMenuA var_1778, 0, 112, tltx("音声ファイル差し替え(編集データ破棄)(&O)", "Reload(break edited data)")
	AppendMenuA var_1778, 0, 113, tltx("音声ファイル差し替え(編集データ保持)(&M)", "Reload(keep edited data)")
	if ( var_67(73) == 1 ) {
		AppendMenuA var_1778, 0, 114, tltx("*PITをガイドとしてピッチ再解析(&N)", "Re-analyze pitch")
	}
	AppendMenuA var_1778, 0, 115, tltx("Waveファイルに出力(&F)...", "Export as...")
	AppendMenuA var_1778, 0, 116, tltx("Waveファイルに上書き出力(&B)", "Export")
	AppendMenuA var_1778, 2048, 0, ""
	AppendMenuA var_1778, 0, 106, tltx("アイテム追加(&I)...", "Add item...")
	AppendMenuA var_1778, 0, 107, tltx("アイテム設定(&S)...", "Item settings...")
	AppendMenuA var_1778, 0, 108, tltx("アイテムEQ設定(&Q)...", "Item EQ settings...")
	AppendMenuA var_1778, 0, 109, tltx("アイテムHEQ設定(&H)...", "Item HEQ settings...")
	AppendMenuA var_1778, 0, 110, tltx("アイテムのプロパティ(&Y)", "Item properties")
	AppendMenuA var_1778, 0, 111, tltx("アイテム編集(&E)", "Edit item")
	CreatePopupMenu
	var_1779 = stat
	AppendMenuA var_1779, 0, 27, tltx("設定(&S)...", "Settings...")
	if ( var_67(63) == 1 ) {
		AppendMenuA var_1779, 0, 28, tltx("拡張設定(&A)...", "Advanced settings...")
	}
	if ( var_67(80) == 1 ) {
		AppendMenuA var_1779, 0, 29, tltx("エンジン設定(&E)...", "Engine settings...")
	}
	AppendMenuA var_1779, 0, 30, tltx("グラフの色設定(&O)...", "Color settings...")
	AppendMenuA var_1779, 0, 31, tltx("ショートカットキー設定(&K)...", "Shortcut key settings...")
	AppendMenuA var_1779, 0, 32, tltx("スクロール設定(&C)...", "Scroll settings...")
	AppendMenuA var_1779, 0, 33, tltx("ボリュームコントロールを開く(&V)", "Open volume control")
	CreatePopupMenu
	var_1780 = stat
	AppendMenuA var_1780, 0, 36, tltx("バージョン情報(&I)", "About")
	CreateMenu
	var_1781 = stat
	AppendMenuA var_1781, 16, var_1771, tltx("ファイル(&F)", "File")
	AppendMenuA var_1781, 16, var_1773, tltx("編集(&E)", "Edit")
	AppendMenuA var_1781, 16, var_1774, tltx("表示(&V)", "View")
	AppendMenuA var_1781, 16, var_1775, tltx("トランスポート(&R)", "Transport")
	AppendMenuA var_1781, 16, var_1776, tltx("プロジェクト(&P)", "Project")
	AppendMenuA var_1781, 16, var_1777, tltx("トラック(&T)", "Track")
	AppendMenuA var_1781, 16, var_1778, tltx("アイテム(&I)", "Item")
	AppendMenuA var_1781, 16, var_1779, tltx("オプション(&O)", "Options")
	AppendMenuA var_1781, 16, var_1780, tltx("ヘルプ(&H)", "Help")
	SetMenu hwnd, var_1781
	DrawMenuBar hwnd
	return
#deffunc updatemainwindowmenu
	var_1782 = ginfo(3)
	repeat 19
		CheckMenuItem var_1772, 67 + cnt, 0
	loop
	CheckMenuItem var_1772, 67 + var_67(100), 8
	if ( var_67(101) == 0 ) {
		var_1783 = 8
	}
	else {
		var_1783 = 0
	}
	CheckMenuItem var_1773, 65, var_1783
	if ( var_67(101) == 1 ) {
		var_1783 = 8
	}
	else {
		var_1783 = 0
	}
	CheckMenuItem var_1773, 66, var_1783
	var_1783 = 8 * var_67(99)
	CheckMenuItem var_1773, 63, var_1783
	var_1783 = 8 * var_67(96)
	CheckMenuItem var_1774, 57, var_1783
	if ( var_67(98) == 1 ) {
		var_1783 = 8
	}
	else {
		var_1783 = 0
	}
	CheckMenuItem var_1774, 61, var_1783
	if ( var_67(98) == 0 ) {
		var_1783 = 8
	}
	else {
		var_1783 = 0
	}
	CheckMenuItem var_1774, 62, var_1783
	var_1783 = 8 * var_67(33)
	CheckMenuItem var_1775, 59, var_1783
	var_1783 = 8 * var_67(97)
	CheckMenuItem var_1775, 58, var_1783
	if ( getundoflg() == 1 ) {
		EnableMenuItem var_1773, 23, 0
	}
	else {
		EnableMenuItem var_1773, 23, 1
	}
	if ( getredoflg() == 1 ) {
		EnableMenuItem var_1773, 24, 0
	}
	else {
		EnableMenuItem var_1773, 24, 1
	}
	if ( vsvst_getstatus() == 1 ) {
		EnableMenuItem var_1770, 19, 1
		EnableMenuItem var_1770, 20, 0
		EnableMenuItem var_1770, 21, 0
		EnableMenuItem var_1770, 22, 1
	}
	else {
		EnableMenuItem var_1770, 19, 0
		EnableMenuItem var_1770, 20, 1
		EnableMenuItem var_1770, 21, 1
		if ( var_67(17) == 0 ) {
			EnableMenuItem var_1770, 22, 1
		}
		else {
			EnableMenuItem var_1770, 22, 0
		}
	}
	gsel 6
	DrawMenuBar hwnd
	gsel var_1782
	return
#deffunc updatehistorymenu str prm_1237
	var_1782 = ginfo(3)
	if ( prm_1237 != "" ) {
		var_1784 = 9
		repeat 10
			if ( var_392(16 + cnt) == prm_1237 ) {
				var_1784 = cnt
				break
			}
		loop
		repeat var_1784
			var_392(16 + var_1784 - cnt) = var_392(16 + var_1784 - cnt - 1)
		loop
		var_392(16) = prm_1237
	}
	repeat var_1769 + 1
		RemoveMenu var_1768, 0, 1024
	loop
	var_1769 = 0
	repeat 10
		if ( var_392(16 + cnt) == "" ) {
			break
		}
		var_1785 = ""
		var_1785 += strf("&%d ", (cnt + 1) \ 10) + var_392(16 + cnt)
		AppendMenuA var_1768, 0, 9 + cnt, var_1785
		var_1769++
	loop
	AppendMenuA var_1768, 0, 8, tltx("履歴クリア(&C)", "Clear recent used files")
	gsel 6
	DrawMenuBar hwnd
	gsel var_1782
	return
*label_584
	goto *label_587
#deffunc resizemainwindow int prm_1238
	gsel 6
	redraw 2
	var_1786 = ginfo(12)
	var_1787 = ginfo(13)
	if ( var_1786 < 400 ) {
		var_1786 = 400
	}
	if ( var_1787 < 300 ) {
		var_1787 = 300
	}
	if ( var_67(107) == var_1786 & var_67(108) == var_1787 & prm_1238 == 0 ) {
		return
	}
	var_67(107) = var_1786
	var_67(108) = var_1787
	color 32, 32, 48
	boxf
	var_1788 = 38
	var_1789 = 200
	var_1790 = 44
	var_1791 = 17
	var_1792 = 22
	var_67(111) = 0
	var_67(112) = 0
	var_67(113) = var_1786
	var_67(114) = var_1788
	var_67(115) = 0
	var_67(116) = var_1788
	var_67(117) = var_1789
	var_67(118) = var_1790
	var_67(119) = var_1789
	var_67(120) = var_1788
	var_67(121) = var_1786 - var_1789 - var_1791
	var_67(122) = var_1790
	var_67(123) = 0
	var_67(124) = var_1788 + var_1790
	var_67(125) = var_1789
	var_67(126) = var_1787 - var_1788 - var_1790 - var_1791 - var_1792
	var_67(127) = var_1789
	var_67(128) = var_1788 + var_1790
	var_67(129) = var_1786 - var_1789 - var_1791
	var_67(130) = var_1787 - var_1788 - var_1790 - var_1791 - var_1792
	var_67(131) = var_1786 - var_1791
	var_67(132) = var_1788
	var_67(133) = var_1791
	var_67(134) = var_1787 - var_1788 - var_1791 - var_1792
	var_67(135) = 0
	var_67(136) = var_1787 - var_1791 - var_1792
	var_67(137) = var_1786 - var_1791
	var_67(138) = var_1791
	var_67(139) = 0
	var_67(140) = var_1787 - var_1792
	var_67(141) = var_1786
	var_67(142) = var_1792
	var_1793 = var_67(111)
	var_1794 = var_67(112)
	var_1795 = var_67(113)
	var_1796 = var_67(114)
	color 16, 16, 24
	boxf var_1793, var_1794 + var_1796 - 1, var_1793 + var_1795 - 1, var_1794 + var_1796 - 1
	var_1793 = var_67(111) + 10
	var_1794 = var_67(112) + 8
	var_1797 = 26
	var_1798 = 8
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 0, 0, 66 * 0, 22 * 6, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 1, 0, 66 * 1, 22 * 6, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 2, 0, 66 * 0, 22 * 5, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 3, 0, 66 * 1, 22 * 5, 22, 22
	var_1793 += var_1798
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 5, 0, 66 * 0, 22 * 1, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 6, 0, 66 * 1, 22 * 1, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	if ( var_67(17) == 0 ) {
		var_1799 = 0
	}
	else {
		var_1799 = vsplay_getstatus(var_67(17))
	}
	createbutton 7, 0, 66 * var_1799, 22 * 2, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 4, 0, 66 * 0, 22 * 0, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 8, 0, 66 * 1, 22 * 0, 22, 22
	var_1793 += var_1798
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 9, 0, 66 * 0, 22 * 3, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 10, 0, 66 * 1, 22 * 3, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 11, 0, 66 * 0, 22 * 4, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 12, 0, 66 * 1, 22 * 4, 22, 22
	var_1793 += var_1798
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 13, 0, 66 * var_67(96), 22 * 7, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 14, 0, 132 + 66 * var_67(97), 22 * 15, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 16, 0, 66 * var_67(99), 22 * 8, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	var_1800 = var_67(100)
	createbutton 17, 0, 66 * (2 + var_1800 \ 2), 22 * (var_1800 / 2), 22, 22
	var_1793 += var_1798
	pos var_1793, var_1794
	var_1793 += var_1797
	var_1801 = 0
	if ( var_67(101) == 0 ) {
		var_1801 = 1
	}
	createbutton 18, 0, 66 * var_1801, 22 * 9, 22, 22
	pos var_1793, var_1794
	var_1793 += var_1797
	var_1801 = 0
	if ( var_67(101) == 1 ) {
		var_1801 = 1
	}
	createbutton 19, 0, 66 * var_1801, 22 * 10, 22, 22
	var_1793 += var_1798
	pos var_1793, var_1794
	var_1793 += var_1797
	createbutton 15, 0, 132, 22 * (11 + var_67(98)), 40, 22
	drawbutton 1
	gsel 6
	var_1793 = var_67(135)
	var_1794 = var_67(136)
	var_1795 = var_67(137)
	var_1796 = var_67(138)
	createscrollbar 0, 6, 1, var_1793, var_1794, var_1795, var_1796
	var_1793 = var_67(131)
	var_1794 = var_67(132)
	var_1795 = var_67(133)
	var_1796 = var_67(134)
	createscrollbar 1, 6, 2, var_1793, var_1794, var_1795, var_1796
	buffer 4, var_67(129), var_67(130)
	buffer 5, var_67(121), var_67(122)
	buffer 2, var_67(117), var_67(118)
	buffer 3, var_67(125), var_67(126)
	if ( var_67(24) == 1 ) {
		gsel 24
		var_1802 = ginfo(26)
		var_1803 = ginfo(27)
		var_1804 = var_67(129)
		var_1805 = var_67(130)
		var_1793 = 0
		var_1794 = 0
		var_1795 = var_1802
		var_1796 = var_1803
		buffer 25, var_1804, var_1805
		color 12, 12, 32
		boxf
		var_1806 = var_67(72)
		if ( 0 ) {
			var_1807++
		}
		if ( var_1806 == 0 | var_1807 ) {
			var_1807 = 0
			if ( var_1804 * var_1803 <= var_1805 * var_1802 ) {
				var_1795 = var_1804
				var_1796 = var_1803 * var_1804 / var_1802
				var_1794 = (var_1805 - var_1796) / 2
			}
			else {
				var_1796 = var_1805
				var_1795 = var_1802 * var_1805 / var_1803
				var_1793 = (var_1804 - var_1795) / 2
			}
			goto *label_586
			var_1807++
		}
		if ( var_1806 == 1 | var_1807 ) {
			var_1807 = 0
			var_1793 = 0
			var_1794 = 0
			goto *label_586
			var_1807++
		}
		if ( var_1806 == 2 | var_1807 ) {
			var_1807 = 0
			var_1793 = (var_1804 - var_1802) / 2
			var_1794 = 0
			goto *label_586
			var_1807++
		}
		if ( var_1806 == 3 | var_1807 ) {
			var_1807 = 0
			var_1793 = var_1804 - var_1802
			var_1794 = 0
			goto *label_586
			var_1807++
		}
		if ( var_1806 == 4 | var_1807 ) {
			var_1807 = 0
			var_1793 = var_1804 - var_1802
			var_1794 = (var_1805 - var_1803) / 2
			goto *label_586
			var_1807++
		}
		if ( var_1806 == 5 | var_1807 ) {
			var_1807 = 0
			var_1793 = var_1804 - var_1802
			var_1794 = var_1805 - var_1803
			goto *label_586
			var_1807++
		}
		if ( var_1806 == 6 | var_1807 ) {
			var_1807 = 0
			var_1793 = (var_1804 - var_1802) / 2
			var_1794 = var_1805 - var_1803
			goto *label_586
			var_1807++
		}
		if ( var_1806 == 7 | var_1807 ) {
			var_1807 = 0
			var_1793 = 0
			var_1794 = var_1805 - var_1803
			goto *label_586
			var_1807++
		}
		if ( var_1806 == 8 | var_1807 ) {
			var_1807 = 0
			var_1793 = 0
			var_1794 = (var_1805 - var_1803) / 2
			goto *label_586
			var_1807++
		}
		if ( var_1806 == 9 | var_1807 ) {
			var_1807 = 0
			var_1793 = (var_1804 - var_1802) / 2
			var_1794 = (var_1805 - var_1803) / 2
			goto *label_586
		}
*label_586
		pos var_1793, var_1794
		gzoom var_1795, var_1796, 24, 0, 0, var_1802, var_1803, 1
	}
	gsel 6
	setmainalldrawflg
	return
*label_587
	goto *label_590
#deffunc additemtotrack
	if ( var_67(17) == 0 ) {
		return
	}
	gsel 6
	var_1808 = tltx("Waveファイル(*.wav)\n*.wav\nすべてのファイル(*.*)\n*.*", "Wave files(*.wav)\n*.wav\nAll files(*.*)\n*.*")
	fileselectdialog var_1809, 0, var_1808, "", "", "", 0
	if ( stat != (-1) ) {
		getstr var_1809, var_1809
		if ( var_67(51) != 0 ) {
			var_1810 = getpath(var_1809, 2 + 16)
			if ( var_1810 != ".mid" & var_1810 != ".midi" ) {
				loadanalyzeprm var_1811
				analyzesettings var_1811, var_1809
				if ( stat != 0 ) {
					return
				}
				saveanalyzeprm var_1811
			}
			else {
				loadanalyzeprm var_1811
			}
		}
		else {
			loadanalyzeprm var_1811
		}
		if ( var_67(52) != 0 ) {
			var_1810 = getpath(var_1809, 2 + 16)
			if ( var_1810 != ".mid" & var_1810 != ".midi" ) {
				var_1812 = setitemsynthmode(var_1809)
				if ( var_1812 == (-1) ) {
					return
				}
			}
		}
		var_1813 = GetTrackNum(var_67(17))
		var_1814 = -1
		repeat var_1813
			if ( gettrackselflg(cnt) == 1 ) {
				var_1814 = cnt
			}
		loop
		if ( var_1814 == (-1) ) {
			addtrack 1
			var_1813 = GetTrackNum(var_67(17))
			var_1814 = var_1813 - 1
		}
		var_1815 = vsplay_getstatus(var_67(17))
		if ( var_1815 == 1 ) {
			vsplay_stop var_67(17)
		}
		setmainwindowtitle tltx("アイテムを追加しています...", "Adding item...")
		addprjitemprg var_67(17), var_1809, var_1811, var_1816, 0, 1, 0
		var_1817 = stat
		sdim var_1818, 256
		GetWaveFormatError var_1818, 256
		var_1819 = var_1817
		if ( 0 ) {
			var_1820++
		}
		if ( var_1819 == 0 | var_1820 ) {
			var_1820 = 0
			SetPrjItemTrackNum var_67(17), var_1816, var_1814
			var_1821 = double(var_67(13))
			if ( var_67(99) != 0 ) {
				var_1821 = getqtsample(var_1821)
			}
			SetPrjItemOffset var_67(17), var_1816, var_1821
			if ( var_67(52) != 0 ) {
				var_1810 = getpath(var_1809, 2 + 16)
				if ( var_1810 != ".mid" & var_1810 != ".midi" ) {
					var_1822 = GetPrjItem(var_67(17), var_1816)
					SetIP_synthMode var_1822, limit(var_1812, 0, 8)
				}
			}
			oneditproject
			goto *label_589
			var_1820++
		}
		if ( var_1819 == 4 | var_1820 ) {
			var_1820 = 0
			vserrordialog 310, ""
			goto *label_589
			var_1820++
		}
		if ( var_1819 == 5 | var_1820 ) {
			var_1820 = 0
			vserrordialog 311, "【waveファイル情報】\n" + var_1818
			goto *label_589
			var_1820++
		}
		if ( var_1819 == 7 | var_1820 ) {
			var_1820 = 0
			vserrordialog 400, ""
			goto *label_589
			var_1820++
		}
		if ( var_1819 == 6 | var_1820 ) {
			var_1820 = 0
			vserrordialog 401, ""
			goto *label_589
			var_1820++
		}
		if ( var_1819 == 258 | var_1820 ) {
			var_1820 = 0
			var_1823 = tltx("フリーソフト版(LE版)では、サンプリング周波数が48kHzを超える\nWaveファイルの入出力はできません。", "Sampling frequency exceeds 48kHz.")
			msgdialog var_1823
			goto *label_589
			var_1820++
		}
		if ( var_1819 == 257 | var_1820 ) {
			var_1820 = 0
			var_1823 = tltx("フリーソフト版(LE版)では、16Bitを超える\nWaveファイルの入出力はできません。", "Bit depth is greater than 16bit.")
			msgdialog var_1823
			goto *label_589
			var_1820++
		}
		if ( var_1819 == 512 | var_1820 ) {
			var_1820 = 0
			vserrordialog 342, ""
			goto *label_589
		}
		if ( 1 ) {
			vserrordialog 910, "" + var_1817
			goto *label_589
		}
*label_589
		if ( var_1815 == 1 ) {
			vsplay_play var_67(17)
		}
		setmainalldrawflg
		setmainwindowtitle ""
	}
	return
*label_590
	goto *label_593
#deffunc dditemtotrack str prm_1239, int prm_1240, int prm_1241, int prm_1242, int prm_1243
	var_1824 = prm_1239
	if ( var_67(17) == 0 ) {
		return
	}
	gsel 6
	if ( var_67(51) != 0 ) {
		var_1825 = getpath(var_1824, 2 + 16)
		if ( var_1825 != ".mid" & var_1825 != ".midi" ) {
			loadanalyzeprm var_1826
			analyzesettings var_1826, var_1824
			if ( stat != 0 ) {
				return
			}
			saveanalyzeprm var_1826
		}
		else {
			loadanalyzeprm var_1826
		}
	}
	else {
		loadanalyzeprm var_1826
	}
	if ( var_67(52) != 0 ) {
		var_1825 = getpath(var_1824, 2 + 16)
		if ( var_1825 != ".mid" & var_1825 != ".midi" ) {
			var_1827 = setitemsynthmode(var_1824)
			if ( var_1827 == (-1) ) {
				return
			}
		}
	}
	var_1828 = GetTrackNum(var_67(17))
	var_1829 = GetPrjSampFreq(var_67(17))
	if ( prm_1240 == (-1) & prm_1241 == (-1) ) {
		var_1830 = 0.0
		var_1831 = 0
	}
	else {
		var_1832 = prm_1240 - var_67(127) + var_67(145)
		var_1833 = prm_1241 - var_67(128) + var_67(146)
		var_1830 = double(var_1832) / var_67(143) * var_1829
		if ( var_1830 < 0.0 ) {
			var_1830 = 0.0
		}
		if ( var_67(99) != 0 ) {
			var_1830 = getqtsample(var_1830)
		}
		var_1831 = limit(var_1833 / var_67(144), 0, var_1828) + prm_1242
		var_1831 = limit(var_1831, 0, var_1828)
	}
	var_1834 = vsplay_getstatus(var_67(17))
	if ( var_1834 == 1 ) {
		vsplay_stop var_67(17)
	}
	setmainwindowtitle tltx("アイテムを追加しています...", "Adding item...")
	addprjitemprg var_67(17), var_1824, var_1826, var_1835, prm_1242, prm_1243, 0
	var_1836 = stat
	sdim var_1837, 256
	GetWaveFormatError var_1837, 256
	var_1838 = var_1836
	if ( 0 ) {
		var_1839++
	}
	if ( var_1838 == 0 | var_1839 ) {
		var_1839 = 0
		if ( var_1831 == var_1828 ) {
			addtrack 1
			var_1828 = GetTrackNum(var_67(17))
		}
		SetPrjItemTrackNum var_67(17), var_1835, limit(var_1831, 0, var_1828 - 1)
		var_1840 = GetPrjSampFreq(var_67(17))
		SetPrjItemOffset var_67(17), var_1835, var_1830 * var_1840 / var_1829
		if ( var_67(52) != 0 ) {
			var_1825 = getpath(var_1824, 2 + 16)
			if ( var_1825 != ".mid" & var_1825 != ".midi" ) {
				var_1841 = GetPrjItem(var_67(17), var_1835)
				SetIP_synthMode var_1841, limit(var_1827, 0, 8)
			}
		}
		oneditproject
		goto *label_592
		var_1839++
	}
	if ( var_1838 == 4 | var_1839 ) {
		var_1839 = 0
		vserrordialog 310, ""
		goto *label_592
		var_1839++
	}
	if ( var_1838 == 5 | var_1839 ) {
		var_1839 = 0
		vserrordialog 311, "【waveファイル情報】\n" + var_1837
		goto *label_592
		var_1839++
	}
	if ( var_1838 == 7 | var_1839 ) {
		var_1839 = 0
		vserrordialog 400, ""
		goto *label_592
		var_1839++
	}
	if ( var_1838 == 6 | var_1839 ) {
		var_1839 = 0
		vserrordialog 401, ""
		goto *label_592
		var_1839++
	}
	if ( var_1838 == 258 | var_1839 ) {
		var_1839 = 0
		var_1842 = tltx("フリーソフト版(LE版)では、サンプリング周波数が48kHzを超える\nWaveファイルの入出力はできません。", "Sampling frequency exceeds 48kHz.")
		msgdialog var_1842
		goto *label_592
		var_1839++
	}
	if ( var_1838 == 257 | var_1839 ) {
		var_1839 = 0
		var_1842 = tltx("フリーソフト版(LE版)では、16Bitを超える\nWaveファイルの入出力はできません。", "Bit depth is greater than 16bit.")
		msgdialog var_1842
		goto *label_592
		var_1839++
	}
	if ( var_1838 == 512 | var_1839 ) {
		var_1839 = 0
		vserrordialog 342, ""
		goto *label_592
	}
	if ( 1 ) {
		vserrordialog 910, "" + var_1836
		goto *label_592
	}
*label_592
	if ( var_1834 == 1 ) {
		vsplay_play var_67(17)
	}
	setmainalldrawflg
	setmainwindowtitle ""
	return
*label_593
	goto *label_596
#deffunc reloadsndfile int prm_1244
	if ( var_67(17) == 0 ) {
		return
	}
	var_1843 = GetPrjItemNum(var_67(17))
	if ( var_1843 == 1024 ) {
		vserrordialog 400, ""
		return
	}
	var_1844 = vsplay_getstatus(var_67(17))
	if ( var_1844 == 1 ) {
		vsplay_stop var_67(17)
	}
	var_1845 = 0
	var_1846 = var_1843
	repeat var_1843
		if ( getitemselflg(var_1845) == 1 ) {
			sdim var_1847, 260
			var_1848 = GetPrjItem(var_67(17), var_1845)
			var_1847 = vslib_getii_filename(var_1848)
			var_1849 = GetII_AnalyzePrmEx(var_1848, var_1850, var_1851, var_1852)
			if ( var_1849 != 0 ) {
				var_1853(0) = var_1850, var_1851, var_1852
				if ( var_67(51) != 0 & prm_1244 != 3 ) {
					analyzesettings var_1853, var_1847
					if ( stat != 0 ) {
						break
					}
					saveanalyzeprm var_1853
				}
			}
			else {
				if ( var_67(51) != 0 ) {
					var_1848 = GetPrjItem(var_67(17), var_1845)
					if ( GetII_SMFFlag(var_1848) == 0 ) {
						loadanalyzeprm var_1853
						analyzesettings var_1853, var_1847
						if ( stat != 0 ) {
							break
						}
						saveanalyzeprm var_1853
					}
					else {
						loadanalyzeprm var_1853
					}
				}
				else {
					loadanalyzeprm var_1853
				}
			}
			if ( prm_1244 != 2 ) {
				setmainwindowtitle tltx("アイテムを再読み込み中...", "Reloading item...")
				addprjitemprg var_67(17), var_1847, var_1853, var_1854, 0, 1, 0
			}
			else {
				setmainwindowtitle tltx("ピッチを再検出中...", "Analyzing pitch...")
				addprjitemprg var_67(17), var_1847, var_1853, var_1854, 0, 1, var_1848
			}
			var_1855 = stat
			sdim var_1856, 256
			GetWaveFormatError var_1856, 256
			var_1857 = var_1855
			if ( 0 ) {
				var_1858++
			}
			if ( var_1857 == 0 | var_1858 ) {
				var_1858 = 0
				if ( prm_1244 == 0 | prm_1244 == 3 ) {
					setitemselflg var_1854, 1
					var_1859 = GetPrjItem(var_67(17), var_1854)
					var_1848 = GetPrjItem(var_67(17), var_1845)
					var_1860 = GetPrjItemTrackNum(var_67(17), var_1845)
					var_1861 = GetIP_synthMode(var_1848)
					var_1862 = GetPrjItemKey(var_67(17), var_1845)
					var_1863 = GetPrjItemKeyType(var_67(17), var_1845)
					var_1864 = GetPrjItemTune(var_67(17), var_1845)
					var_1865 = vslib_getprjitemoffset(var_67(17), var_1845)
					var_1866 = GetPrjItemOffsetAdd(var_67(17), var_1845)
					var_1867 = vslib_getprjitemmeasoffset(var_67(17), var_1845)
					var_1868 = vslib_getprjitemfreqa4(var_67(17), var_1845)
					GetPrjItemBaseFreq var_67(17), var_1845, var_1869, var_1870, var_1871
					GetPrjItemUserTune var_67(17), var_1845, var_1872
					SetPrjItemTrackNum var_67(17), var_1854, var_1860
					SetIP_synthMode var_1859, var_1861
					SetPrjItemKey var_67(17), var_1854, var_1862
					SetPrjItemKeyType var_67(17), var_1854, var_1863
					SetPrjItemTune var_67(17), var_1854, var_1864
					SetPrjItemOffset var_67(17), var_1854, var_1865
					SetPrjItemOffsetAdd var_67(17), var_1854, var_1866
					SetPrjItemMeasOffset var_67(17), var_1854, var_1867
					SetPrjItemFreqA4 var_67(17), var_1854, var_1868
					SetPrjItemBaseFreq var_67(17), var_1854, var_1869, var_1870, var_1871
					SetPrjItemUserTune var_67(17), var_1854, var_1872
					DeletePrjItem var_67(17), var_1845
					closedisabletab
				}
				if ( prm_1244 == 1 ) {
					copyitemeditprm var_1854, var_1845
					setitemselflg var_1854, 1
					DeletePrjItem var_67(17), var_1845
					closedisabletab
				}
				if ( prm_1244 == 2 ) {
					var_1859 = GetPrjItem(var_67(17), var_1854)
					var_1848 = GetPrjItem(var_67(17), var_1845)
					var_1873 = GetII_nCtrlPnt(var_1848)
					repeat var_1873
						var_1874 = GetICP_pit_analyze(var_1859, cnt, 0)
						SetICP_pit_analyze var_1848, cnt, var_1874, 0
						SetICP_pit_org var_1848, cnt, var_1874
						var_1875 = GetICP_fix_org(var_1859, cnt)
						SetICP_fix_org var_1848, cnt, var_1875
						var_1875 = GetICP_fix_edit(var_1859, cnt)
						SetICP_fix_edit var_1848, cnt, var_1875
					loop
					DeletePrjItem var_67(17), var_1854
				}
				oneditproject
				goto *label_595
				var_1858++
			}
			if ( var_1857 == 4 | var_1858 ) {
				var_1858 = 0
				vserrordialog 310, ""
				goto *label_595
				var_1858++
			}
			if ( var_1857 == 5 | var_1858 ) {
				var_1858 = 0
				vserrordialog 311, "【waveファイル情報】\n" + var_1856
				goto *label_595
				var_1858++
			}
			if ( var_1857 == 7 | var_1858 ) {
				var_1858 = 0
				vserrordialog 400, ""
				goto *label_595
				var_1858++
			}
			if ( var_1857 == 6 | var_1858 ) {
				var_1858 = 0
				vserrordialog 401, ""
				goto *label_595
				var_1858++
			}
			if ( var_1857 == 258 | var_1858 ) {
				var_1858 = 0
				var_1876 = tltx("フリーソフト版(LE版)では、サンプリング周波数が48kHzを超える\nWaveファイルの入出力はできません。", "Sampling frequency exceeds 48kHz.")
				msgdialog var_1876
				goto *label_595
				var_1858++
			}
			if ( var_1857 == 257 | var_1858 ) {
				var_1858 = 0
				var_1876 = tltx("フリーソフト版(LE版)では、16Bitを超える\nWaveファイルの入出力はできません。", "Bit depth is greater than 16bit.")
				msgdialog var_1876
				goto *label_595
				var_1858++
			}
			if ( var_1857 == 512 | var_1858 ) {
				var_1858 = 0
				vserrordialog 342, ""
				goto *label_595
			}
			if ( 1 ) {
				vserrordialog 910, "" + var_1855
				goto *label_595
			}
*label_595
			if ( prm_1244 != 2 ) {
				var_1846--
			}
			else {
				var_1845++
			}
		}
		else {
			var_1845++
		}
		if ( var_1845 == var_1846 ) {
			break
		}
	loop
	if ( var_1844 == 1 ) {
		vsplay_play var_67(17)
	}
	setmainalldrawflg
	setmainwindowtitle ""
	setidealldrawflg
	return
*label_596
	goto *label_598
#deffunc copyitemeditprm int prm_1245, int prm_1246
	var_1877 = GetPrjItem(var_67(17), prm_1245)
	var_1878 = GetPrjItem(var_67(17), prm_1246)
	CopyPrjItemEditPrm var_67(17), prm_1245, prm_1246
	func_12 var_1877, var_1878
	return
*label_598
	goto *label_606
#deffunc loadanalyzeprm array prm_1247
	var_1879 = var_67(55)
	if ( 0 ) {
		var_1880++
	}
	if ( var_1879 == 0 | var_1880 ) {
		var_1880 = 0
		prm_1247(0) = 45
		prm_1247(1) = 79 - 45 + 1
		goto *label_600
		var_1880++
	}
	if ( var_1879 == 1 | var_1880 ) {
		var_1880 = 0
		prm_1247(0) = 45
		prm_1247(1) = 72 - 45 + 1
		goto *label_600
		var_1880++
	}
	if ( var_1879 == 2 | var_1880 ) {
		var_1880 = 0
		prm_1247(0) = 52
		prm_1247(1) = 79 - 52 + 1
		goto *label_600
		var_1880++
	}
	if ( var_1879 == 3 | var_1880 ) {
		var_1880 = 0
		prm_1247(0) = 24
		prm_1247(1) = 84
		goto *label_600
		var_1880++
	}
	if ( var_1879 == 4 | var_1880 ) {
		var_1880 = 0
		prm_1247(0) = var_67(53)
		prm_1247(1) = var_67(54) - var_67(53) + 1
		goto *label_600
	}
*label_600
	prm_1247(2) = var_67(56)
	return
#deffunc saveanalyzeprm array prm_1248
	var_67(55) = 4
	if ( prm_1248(0) == 45 & prm_1248(1) == 79 - 45 + 1 ) {
		var_67(55) = 0
	}
	if ( prm_1248(0) == 45 & prm_1248(1) == 72 - 45 + 1 ) {
		var_67(55) = 1
	}
	if ( prm_1248(0) == 52 & prm_1248(1) == 79 - 52 + 1 ) {
		var_67(55) = 2
	}
	if ( prm_1248(0) == 24 & prm_1248(1) == 84 ) {
		var_67(55) = 3
	}
	if ( var_67(55) == 4 ) {
		var_67(53) = prm_1248(0)
		var_67(54) = prm_1248(0) + prm_1248(1) - 1
	}
	var_67(56) = prm_1248(2)
	return
#deffunc analyzesettings array prm_1249, str prm_1250
	var_1881 = prm_1250
	screen_nomin 19, 370, 130, 2 | 4
	title getpath(var_1881, 8) + " " + tltx("解析設定", "Analyze settings")
	syscolor 15
	boxf
	var_1882 = 4
	if ( prm_1249(0) == 45 & prm_1249(1) == 79 - 45 + 1 ) {
		var_1882 = 0
	}
	if ( prm_1249(0) == 45 & prm_1249(1) == 72 - 45 + 1 ) {
		var_1882 = 1
	}
	if ( prm_1249(0) == 52 & prm_1249(1) == 79 - 52 + 1 ) {
		var_1882 = 2
	}
	if ( prm_1249(0) == 24 & prm_1249(1) == 84 ) {
		var_1882 = 3
	}
	var_1883 = prm_1249(0)
	var_1884 = prm_1249(0) + prm_1249(1) - 1
	var_1885 = prm_1249(2)
	var_1886 = var_1883 / 12 - 2
	var_1887 = var_1883 \ 12
	var_1888 = var_1884 / 12 - 2
	var_1889 = var_1884 \ 12
	var_1890 = -1
	syscolor 8
	setfont_normal
	objmode 2
	var_1891 = 0
	var_1892 = 10
	pos var_1891 + 10, var_1892 + 4
	mes tltx("解析方式", "Analyze method")
	objsize 210, 22
	pos var_1891 + 150, var_1892
	pos var_1891 + 150, var_1892
	var_1893 = "WORLD"
	var_1893 += "\nVocalShifter"
	if ( var_67(81) != 0 ) {
		var_1893 += "\nWORLD(DIO)"
	}
	combox var_1885, 100, var_1893
	var_1892 += 28
	pos var_1891 + 10, var_1892 + 4
	mes tltx("解析音域", "Analyze pitch range")
	objsize 210, 22
	pos var_1891 + 150, var_1892
	var_1894 = tltx("男女ボーカル(A2〜G5)\n", "Male and female vocals(A2-G5)\n")
	var_1894 += tltx("男性ボーカル(A2〜C5)\n", "Male vocals(A2-C5)\n")
	var_1894 += tltx("女性ボーカル(E3〜G5)\n", "Female vocals(E3-G5)\n")
	var_1894 += tltx("全音域(C1〜B7)\n", "All(C1-B7)\n")
	var_1894 += tltx("カスタム", "Custom")
	combox var_1882, 100, var_1894
	var_1892 += 28
	pos var_1891 + 10, var_1892 + 4
	mes tltx("カスタム", "Custom")
	objsize 45, 22
	pos var_1891 + 150, var_1892
	combox var_1887, 100, "C\nC#\nD\nD#\nE\nF\nF#\nG\nG#\nA\nA#\nB"
	var_1895(0) = stat
	pos var_1891 + 200, var_1892
	combox var_1886, 100, "1\n2\n3\n4\n5\n6\n7"
	var_1895(1) = stat
	pos var_1891 + 250, var_1892 + 4
	mes tltx("〜", "~")
	pos var_1891 + 265, var_1892
	combox var_1889, 100, "C\nC#\nD\nD#\nE\nF\nF#\nG\nG#\nA\nA#\nB"
	var_1895(2) = stat
	pos var_1891 + 315, var_1892
	combox var_1888, 100, "1\n2\n3\n4\n5\n6\n7"
	var_1895(3) = stat
	var_1892 += 28
	var_1892 += 5
	objsize 80, 22
	pos var_1891 + 190, var_1892
	button gosub tltx("OK", "OK"), *label_605
	var_1896 = stat
	pos var_1891 + 280, var_1892
	button gosub tltx("キャンセル", "Cancel"), *label_604
	objsel var_1896
	waitobjectupdate
	gsel 19, 2
	var_1897 = -1
	repeat
		gsel 19
		var_1898 = var_1899
		var_1899 = getkeyflg(27)
		if ( var_67(20) == 19 ) {
			var_67(20) = 0
			var_1897 = 1
		}
		if ( getactivewindow() == 19 & var_1898 == 0 & var_1899 == 1 ) {
			var_1897 = 1
		}
		if ( var_1897 != (-1) ) {
			break
		}
		if ( var_1882 != var_1890 ) {
			if ( var_1882 == 4 ) {
				var_1900 = 1
			}
			else {
				var_1900 = 0
			}
			repeat 4
				EnableWindow objinfo(var_1895(cnt), 2), var_1900
			loop
			var_1890 = var_1882
		}
		waitinputpolling
	loop
	gsel 19, -1
	gsel 6
	if ( var_1897 == 0 ) {
		var_1883 = (var_1886 + 2) * 12 + var_1887
		var_1884 = (var_1888 + 2) * 12 + var_1889
		if ( var_1884 < var_1883 ) {
			var_1901 = var_1883
			var_1883 = var_1884
			var_1884 = var_1901
		}
		var_1879 = var_1882
		if ( 0 ) {
			var_1880++
		}
		if ( var_1879 == 0 | var_1880 ) {
			var_1880 = 0
			prm_1249(0) = 45
			prm_1249(1) = 79 - 45 + 1
			goto *label_603
			var_1880++
		}
		if ( var_1879 == 1 | var_1880 ) {
			var_1880 = 0
			prm_1249(0) = 45
			prm_1249(1) = 72 - 45 + 1
			goto *label_603
			var_1880++
		}
		if ( var_1879 == 2 | var_1880 ) {
			var_1880 = 0
			prm_1249(0) = 52
			prm_1249(1) = 79 - 52 + 1
			goto *label_603
			var_1880++
		}
		if ( var_1879 == 3 | var_1880 ) {
			var_1880 = 0
			prm_1249(0) = 24
			prm_1249(1) = 84
			goto *label_603
			var_1880++
		}
		if ( var_1879 == 4 | var_1880 ) {
			var_1880 = 0
			prm_1249(0) = var_1883
			prm_1249(1) = var_1884 - var_1883 + 1
			goto *label_603
		}
*label_603
		prm_1249(2) = var_1885
	}
	return var_1897
*label_604
	var_1897 = 1
	return
*label_605
	var_1897 = 0
	return
*label_606
	goto *label_608
#deffunc addprjitemprg int prm_1251, str prm_1252, array prm_1253, var prm_1254, int prm_1255, int prm_1256, int prm_1257
	dim var_1902, 256
	SetAnalyzeInfo var_1902, prm_1253(0), prm_1253(1), prm_1253(2), prm_1257
	gsel 6
	var_1903 = getdecodefilename(prm_1252, var_67(2))
	if ( var_1903 != prm_1252 ) {
		decodesoundfile prm_1252, var_1903
		if ( stat != 0 ) {
			return stat
		}
	}
	var_1904 = 0
	var_1905 = 0
	var_1906 = 0
	WaveCheckFormat var_1903, var_1904, var_1905, var_1906
	var_1907 = stat
	if ( var_1907 != 0 ) {
		func_14 prm_1252, 0, 0, 0
		if ( stat == 0 ) {
			var_1904 = GetPrjSampFreq(var_67(17))
			var_1905 = 16
			var_1906 = 0
			var_1907 = 0
		}
		else {
			return var_1907
		}
	}
	if ( var_1904 != GetPrjSampFreq(var_67(17)) ) {
		var_1908 = 0
		var_1909 = GetPrjItemNum(var_67(17))
		repeat var_1909
			var_1910 = GetPrjItem(var_67(17), cnt)
			if ( GetII_SMFFlag(var_1910) == 0 ) {
				var_1908++
			}
		loop
		if ( var_1908 == 0 ) {
			var_1911 = 14
			var_1912(0) = 11025, 12000, 16000, 22050, 24000, 32000, 44100, 48000, 88200, 96000, 176400, 192000, 352800, 384000
			var_1913 = 1
			repeat var_1911
				if ( var_1912(cnt) == var_1904 ) {
					SetPrjSampFreq var_67(17), var_1904
					var_1913 = 0
					vsplay_exit var_67(17)
					vsplay_init var_67(17), var_67(30), var_67(31)
					break
				}
			loop
			if ( var_1913 == 1 ) {
				return 6
			}
		}
	}
	var_1914 = GetTickCount()
	AddPrjItemInit prm_1251, prm_1252, prm_1254, var_1902
	var_1907 = stat
	if ( var_1907 != 0 ) {
		return var_1907
	}
	var_1915 = 0
	repeat
		AddPrjItemAnalyze prm_1251, var_1902
		GetAnalyzeProgress var_1902, var_1916, var_1917
		if ( var_1917 != 0 ) {
			break
		}
		var_1918 = GetTickCount()
		if ( var_1918 > var_1915 + 125 ) {
			gsel 6
			redraw 2
			if ( prm_1256 <= 1 ) {
				drawprogress var_1916, tltx("解析中", "Analyzing...") + strf(" %d%%", var_1916)
			}
			else {
				drawprogress var_1916, tltx("解析中", "Analyzing...") + strf(" %d%% [%d/%d]", var_1916, prm_1255 + 1, prm_1256)
			}
			redraw 1
			var_1915 = var_1918
			waittaskdispatch
		}
	loop
	AddPrjItemTerm prm_1251, var_1902
	var_1919 = GetTickCount()
	AddLogData "analyze:" + getpath(prm_1252, 8) + " " + (var_1919 - var_1914) + "ms"
	setmainalldrawflg
	return 0
*label_608
	goto *label_614
#defcfunc getdecodefilename str prm_1258, int prm_1259
	var_1920 = prm_1258
	var_1921 = 0
	var_1922 = 0
	var_1923 = 0
	WaveCheckFormat var_1920, var_1921, var_1922, var_1923
	var_1924 = stat
	if ( var_1924 == 0 ) {
		return var_1920
	}
	func_14 var_1920, 0, 0, 0
	if ( stat == 0 ) {
		return var_1920
	}
	sdim var_1925, 1024
	var_1926 = strlen(var_1920)
	var_1927 = 0
	repeat var_1926
		var_1928 = peek(var_1920, cnt)
		if ( var_1928 == 92 ) {
			poke var_1925, var_1927, 36
			var_1927++
			poke var_1925, var_1927, 121
			var_1927++
			continue
		}
		if ( var_1928 == 58 ) {
			poke var_1925, var_1927, 36
			var_1927++
			poke var_1925, var_1927, 99
			var_1927++
			continue
		}
		if ( var_1928 == 46 ) {
			poke var_1925, var_1927, 36
			var_1927++
			poke var_1925, var_1927, 100
			var_1927++
			continue
		}
		if ( var_1928 == 36 ) {
			poke var_1925, var_1927, 36
			var_1927++
			poke var_1925, var_1927, 36
			var_1927++
			continue
		}
		poke var_1925, var_1927, var_1928
		var_1927++
	loop
	poke var_1925, var_1927, 0
	var_1925 = var_392(2) + var_1925 + "_" + prm_1259 + ".wav"
	return var_1925
#deffunc decodesoundfile str prm_1260, str prm_1261
	decodesoundfile_wavext prm_1260, prm_1261
	var_1929 = stat
	if ( var_1929 == 0 ) {
		return 0
	}
	if ( var_1929 == 4 ) {
		return 4
	}
	else {
		decodesoundfile_ffmpeg prm_1260, prm_1261
		var_1930 = stat
		if ( var_1930 == 512 ) {
			return var_1929
		}
		return var_1930
	}
	return 0
#deffunc decodesoundfile_ffmpeg str prm_1262, str prm_1263
	var_1920 = prm_1262
	var_1925 = prm_1263
	exist var_1920
	if ( strsize < 0 ) {
		return 4
	}
	if ( var_392(4) == "" ) {
		exist var_392(1) + "bin\\ffmpeg.exe"
		if ( strsize < 0 ) {
			return 512
		}
		else {
			var_392(4) = var_392(1) + "bin\\"
		}
	}
	else {
		exist var_392(4) + "ffmpeg.exe"
		if ( strsize < 0 ) {
			return 512
		}
	}
	var_1931 = "\""
	var_1932 = "@echo off\n"
	var_1932 += "cd /d " + var_1931 + var_392(4) + var_1931 + "\n"
	var_1932 += "ffmpeg.exe -i " + var_1931 + var_1920 + var_1931 + " -y " + var_1931 + var_1925 + var_1931 + "\n"
	var_1932 += "del /q " + var_1931 + var_1933 + var_1931
	var_1934 = var_392(2) + "decode_" + var_67(2) + ".bat"
	vslibSaveFile var_1934, var_1932, strlen(var_1932)
	execconsole var_1935, var_1934
	exist var_1925
	if ( strsize <= 0 ) {
		return 5
	}
	return 0
#deffunc decodesoundfile_wavext str prm_1264, str prm_1265
	var_1920 = prm_1264
	var_1925 = prm_1265
	exist var_1920
	if ( strsize < 0 ) {
		return 4
	}
	if ( var_392(5) == "" ) {
		exist var_392(1) + "bin\\wavext.exe"
		if ( strsize < 0 ) {
			return 512
		}
		else {
			var_392(5) = var_392(1) + "bin\\"
		}
	}
	else {
		exist var_392(5) + "wavext.exe"
		if ( strsize < 0 ) {
			return 512
		}
	}
	var_1931 = "\""
	var_1932 = "@echo off\n"
	var_1932 += "cd /d " + var_1931 + var_392(5) + var_1931 + "\n"
	var_1932 += "wavext.exe " + var_1931 + var_1920 + var_1931 + " " + var_1931 + var_1925 + var_1931 + "\n"
	var_1932 += "del /q " + var_1931 + var_1933 + var_1931
	var_1934 = var_392(2) + "decode_" + var_67(2) + ".bat"
	vslibSaveFile var_1934, var_1932, strlen(var_1932)
	execconsole var_1935, var_1934
	exist var_1925
	if ( strsize <= 0 ) {
		return 5
	}
	return 0
#deffunc deletedecodetmpfile
	var_1936 = dirinfo(0)
	sdim var_1937, 260
	notesel var_1937
	chdir var_392(2)
	dirlist var_1937, "*_" + var_67(2) + ".wav", 1
	var_1938 = noteinfo(0)
	repeat var_1938
		noteget var_1939, cnt
		exist var_1939
		if ( strsize >= 0 ) {
			delete var_1939
		}
	loop
	var_1934 = var_392(2) + "decode_" + var_67(2) + ".bat"
	exist var_1934
	if ( strsize >= 0 ) {
		delete var_1934
	}
	chdir var_1936
	return
*label_614
	goto *label_616
#deffunc drawprogress int prm_1266, str prm_1267
	var_1940 = 240
	var_1941 = 120
	var_1942 = (ginfo(12) - var_1940) / 2
	var_1943 = (ginfo(13) - var_1941) / 2
	if ( var_1942 < var_67(127) ) {
		var_1942 = var_67(127)
	}
	if ( var_1943 < var_67(128) ) {
		var_1943 = var_67(128)
	}
	color 32, 32, 48
	boxf var_1942, var_1943, var_1942 + var_1940 - 1, var_1943 + var_1941 - 1
	color 16, 16, 24
	boxf var_1942, var_1943 + var_1941 - 1, var_1942 + var_1940 - 1, var_1943 + var_1941 - 1
	boxf var_1942 + var_1940 - 1, var_1943, var_1942 + var_1940 - 1, var_1943 + var_1941 - 1
	color 96, 96, 112
	boxf var_1942, var_1943, var_1942 + var_1940 - 1, var_1943
	boxf var_1942, var_1943, var_1942, var_1943 + var_1941 - 1
	setfont_normal
	color 208, 208, 208
	pos var_1942 + 20, var_1943 + 20
	mes prm_1267
	if ( prm_1266 >= 0 ) {
		color 96, 96, 112
		boxf var_1942 + 20 - 1, var_1943 + 60 - 16, var_1942 + 220 + 1, var_1943 + 60 + 15
		color 16, 16, 24
		boxf var_1942 + 20 - 1, var_1943 + 60 - 16, var_1942 + 220, var_1943 + 60 + 14
		color 32, 32, 48
		boxf var_1942 + 20 + prm_1266 * 2, var_1943 + 60 - 15, var_1942 + 220, var_1943 + 60 + 14
		color 208, 208, 208
		boxf var_1942 + 20, var_1943 + 60 - 15, var_1942 + 20 + prm_1266 * 2, var_1943 + 60 + 14
	}
	return
*label_616
	goto *label_619
#deffunc analyzespc
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_1944 = limit(var_67(270), 0, var_67(269) - 1)
			var_1945 = getidetabitemnum(var_1944)
			var_1946 = GetPrjItem(var_67(17), var_1945)
			InitItemSpcData var_1946, 24, 84, 5, 100, var_1947
			var_1948 = GetTickCount()
			var_1949 = 0
			var_1950 = 0
			repeat
				if ( var_1949 == var_1947 ) {
					break
				}
				var_1951 = 32
				if ( var_1949 + var_1951 > var_1947 ) {
					var_1951 = var_1947 - var_1949
				}
				AnalyzeItemSpc var_1946, var_1949, var_1951
				var_1949 += var_1951
				var_1952 = GetTickCount()
				if ( var_1952 > var_1950 + 125 ) {
					gsel 12
					redraw 2
					var_1953 = var_1949 * 100 / var_1947
					drawprogress var_1953, tltx("処理中", "Processing...") + strf(" %d%%", var_1953)
					redraw 1
					var_1950 = var_1952
					waittaskdispatch
				}
			loop
			var_1954 = GetTickCount()
			AddLogData "spectrum:" + (var_1954 - var_1948) + "ms"
			var_340(var_1944 * 51 + 1) = 6
			setidealldrawflg
			oneditproject
		}
	}
	return
#deffunc deletespc
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_1944 = limit(var_67(270), 0, var_67(269) - 1)
			var_1945 = getidetabitemnum(var_1944)
			var_1946 = GetPrjItem(var_67(17), var_1945)
			var_1947 = GetSpcBlock(var_1946)
			if ( var_1947 > 0 ) {
				ReleaseItemSpcData var_1946
				setidealldrawflg
				oneditproject
			}
			else {
				msgdialog tltx("スペクトラム解析データがありません。", "Spectrum data is not exist.")
			}
		}
	}
	return
*label_619
	goto *label_621
#deffunc exportf0tocsv
	if ( var_67(17) == 0 ) {
		return
	}
	gsel 6
	var_1955 = tltx("CSVファイル(*.csv)\n*.csv\nすべてのファイル(*.*)\n*.*", "CSV files(*.csv)\n*.csv\nAll files(*.*)\n*.*")
	fileselectdialog var_1956, 1, var_1955, "", "", "", 0
	if ( stat != (-1) ) {
		getstr var_1956, var_1956
		if ( getpath(var_1956, 2 + 16) != ".csv" ) {
			var_1956 += ".csv"
			exist var_1956
			if ( strsize >= 0 ) {
				msgdialog var_1956 + tltx("は既に存在します。\n上書きしますか?", " already exists. \nDo you want to overwrite it?"), 2
				if ( stat != 6 ) {
					return 1
				}
			}
		}
		var_1957 = ""
		var_1958 = GetPrjItemNum(var_67(17))
		repeat var_1958
			var_1959 = GetPrjItem(var_67(17), var_1960)
			var_1961 = GetII_nCtrlPnt(var_1959)
			repeat var_1961
				var_1962 = GetICP_pit_org(var_1959, cnt)
				if ( GetICP_fix_edit(var_1959, cnt) == 0 ) {
					var_1957 += str(var_1962) + ","
				}
				else {
					var_1957 += "0,"
				}
				var_1963 = vslib_geticp_dyn_org(var_1959, cnt)
				var_1957 += str(var_1963) + "\n"
			loop
		loop
		vslibSaveFile var_1956, var_1957, strlen(var_1957)
		sdim var_1957, 64
	}
	return
*label_621
	goto *label_623
#deffunc setidealldrawflg
	var_67(245) = 1
	var_67(246) = 1
	var_67(247) = 1
	var_67(248) = 1
	var_67(249) = 1
	var_67(251) = 1
	var_67(252) = 1
	var_67(253) = 1
	var_67(254) = 1
	var_67(255) = 1
	var_67(265) = 1
	return
*label_623
	goto *label_626
#deffunc addideredrawrect array prm_1268
	if ( var_1964 < 256 ) {
		var_1965(var_1964 * 4) = prm_1268(0), prm_1268(1), prm_1268(2), prm_1268(3)
		var_1964++
	}
	return
#deffunc getideredrawrect array prm_1269
	if ( var_1964 > 0 ) {
		var_1964--
		prm_1269(0) = var_1965(var_1964 * 4 + 0), var_1965(var_1964 * 4 + 1), var_1965(var_1964 * 4 + 2), var_1965(var_1964 * 4 + 3)
		var_1966 = 0
	}
	else {
		var_1966 = 1
	}
	return var_1966
*label_626
	goto *label_629
#deffunc updateidewindow
	if ( var_67(198) == 0 ) {
		return
	}
	var_1967 = var_67(37)
	if ( 0 ) {
		var_1968++
	}
	if ( var_1967 == (-1) | var_1968 ) {
		var_1968 = 0
		var_1968++
	}
	if ( var_1967 == 0 | var_1968 ) {
		var_1968 = 0
		var_1969 = 1
		goto *label_628
		var_1968++
	}
	if ( var_1967 == 1 | var_1968 ) {
		var_1968 = 0
		var_1969 = 2
		goto *label_628
	}
	if ( 1 ) {
		var_1969 = 4
		goto *label_628
	}
*label_628
	gsel 12
	if ( var_67(265) == 1 ) {
		redraw 1
		var_67(265) = 0
		var_67(256) = 0
		var_67(257) = 0
		var_67(258) = 0
		var_67(259) = 0
		var_67(260) = 0
		var_67(261) = 0
		var_67(262) = 0
		var_67(263) = 0
		var_67(264) = 0
	}
	else {
		redraw 1, var_67(205), var_67(206), var_67(207), var_67(208)
	}
	if ( var_67(256) == 1 ) {
		redraw 1, var_67(209), var_67(210), var_67(211), var_67(212)
		var_67(256) = 0
	}
	if ( var_67(257) == 1 ) {
		redraw 1, var_67(213), var_67(214), var_67(215), var_67(216)
		var_67(257) = 0
	}
	if ( var_67(258) == 1 ) {
		redraw 1, var_67(217), var_67(218), var_67(219), var_67(220)
		var_67(258) = 0
	}
	if ( var_67(259) == 1 ) {
		redraw 1, var_67(221), var_67(222), var_67(223), var_67(224)
		var_67(259) = 0
	}
	if ( var_67(260) == 1 ) {
		redraw 1, var_67(225), var_67(226), var_67(227), var_67(228)
		var_67(260) = 0
	}
	if ( var_67(261) == 1 ) {
		redraw 1, var_67(229), var_67(230), var_67(231), var_67(232)
		var_67(261) = 0
	}
	if ( var_67(9) \ var_1969 == 0 ) {
		if ( var_67(263) == 1 ) {
			redraw 1, var_67(237), var_67(238), var_67(239), var_67(240)
			var_67(263) = 0
		}
	}
	if ( var_67(9) \ var_1969 == 0 ) {
		if ( var_67(262) == 1 ) {
			redraw 1, var_67(233), var_67(234), var_67(235), var_67(236)
			var_67(262) = 0
		}
	}
	if ( var_67(264) == 1 ) {
		redraw 1, var_67(241), var_67(242), var_67(243), var_67(244)
		var_67(264) = 0
	}
	repeat
		getideredrawrect var_1970
		if ( stat != 0 ) {
			break
		}
		redraw 1, var_1970(0), var_1970(1), var_1970(2), var_1970(3)
	loop
	redraw 2
	return
*label_629
	goto *label_635
#deffunc autoidescroll
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			if ( var_1971 == 1 ) {
				if ( vsplay_getstatus(var_67(17)) == 0 & var_67(179) == 0 ) {
					requestcommand 138
					var_1972 = 1
					var_1971 = 0
					return
				}
			}
			var_1973 = limit(var_67(270), 0, var_67(269) - 1)
			var_1974 = getidetabitemnum(var_1973)
			var_1975 = GetPrjItem(var_67(17), var_1974)
			var_1976 = var_340(var_1973 * 51 + 18)
			var_1977 = var_340(var_1973 * 51 + 19)
			var_1978 = GetPrjSampFreq(var_67(17))
			var_1979 = vslib_getprjitemoffset(var_67(17), var_1974)
			var_1980 = 0
			var_1981 = vsplay_getstatus(var_67(17))
			if ( var_1981 == 1 & var_67(179) == 1 ) {
				var_1980 = 1
			}
			if ( var_1982 == 1 & var_67(179) == 1 ) {
				var_1980 = 1
			}
			if ( var_1972 == 0 & var_67(179) == 1 ) {
				var_1980 = 1
			}
			if ( var_1980 == 1 & getidephase() == 0 ) {
				var_1983 = var_1976
				if ( var_67(43) == 0 ) {
					repeat
						var_1984 = (double(var_67(13)) - var_1979) / var_1978
						var_1985 = int(var_1984 * var_1977 + 0.5) - var_1976
						if ( var_1985 < 0 ) {
							var_1976 -= var_67(227)
						}
						else {
							if ( var_1985 >= var_67(227) ) {
								var_1976 += var_67(227)
							}
							else {
								break
							}
						}
					loop
				}
				if ( var_67(43) == 1 ) {
					var_1984 = (double(var_67(13)) - var_1979) / var_1978
					timesectomeas var_1984, var_1986, var_1987, var_1988
					var_1989 = timemeastosec(var_1986 + 0, 0, 0)
					var_1990 = timemeastosec(var_1986 + 1, 0, 0)
					var_1991 = (var_1989 + var_1990) / 2.0
					var_1976 = int(var_1991 * var_1977 + 0.5) - var_67(227) / 2
				}
				if ( var_67(43) == 2 ) {
					var_1992 = var_67(37)
					if ( 0 ) {
						var_1993++
					}
					if ( var_1992 == (-1) | var_1993 ) {
						var_1993 = 0
						var_1994 = 1
						goto *label_631
						var_1993++
					}
					if ( var_1992 == 0 | var_1993 ) {
						var_1993 = 0
						var_1994 = 2
						goto *label_631
						var_1993++
					}
					if ( var_1992 == 1 | var_1993 ) {
						var_1993 = 0
						var_1994 = 4
						goto *label_631
					}
					if ( 1 ) {
						var_1994 = 8
						goto *label_631
					}
*label_631
					if ( var_67(9) \ var_1994 == 0 ) {
						var_1984 = (double(var_67(13)) - var_1979) / var_1978
						var_1976 = int(var_1984 * var_1977 + 0.5) - var_67(227) / 2
					}
				}
				var_1995 = GetII_editSample(var_1975)
				var_1978 = GetII_sampFreq(var_1975)
				var_1996 = int(double(var_1995) * var_1977 / var_1978) - var_67(227) / 2
				if ( var_1976 > var_1996 ) {
					var_1976 = var_1996
				}
				if ( var_1976 < 0 ) {
					var_1976 = 0
				}
				if ( var_1976 != var_1983 ) {
					var_340(var_1973 * 51 + 18) = var_1976
					var_67(249) = 1
					var_67(247) = 1
					var_67(251) = 1
				}
			}
			var_1972 = var_67(179)
			var_1982 = var_1981
		}
	}
	return
#deffunc chkdisableidescroll
	if ( var_67(17) != 0 & var_67(198) != 0 ) {
		if ( var_67(269) > 0 ) {
			var_1973 = limit(var_67(270), 0, var_67(269) - 1)
			var_1974 = getidetabitemnum(var_1973)
			var_1976 = var_340(var_1973 * 51 + 18)
			var_1977 = var_340(var_1973 * 51 + 19)
			var_1978 = GetPrjSampFreq(var_67(17))
			var_1979 = vslib_getprjitemoffset(var_67(17), var_1974)
			if ( vsplay_getstatus(var_67(17)) == 1 & var_67(179) == 1 ) {
				var_1984 = (double(var_67(13)) - var_1979) / var_1978
				var_1985 = int(var_1984 * var_1977 + 0.5) - var_1976
				if ( var_1985 < 0 | var_1985 >= var_67(227) ) {
					var_67(179) = 0
					setautoscrollenablerequest
				}
			}
		}
	}
	return
#deffunc setautoscrollenablerequest
	var_1971 = 1
	return
#deffunc setideautoscrollrequest
	var_1972 = 0
	return
*label_635
	goto *label_648
#deffunc setidetaboffset
	if ( var_67(269) > 0 ) {
		var_67(271) = limit(var_67(271), 0, var_67(269) - 1)
		var_1997 = var_67(270)
		calcidetabpos
		if ( getidetabpos(var_1997) + getidetabsize(var_1997) > var_67(211) ) {
			var_1998 = getidetabpos(var_1997) + getidetabsize(var_1997) - var_67(211)
			repeat
				if ( var_67(271) < var_67(269) - 1 ) {
					var_1998 -= getidetabsize(var_67(271))
					var_67(271)++
					if ( var_1998 <= 0 ) {
						break
					}
				}
				else {
					break
				}
			loop
		}
		if ( getidetabpos(var_1997) < 0 ) {
			var_67(271) = var_1997
		}
	}
	return
#deffunc openidetab int prm_1270
	if ( var_67(17) == 0 ) {
		return
	}
	var_1999 = -1
	repeat var_67(269)
		if ( getidetabitemnum(cnt) == prm_1270 ) {
			var_1999 = cnt
			break
		}
	loop
	if ( var_1999 >= 0 ) {
		var_67(270) = var_1999
	}
	else {
		if ( var_67(269) == 32 ) {
			var_67(269)--
		}
		var_67(269)++
		var_2000 = var_67(269) - 1
		repeat 51
			var_340(var_2000 * 51 + cnt) = 0
		loop
		var_340(var_2000 * 51 + 18) = 0
		var_340(var_2000 * 51 + 19) = 100
		var_340(var_2000 * 51 + 22) = 10
		var_340(var_2000 * 51 + 24) = 10
		var_340(var_2000 * 51 + 21) = (10 * 128 - var_67(228)) / 2
		var_340(var_2000 * 51 + 23) = (10 * 48 - var_67(228)) / 2
		if ( var_340(var_2000 * 51 + 21) < 0 ) {
			var_340(var_2000 * 51 + 21) = 0
		}
		if ( var_340(var_2000 * 51 + 23) < 0 ) {
			var_340(var_2000 * 51 + 23) = 0
		}
		var_340(var_2000 * 51 + 0) = GetPrjItemId(var_67(17), prm_1270)
		if ( var_67(190) != 0 ) {
			if ( var_67(269) >= 2 ) {
				copytabparameter var_2000, var_67(270)
			}
		}
		var_67(270) = var_2000
	}
	setidetaboffset
	gsel 12, 1
	var_67(198) = 1
	setidealldrawflg
	setidewindowtitle ""
	return
#deffunc openselitemidetab
	if ( var_67(17) == 0 ) {
		return
	}
	var_2001 = GetPrjItemNum(var_67(17))
	dim var_2002, var_2001
	var_2003 = 0
	repeat var_2001
		if ( getitemselflg(cnt) == 1 ) {
			var_2002(var_2003) = cnt
			var_2003++
		}
	loop
	if ( var_2003 == 0 ) {
		var_2004 = tltx("アイテムが選択されていません。\n編集するアイテムを選択してから\nメニューのアイテム編集を選択してください。", "Target item is not selected.")
		msgdialog var_2004
		return
	}
	var_2005 = 0
	repeat var_2003 - 1
		repeat var_2003 - 1 - var_2005
			var_2006 = var_2002(cnt)
			var_2007 = GetPrjItemTrackNum(var_67(17), var_2006)
			var_2008 = vslib_getprjitemoffset(var_67(17), var_2006)
			var_2009 = var_2002(cnt + 1)
			var_2010 = GetPrjItemTrackNum(var_67(17), var_2009)
			var_2011 = vslib_getprjitemoffset(var_67(17), var_2009)
			var_2012 = 0
			if ( var_2007 > var_2010 ) {
				var_2012 = 1
			}
			else {
				if ( var_2007 == var_2010 & var_2008 > var_2011 ) {
					var_2012 = 1
				}
			}
			if ( var_2012 == 1 ) {
				var_2002(cnt) = var_2009
				var_2002(cnt + 1) = var_2006
			}
		loop
		var_2005++
	loop
	repeat var_2003
		openidetab var_2002(cnt)
	loop
	return
#deffunc closeidetab int prm_1271
	if ( var_67(17) == 0 ) {
		return
	}
	if ( prm_1271 >= 0 & prm_1271 < var_67(269) ) {
		var_2013 = 51 * 4 * (32 - prm_1271 - 1)
		var_2014 = 51 * 4 * prm_1271
		var_2015 = 51 * 4 * (prm_1271 + 1)
		memcpy var_340, var_340, var_2013, var_2014, var_2015
		var_67(269)--
		if ( prm_1271 < var_67(270) ) {
			var_67(270)--
		}
	}
	var_67(270) = limit(var_67(270), 0, var_67(269) - 1)
	setidetaboffset
	if ( var_67(198) != 0 & var_67(269) == 0 ) {
		var_67(20) = 12
	}
	setidealldrawflg
	setidewindowtitle ""
	return
#deffunc swapidetab int prm_1272, int prm_1273
	if ( var_67(17) == 0 ) {
		return
	}
	if ( prm_1272 < 0 | prm_1272 >= var_67(269) ) {
		return
	}
	if ( prm_1273 < 0 | prm_1273 >= var_67(269) ) {
		return
	}
	var_2013 = 51 * 4
	dim var_2016, 51
	memcpy var_2016, var_340, var_2013, 0, var_2013 * prm_1272
	memcpy var_340, var_340, var_2013, var_2013 * prm_1272, var_2013 * prm_1273
	memcpy var_340, var_2016, var_2013, var_2013 * prm_1273, 0
	if ( var_67(270) == prm_1272 ) {
		var_67(270) = prm_1273
	}
	else {
		if ( var_67(270) == prm_1273 ) {
			var_67(270) = prm_1272
		}
	}
	setidealldrawflg
	return
#deffunc closedisabletab
	var_2017 = var_67(269)
	repeat var_2017
		var_1999 = var_2017 - cnt - 1
		var_2018 = var_340(var_1999 * 51 + 0)
		var_2019 = GetItemNumId(var_67(17), var_2018)
		if ( var_2019 == (-1) ) {
			closeidetab var_1999
		}
	loop
	return
#deffunc ideclosecurtab
	closeidetab var_67(270)
	return
#deffunc idecloselefttab
	var_2020 = var_67(270)
	repeat var_2020
		closeidetab var_67(270) - 1
	loop
	return
#deffunc idecloserighttab
	var_2020 = var_67(269) - var_67(270) - 1
	repeat var_2020
		closeidetab var_67(269) - 1
	loop
	return
#deffunc idecloseelsetab
	idecloselefttab
	idecloserighttab
	return
#deffunc ideclosealltab
	var_2020 = var_67(269)
	repeat var_2020
		closeidetab var_67(269) - 1
	loop
	return
#defcfunc getidetabitemnum int prm_1274
	var_2018 = var_340(prm_1274 * 51 + 0)
	return GetItemNumId(var_67(17), var_2018)
*label_648
	goto *label_653
#deffunc setcuritemoption
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_2021 = limit(var_67(270), 0, var_67(269) - 1)
			var_2022 = getidetabitemnum(var_2021)
			setitemoption var_2022
		}
	}
	return
#deffunc setcuritemeqoption
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_2021 = limit(var_67(270), 0, var_67(269) - 1)
			var_2022 = getidetabitemnum(var_2021)
			setitemeqoption var_2022
		}
	}
	return
#deffunc setcuritemheqoption
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_2021 = limit(var_67(270), 0, var_67(269) - 1)
			var_2022 = getidetabitemnum(var_2021)
			setitemheqoption var_2022
		}
	}
	return
#deffunc showcuritemproperty
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_2021 = limit(var_67(270), 0, var_67(269) - 1)
			var_2022 = getidetabitemnum(var_2021)
			showitemproperty var_2022
		}
	}
	return
*label_653
	goto *label_657
#deffunc loadideclipboarddata
	var_2023 = var_392(2) + "vocalshifter" + "_id.clb"
	exist var_2023
	var_2024 = strsize / (16 * 8)
	if ( var_2024 > 0 ) {
		dimtype var_2025, 3, 16 * var_2024, 0, 0, 0
		bload var_2023, var_2025
	}
	var_67(249) = 1
	return
#defcfunc getidecbdataptr
	return varptr(var_2025)
#defcfunc getidecbdatasize
	return var_2024
*label_657
	goto *label_659
#deffunc saveidescreenshot
	if ( var_67(17) == 0 ) {
		return
	}
	if ( var_67(198) == 0 ) {
		return
	}
	var_2026 = tltx("ビットマップ(*.bmp)\n*.bmp\nすべてのファイル(*.*)\n*.*", "Bit map(*.bmp)\n*.bmp\nAll files(*.*)\n*.*")
	fileselectdialog var_2027, 1, var_2026, "", "", "", 0
	if ( stat == (-1) ) {
		return
	}
	getstr var_2027, var_2027
	if ( getpath(var_2027, 2 + 16) != ".bmp" ) {
		var_2027 += ".bmp"
		exist var_2027
		if ( strsize >= 0 ) {
			msgdialog var_2027 + tltx("は既に存在します。\n上書きしますか?", " already exists. \nDo you want to overwrite it?"), 2
			if ( stat != 6 ) {
				return
			}
		}
	}
	var_2028 = ginfo(3)
	var_2029 = var_67(221)
	var_2030 = var_67(218)
	var_2031 = var_67(223) + var_67(227)
	var_2032 = var_67(220) + var_67(228)
	buffer 22, var_2031, var_2032
	gcopy 12, var_2029, var_2030, var_2031, var_2032
	bmpsave var_2027
	buffer 22, 1, 1
	gsel var_2028
	return
*label_659
	goto *label_662
#deffunc importnote
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_2033 = limit(var_67(270), 0, var_67(269) - 1)
			var_2034 = getidetabitemnum(var_2033)
			var_2035 = GetPrjItem(var_67(17), var_2034)
			var_2036 = GetII_nCtrlPnt(var_2035)
			sdim var_2037, 260
			var_2038 = tltx("MIDIファイル(*.mid;*.midi)\n*.mid;*.midi\nすべてのファイル(*.*)\n*.*", "MIDI files(*.mid;*.midi)\n*.mid;*.midi\nAll files(*.*)\n*.*")
			fileselectdialog var_2037, 0, var_2038, "", "", "", 0
			if ( stat == (-1) ) {
				return
			}
			getstr var_2037, var_2037
			loadsmf var_2037, var_2039, var_2040, var_2041, var_2042
			var_2043 = GetIP_nNote(var_2035)
			repeat var_2043
				DelIP_noteData var_2035, var_2043 - 1 - cnt
			loop
			var_2044 = 0
			repeat var_2040
				var_2045 = cnt
				var_2046 = var_2039(var_2045 * 3 + 1) & 240
				var_2047 = var_2039(var_2045 * 3 + 1) >> 16 & 127
				if ( var_2046 == 144 & var_2047 > 0 ) {
					var_2048 = var_2039(var_2045 * 3 + 0)
					var_2049 = var_2042
					var_2050 = var_2039(var_2045 * 3 + 1) >> 8 & 127
					repeat var_2040 - (var_2045 + 1), var_2045 + 1
						var_2051 = var_2039(cnt * 3 + 1) & 240
						var_2052 = var_2039(cnt * 3 + 1) >> 8 & 127
						if ( var_2051 == 144 | var_2051 == 128 & var_2052 == var_2050 ) {
							var_2049 = var_2039(cnt * 3 + 0)
							break
						}
					loop
					if ( var_2048 < var_2044 ) {
						var_2048 = var_2044
					}
					if ( var_2048 < var_2049 ) {
						var_2053 = var_2048 / 5
						var_2054 = (var_2049 - var_2048) / 5
						if ( var_2053 + var_2054 < var_2036 ) {
							AddIP_noteData var_2035, var_2053, var_2054, var_2050 * 100
							var_2044 = var_2049
						}
					}
				}
			loop
			SetNotePitch var_2035
			dim var_2039, 0
			oneditproject
			var_67(249) = 1
		}
	}
	return
#deffunc exportnote str prm_1275, int prm_1276, int prm_1277
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_2033 = limit(var_67(270), 0, var_67(269) - 1)
			var_2034 = getidetabitemnum(var_2033)
			var_2035 = GetPrjItem(var_67(17), var_2034)
			var_2036 = GetII_nCtrlPnt(var_2035)
			var_2037 = prm_1275
			var_2043 = GetIP_nNote(var_2035)
			dim var_2039, 1024 * 3
			var_2040 = 0
			var_2055 = 0
			repeat var_2043
				GetIP_noteData var_2035, cnt, var_2056, var_2057, var_2058, var_2059
				var_2050 = (var_2058 + 50) / 100
				var_2039(var_2040 * 3 + 0) = var_2056
				var_2039(var_2040 * 3 + 1) = 100 << 16 | var_2050 << 8 | 144
				var_2040++
				repeat var_2057
					var_2039(var_2040 * 3 + 0) = var_2056 + cnt
					if ( var_2056 + cnt < var_2036 ) {
						if ( GetICP_fix_edit(var_2035, var_2056 + cnt) == 0 ) {
							var_2055 = GetICP_pit_edit(var_2035, var_2056 + cnt) - var_2050 * 100
						}
						var_2060 = var_2055 * 8192 / (prm_1277 * 100)
						var_2060 = limit(var_2060, -8192, 8192) + 8192
					}
					else {
						var_2060 = 8192
					}
					var_2061 = var_2060 & 127
					var_2062 = var_2060 >> 7
					var_2039(var_2040 * 3 + 1) = var_2062 << 16 | var_2061 << 8 | 224
					var_2040++
					var_2039(var_2040 * 3 + 0) = var_2056 + cnt
					if ( var_2056 + cnt < var_2036 ) {
						var_2063 = vslib_geticp_dyn_edit(var_2035, var_2056 + cnt)
						var_2060 = limit(int(sqrt(var_2063) * 127.0), 0, 127)
					}
					else {
						var_2060 = 100
					}
					var_2039(var_2040 * 3 + 1) = var_2060 << 16 | 11 << 8 | 176
					var_2040++
				loop
				var_2039(var_2040 * 3 + 0) = var_2056 + var_2057
				var_2039(var_2040 * 3 + 1) = var_2050 << 8 | 128
				var_2040++
			loop
			exportsmf var_2037, var_2039, var_2040, prm_1276, prm_1277
		}
	}
	return
*label_662
	goto *label_667
#deffunc exportnote_option
	if ( var_67(17) == 0 ) {
		return
	}
	if ( var_67(198) == 0 | var_67(269) == 0 ) {
		return
	}
	screen_nomin 16, 400, 135, 2 | 4
	title tltx("ノートエクスポート", "Export notes")
	syscolor 15
	boxf
	sdim var_2064, 256
	var_2065 = var_67(59)
	if ( var_2065 == 0 ) {
		var_2065 = 480
	}
	var_2066 = var_67(60)
	if ( var_2066 == 0 ) {
		var_2066 = 12
	}
	var_2067 = 10
	syscolor 8
	setfont_normal
	objmode 2
	pos 10, var_2067 + 4
	mes tltx("ファイル名", "File name")
	pos 100, var_2067
	objsize 200, 22
	input var_2064
	var_2068 = stat
	pos 310, var_2067
	objsize 80, 22
	button gosub tltx("参照", "Browse"), *label_666
	var_2067 += 28
	pos 10, var_2067 + 4
	mes "Ticks Per Quarter Note"
	pos 160, var_2067
	objsize 60, 22
	input var_2065
	var_2067 += 28
	pos 10, var_2067 + 4
	mes tltx("ピッチベンド感度", "Pitch bend sensitivity")
	pos 160, var_2067
	objsize 60, 22
	input var_2066
	var_2067 += 28
	var_2067 += 5
	objsize 80, 22
	pos 220, var_2067
	button gosub tltx("OK", "OK"), *label_665
	var_2069 = stat
	pos 310, var_2067
	button gosub tltx("キャンセル", "Cancel"), *label_664
	objsel var_2069
	waitobjectupdate
	gsel 16, 2
	var_2070 = -1
	var_2071 = 0
	var_2072 = 1
	gosub *label_666
	var_2072 = 0
	repeat
		gsel 16
		var_2073 = var_2071
		var_2071 = getkeyflg(27)
		if ( var_67(20) == 16 ) {
			var_67(20) = 0
			var_2070 = 1
		}
		if ( getactivewindow() == 16 & var_2073 == 0 & var_2071 == 1 ) {
			var_2070 = 1
		}
		if ( var_2070 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 16, -1
	gsel 6
	if ( var_2070 == 0 ) {
		var_2065 = limit(var_2065, 48, 65535)
		var_2066 = limit(var_2066, 1, 24)
		exportnote var_2064, var_2065, var_2066
		var_67(59) = var_2065
		var_67(60) = var_2066
	}
	return
*label_664
	var_2070 = 1
	return
*label_665
	if ( getpath(var_2064, 2 + 16) != ".mid" ) {
		var_2064 += ".mid"
	}
	objprm var_2068, var_2064
	exist var_2064
	if ( strsize >= 0 ) {
		msgdialog var_2064 + tltx("は既に存在します。\n上書きしますか?", " already exists. \nDo you want to overwrite it?"), 2
		if ( stat != 6 ) {
			return
		}
	}
	var_2070 = 0
	return
*label_666
	sdim var_2074, 256
	var_2075 = tltx("MIDIファイル(*.mid;*.midi)\n*.mid;*.midi\nすべてのファイル(*.*)\n*.*", "MIDI files(*.mid;*.midi)\n*.mid;*.midi\nAll files(*.*)\n*.*")
	fileselectdialog var_2074, 1, var_2075, "", "", "", 0
	if ( stat == (-1) ) {
		if ( var_2072 == 1 ) {
			var_2070 = 1
		}
		return
	}
	getstr var_2074, var_2074
	var_2064 = var_2074
	if ( getpath(var_2064, 2 + 16) != ".mid" ) {
		var_2064 += ".mid"
	}
	objprm var_2068, var_2064
	return
*label_667
	goto *label_669
#deffunc detectnote
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_2076 = limit(var_67(270), 0, var_67(269) - 1)
			var_2077 = getidetabitemnum(var_2076)
			var_2078 = GetPrjItem(var_67(17), var_2077)
			func_11 var_2078
			oneditproject
			var_67(249) = 1
		}
	}
	return
*label_669
	goto *label_671
#deffunc exportsmf str prm_1278, array prm_1279, int prm_1280, int prm_1281, int prm_1282
	sdim var_2079, 4096 + prm_1280 * 8
	var_2080 = getquarternotesec()
	var_2081 = 0
	var_2082 = 0
	var_2083 = 127
	var_2084 = 64
	lpoke var_2079, 0, 1684558925
	lpoke var_2079, 4, cnvbyteorder4(6)
	wpoke var_2079, 8, cnvbyteorder2(0)
	wpoke var_2079, 10, cnvbyteorder2(1)
	wpoke var_2079, 12, cnvbyteorder2(prm_1281)
	lpoke var_2079, 14, 1802654797
	lpoke var_2079, 18, cnvbyteorder4(0)
	var_2085 = 22
	poke var_2079, var_2085 + 0, 0
	poke var_2079, var_2085 + 1, 192 + var_2081
	poke var_2079, var_2085 + 2, var_2082
	var_2085 += 3
	poke var_2079, var_2085 + 0, 0
	poke var_2079, var_2085 + 1, 176 + var_2081
	poke var_2079, var_2085 + 2, 7
	poke var_2079, var_2085 + 3, var_2083
	var_2085 += 4
	poke var_2079, var_2085 + 0, 0
	poke var_2079, var_2085 + 1, 176 + var_2081
	poke var_2079, var_2085 + 2, 10
	poke var_2079, var_2085 + 3, var_2084
	var_2085 += 4
	poke var_2079, var_2085 + 0, 0
	poke var_2079, var_2085 + 1, 176 + var_2081
	poke var_2079, var_2085 + 2, 101
	poke var_2079, var_2085 + 3, 0
	var_2085 += 4
	poke var_2079, var_2085 + 0, 0
	poke var_2079, var_2085 + 1, 176 + var_2081
	poke var_2079, var_2085 + 2, 100
	poke var_2079, var_2085 + 3, 0
	var_2085 += 4
	poke var_2079, var_2085 + 0, 0
	poke var_2079, var_2085 + 1, 176 + var_2081
	poke var_2079, var_2085 + 2, 6
	poke var_2079, var_2085 + 3, prm_1282
	var_2085 += 4
	poke var_2079, var_2085 + 0, 0
	poke var_2079, var_2085 + 1, 176 + var_2081
	poke var_2079, var_2085 + 2, 38
	poke var_2079, var_2085 + 3, 0
	var_2085 += 4
	poke var_2079, var_2085 + 0, 0
	poke var_2079, var_2085 + 1, 176 + var_2081
	poke var_2079, var_2085 + 2, 101
	poke var_2079, var_2085 + 3, 127
	var_2085 += 4
	poke var_2079, var_2085 + 0, 0
	poke var_2079, var_2085 + 1, 176 + var_2081
	poke var_2079, var_2085 + 2, 100
	poke var_2079, var_2085 + 3, 127
	var_2085 += 4
	var_2086 = 0
	repeat prm_1280
		var_2087 = prm_1279(cnt * 3 + 0)
		var_2088 = int(0.005 * var_2087 * prm_1281 / var_2080)
		var_2089 = var_2088 - var_2086
		var_2086 = var_2088
		if ( var_2089 >= 2097152 ) {
			poke var_2079, var_2085, ((var_2089 & 266338304) >> 21) + 128
			var_2085++
		}
		if ( var_2089 >= 16384 ) {
			poke var_2079, var_2085, ((var_2089 & 2080768) >> 14) + 128
			var_2085++
		}
		if ( var_2089 >= 128 ) {
			poke var_2079, var_2085, ((var_2089 & 16256) >> 7) + 128
			var_2085++
		}
		poke var_2079, var_2085, var_2089 & 127
		var_2085++
		var_2090 = prm_1279(cnt * 3 + 1)
		poke var_2079, var_2085 + 0, var_2090 & 255
		poke var_2079, var_2085 + 1, (var_2090 & 65280) >> 8
		poke var_2079, var_2085 + 2, (var_2090 & 16711680) >> 16
		var_2085 += 3
	loop
	lpoke var_2079, var_2085, 3145472
	var_2085 += 4
	lpoke var_2079, 18, cnvbyteorder4(var_2085 - 22)
	vslibSaveFile prm_1278, var_2079, var_2085
	if ( stat != 0 ) {
		vserrordialog 328, ""
	}
	sdim var_2079, 0
	return
*label_671
	goto *label_675
#deffunc addlabel
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_2091 = limit(var_67(270), 0, var_67(269) - 1)
			var_2092 = getidetabitemnum(var_2091)
			var_2093 = GetPrjItem(var_67(17), var_2092)
			var_2094 = GetII_ctrlPntPs(var_2093)
			var_2095 = GetPrjSampFreq(var_67(17))
			var_2096 = var_340(var_2091 * 51 + 25)
			var_2097 = var_340(var_2091 * 51 + 26)
			sdim var_2098, 64
			var_2098 = ""
			if ( var_2096 != var_2097 ) {
				AddIP_label var_2093, var_2096, var_2097, var_2098
			}
			else {
				var_2099 = vslib_getprjitemoffset(var_67(17), var_2092)
				var_2100 = double(var_67(13) - var_2099)
				var_2101 = vslib_getstretchorgsmp(var_2093, var_2100, var_2102)
				var_2096 = int(var_2101 / var_2095 * var_2094)
				var_2097 = var_2096
				AddIP_label var_2093, var_2096, var_2097, var_2098
			}
			oneditproject
			var_67(251) = 1
			var_2103 = GetIP_nLabel(var_2093)
			sdim var_2098, 64
			repeat var_2103
				GetIP_label var_2093, cnt, var_2104, var_2105, var_2098, var_2106
				if ( var_2104 == var_2096 & var_2105 == var_2097 ) {
					SetIP_label var_2093, cnt, var_2104, var_2105, var_2098, 1
				}
				else {
					SetIP_label var_2093, cnt, var_2104, var_2105, var_2098, 0
				}
			loop
			requestcommand 287
		}
	}
	return
#deffunc importlabel
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_2091 = limit(var_67(270), 0, var_67(269) - 1)
			var_2092 = getidetabitemnum(var_2091)
			var_2093 = GetPrjItem(var_67(17), var_2092)
			var_2094 = GetII_ctrlPntPs(var_2093)
			sdim var_2107, 260
			var_2108 = tltx("テキストファイル(*.txt)\n*.txt\nすべてのファイル(*.*)\n*.*", "Text files(*.txt)\n*.txt\nAll files(*.*)\n*.*")
			fileselectdialog var_2107, 0, var_2108, "", "", "", 0
			if ( stat == (-1) ) {
				return
			}
			getstr var_2107, var_2107
			sdim var_2109, 64
			sdim var_2110, 64
			sdim var_2098, 64
			sdim var_2111, 64
			notesel var_2111
			noteload var_2107
			var_2103 = GetIP_nLabel(var_2093)
			repeat var_2103
				DelIP_label var_2093, 0
			loop
			var_2103 = noteinfo(0)
			repeat var_2103
				noteget var_2109, cnt
				var_2112 = 0
				getstr var_2110, var_2109, var_2112, 9, 64
				var_2113 = int(double(var_2110) * var_2094)
				var_2112 += strsize
				getstr var_2110, var_2109, var_2112, 9, 64
				var_2114 = int(double(var_2110) * var_2094)
				var_2112 += strsize
				getstr var_2110, var_2109, var_2112, 9, 64
				var_2098 = var_2110
				var_2112 += strsize
				AddIP_label var_2093, var_2113, var_2114, var_2098
			loop
			oneditproject
			var_67(251) = 1
		}
	}
	return
#deffunc exportlabel
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_2091 = limit(var_67(270), 0, var_67(269) - 1)
			var_2092 = getidetabitemnum(var_2091)
			var_2093 = GetPrjItem(var_67(17), var_2092)
			var_2094 = GetII_ctrlPntPs(var_2093)
			sdim var_2107, 260
			var_2108 = tltx("テキストファイル(*.txt)\n*.txt\nすべてのファイル(*.*)\n*.*", "Text files(*.txt)\n*.txt\nAll files(*.*)\n*.*")
			fileselectdialog var_2107, 1, var_2108, "", "", "", 0
			if ( stat == (-1) ) {
				return
			}
			getstr var_2107, var_2107
			if ( getpath(var_2107, 2 + 16) != ".txt" ) {
				var_2107 += ".txt"
				exist var_2107
				if ( strsize >= 0 ) {
					msgdialog var_2107 + tltx("は既に存在します。\n上書きしますか?", " already exists. \nDo you want to overwrite it?"), 2
					if ( stat != 6 ) {
						return
					}
				}
			}
			sdim var_2098, 64
			sdim var_2111, 64
			notesel var_2111
			var_2103 = GetIP_nLabel(var_2093)
			repeat var_2103
				GetIP_label var_2093, cnt, var_2113, var_2114, var_2098, var_2106
				noteadd strf("%f\t%f\t%s", double(var_2113) / var_2094, double(var_2114) / var_2094, var_2098)
			loop
			vslibSaveFile var_2107, var_2111, strlen(var_2111)
		}
	}
	return
*label_675
	goto *label_678
#deffunc initideselarea
	var_2115 = ""
	var_2116 = ""
	var_2117 = ""
	var_2118 = ""
	return
#deffunc updateideselarea
	if ( var_67(17) != 0 & var_67(198) == 1 ) {
		if ( var_67(269) > 0 ) {
			var_2119 = limit(var_67(270), 0, var_67(269) - 1)
			var_2120 = getidetabitemnum(var_2119)
			var_2121 = GetPrjItem(var_67(17), var_2120)
			var_2122 = GetII_nCtrlPnt(var_2121)
			var_2123 = GetII_ctrlPntPs(var_2121)
			var_2124 = GetII_sampFreq(var_2121)
			if ( var_67(188) == 0 ) {
				var_2125 = vslib_getprjitemoffset(var_67(17), var_2120)
				var_2126 = 0.0
			}
			else {
				var_2125 = 0.0
				var_2126 = vslib_getprjitemmeasoffset(var_67(17), var_2120) * var_2124
			}
			var_2127 = var_340(var_2119 * 51 + 25)
			var_2128 = var_340(var_2119 * 51 + 26)
			var_2129 = vslib_getstretchedtsec(var_2121, double(var_2127) / var_2123, var_2130)
			var_2131 = vslib_getstretchedtsec(var_2121, double(var_2128) / var_2123, var_2130)
			if ( var_67(98) == 1 ) {
				var_2132 = timesmptostr(var_2129 * var_2124 + (var_2125 - var_2126), 1)
				var_2133 = timesmptostr(var_2131 * var_2124 + (var_2125 - var_2126), 1)
			}
			else {
				var_2132 = timesmptostr(var_2129 * var_2124 + var_2125, 0)
				var_2133 = timesmptostr(var_2131 * var_2124 + var_2125, 0)
			}
			if ( var_2132 != var_2115 ) {
				setselareastr 0, var_2132
				var_2115 = var_2132
				var_2117 = var_2132
			}
			if ( var_2133 != var_2116 ) {
				setselareastr 1, var_2133
				var_2116 = var_2133
				var_2118 = var_2133
			}
			var_2132 = getselareastr(0)
			var_2133 = getselareastr(1)
			if ( var_2132 != var_2117 | var_2133 != var_2118 ) {
				if ( var_67(98) == 1 ) {
					var_2134 = strtotimesmp(var_2132, 1) - (var_2125 - var_2126)
					var_2135 = strtotimesmp(var_2133, 1) - (var_2125 - var_2126)
				}
				else {
					var_2134 = strtotimesmp(var_2132, 0) - var_2125
					var_2135 = strtotimesmp(var_2133, 0) - var_2125
				}
				var_2129 = vslib_getstretchorgsec(var_2121, var_2134 / var_2124, var_2130)
				var_2131 = vslib_getstretchorgsec(var_2121, var_2135 / var_2124, var_2130)
				var_2136 = limit(int(var_2129 * var_2123), 0, var_2122)
				var_2137 = limit(int(var_2131 * var_2123), 0, var_2122)
				if ( var_2136 <= var_2137 ) {
					var_340(var_2119 * 51 + 25) = var_2136
					var_340(var_2119 * 51 + 26) = var_2137
				}
				else {
					var_340(var_2119 * 51 + 25) = var_2137
					var_340(var_2119 * 51 + 26) = var_2136
				}
				var_2117 = var_2132
				var_2118 = var_2133
				var_2127 = var_340(var_2119 * 51 + 25)
				var_2128 = var_340(var_2119 * 51 + 26)
				var_2129 = vslib_getstretchedtsec(var_2121, double(var_2127) / var_2123, var_2130)
				var_2131 = vslib_getstretchedtsec(var_2121, double(var_2128) / var_2123, var_2130)
				if ( var_67(98) == 1 ) {
					var_2132 = timesmptostr(var_2129 * var_2124 + (var_2125 - var_2126), 1)
					var_2133 = timesmptostr(var_2131 * var_2124 + (var_2125 - var_2126), 1)
				}
				else {
					var_2132 = timesmptostr(var_2129 * var_2124 + var_2125, 0)
					var_2133 = timesmptostr(var_2131 * var_2124 + var_2125, 0)
				}
				var_2115 = var_2132
				var_2116 = var_2133
				var_67(249) = 1
			}
		}
	}
	return
*label_678
	goto *label_680
#defcfunc limittimeinitem int prm_1283
	var_2138 = prm_1283
	if ( var_67(198) == 0 ) {
		return var_2138
	}
	if ( getactivewindow() != 12 ) {
		return var_2138
	}
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_2139 = limit(var_67(270), 0, var_67(269) - 1)
		var_2140 = getidetabitemnum(var_2139)
		var_2141 = GetPrjItem(var_67(17), var_2140)
		var_2142 = GetPrjSampFreq(var_67(17))
		var_2143 = vslib_getprjitemoffset(var_67(17), var_2140)
		var_2144 = GetII_editSample(var_2141)
		var_2145 = int(double(var_2143) / var_2142 * 1000.0)
		var_2146 = int(double(var_2143 + var_2144) / var_2142 * 1000.0)
		var_2138 = limit(var_2138, var_2145, var_2146)
	}
	return var_2138
*label_680
	goto *label_684
#deffunc bouncecuritemnew
	if ( var_67(17) == 0 ) {
		return
	}
	if ( var_67(269) > 0 ) {
		var_2147 = limit(var_67(270), 0, var_67(269) - 1)
		var_2148 = getidetabitemnum(var_2147)
	}
	else {
		return
	}
	exportprjwavefile 5, var_2148, 0
	return
#deffunc bouncecuritemrep
	return
#deffunc bouncecuritemnewselrange
	if ( var_67(17) == 0 ) {
		return
	}
	if ( var_67(269) > 0 ) {
		var_2147 = limit(var_67(270), 0, var_67(269) - 1)
		var_2148 = getidetabitemnum(var_2147)
	}
	else {
		return
	}
	var_2149 = GetPrjItem(var_67(17), var_2148)
	var_2150 = GetII_ctrlPntPs(var_2149)
	var_2151 = GetII_sampFreq(var_2149)
	var_2152 = var_340(var_2147 * 51 + 25)
	var_2153 = var_340(var_2147 * 51 + 26)
	var_2154 = int(double(var_2152) / var_2150 * var_2151)
	var_2155 = int(double(var_2153) / var_2150 * var_2151)
	if ( var_2154 < var_2155 ) {
		exportprjwavefile 5, var_2148, 0, var_2154, var_2155
	}
	else {
		vserrordialog 420, ""
	}
	return
*label_684
	goto *label_686
#deffunc clearidefocus
	if ( var_67(198) == 0 ) {
		return
	}
	var_2156 = var_2157
	var_2158 = var_2159
	var_2160 = var_2161
	var_2157 = getkeyflg(var_67(3))
	var_2159 = getkeyflg(var_67(4))
	var_2161 = getkeyflg(13)
	if ( getactivewindow() != 12 ) {
		return
	}
	gsel 12
	var_2162 = _mousex()
	var_2163 = _mousey()
	if ( var_2162 >= 110 & var_2162 <= 290 & var_2163 >= 39 & var_2163 <= 59 ) {
	}
	else {
		if ( var_2159 == 0 & var_2158 == 1 ) {
			func_34 hwnd
		}
		if ( var_2157 == 0 & var_2156 == 1 ) {
			func_34 hwnd
		}
	}
	objsel -1
	if ( stat == var_2164 | stat == var_2165 ) {
		if ( var_2161 == 0 & var_2160 == 1 ) {
			func_34 hwnd
		}
	}
	return
*label_686
	goto *label_690
#deffunc editidetabpanel
	if ( var_67(198) == 0 ) {
		return
	}
	var_2166 = var_2167
	var_2168 = var_2169
	var_2167 = getkeyflg(var_67(3))
	var_2169 = getkeyflg(var_67(4))
	var_2170 = getkeyflg(16)
	var_2171 = getkeyflg(17)
	if ( getactivewindow() != 12 ) {
		return
	}
	gsel 12
	var_2172 = _mousex() - var_67(209)
	var_2173 = _mousey() - var_67(210)
	var_2174 = var_67(209)
	var_2175 = var_67(211)
	var_2176 = var_67(210)
	var_2177 = var_67(212)
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_2178 = 0
		if ( var_2169 == 1 & var_2168 == 0 ) {
			var_2178 = 2
		}
		if ( var_2167 == 1 & var_2166 == 0 ) {
			var_2178 = 1
		}
		if ( var_2173 >= 0 & var_2173 <= var_2177 ) {
			repeat var_67(269)
				var_2179 = getidetabpos(cnt)
				var_2180 = getidetabsize(cnt)
				if ( var_2172 >= var_2179 & var_2172 < var_2179 + var_2180 ) {
					if ( var_2178 != 0 ) {
						if ( var_67(190) != 0 ) {
							copytabparameter cnt, var_67(270)
						}
						var_67(270) = cnt
						setidealldrawflg
						setidewindowtitle ""
					}
					if ( var_2168 == 1 & var_2169 == 0 ) {
						var_67(167) = 4
					}
					if ( var_2178 == 1 ) {
						var_2181 = cnt
						var_2182 = var_2172
						var_2183 = 1
					}
				}
			loop
		}
		if ( var_2183 == 1 ) {
			if ( var_2167 == 0 ) {
				var_2183 = 0
			}
			else {
				if ( abs(var_2172 - var_2182) > 30 ) {
					var_2183 = 2
					var_2184 = -1
				}
			}
		}
		if ( var_2183 == 2 ) {
			var_2185 = var_67(269)
			repeat var_67(269)
				if ( var_2172 < getidetabpos(cnt) + getidetabsize(cnt) / 2 ) {
					var_2185 = cnt
					break
				}
			loop
			if ( var_2169 == 1 ) {
				var_2183 = 0
				var_67(245) = 1
			}
			else {
				if ( var_2167 == 0 ) {
					var_2183 = 0
					var_67(245) = 1
					var_2186 = 0
					if ( var_2185 < var_67(270) ) {
						var_2186 = var_2185 - var_67(270)
					}
					if ( var_2185 > var_67(270) + 1 ) {
						var_2186 = var_2185 - var_67(270) - 1
					}
					if ( var_2186 < 0 ) {
						repeat abs(var_2186)
							swapidetab var_67(270), var_67(270) - 1
						loop
					}
					if ( var_2186 > 0 ) {
						repeat var_2186
							swapidetab var_67(270), var_67(270) + 1
						loop
					}
				}
			}
			if ( var_2185 != var_2184 ) {
				var_67(245) = 1
				var_2184 = var_2185
			}
		}
		if ( var_2183 == 0 ) {
			if ( var_2172 >= 0 & var_2172 < var_2175 & var_2173 >= 0 & var_2173 < var_2177 ) {
				if ( var_67(266) != 0 ) {
					if ( var_67(266) > 0 ) {
						var_2187 = limit(var_67(270) - 1, 0, var_67(269) - 1)
						if ( var_67(190) != 0 ) {
							copytabparameter var_2187, var_67(270)
						}
						var_67(270) = var_2187
					}
					else {
						var_2187 = limit(var_67(270) + 1, 0, var_67(269) - 1)
						if ( var_67(190) != 0 ) {
							copytabparameter var_2187, var_67(270)
						}
						var_67(270) = var_2187
					}
					setidetaboffset
					setidealldrawflg
					setidewindowtitle ""
				}
			}
		}
		var_2188 = -1
		if ( var_2183 != 2 ) {
			if ( var_2173 >= 6 & var_2173 < var_2177 - 6 ) {
				repeat var_67(269)
					var_2179 = getidetabpos(cnt)
					var_2180 = getidetabsize(cnt)
					if ( var_2172 >= var_2179 + var_2180 - 20 & var_2172 < var_2179 + var_2180 - 6 ) {
						var_2188 = cnt
					}
				loop
			}
		}
		if ( var_2188 != var_2189 ) {
			var_67(245) = 1
			var_2189 = var_2188
		}
		if ( var_2167 == 1 & var_2166 == 0 ) {
			var_2190 = var_2188
		}
		if ( var_2167 == 0 & var_2166 == 1 ) {
			if ( var_2188 == var_2190 & var_2188 >= 0 ) {
				closeidetab var_2188
			}
		}
	}
	return
#defcfunc getideclosetabnum
	return var_2188
#defcfunc getideinserttabpos
	var_2191 = -1
	if ( var_2183 == 2 ) {
		var_2191 = var_2185
	}
	return var_2191
*label_690
	goto *label_692
#deffunc copytabparameter int prm_1285, int prm_1286
	var_2192 = GetPrjSampFreq(var_67(17))
	var_2193 = getidetabitemnum(prm_1285)
	var_2194 = getidetabitemnum(prm_1286)
	var_2195 = GetPrjItem(var_67(17), var_2193)
	var_2196 = GetPrjItem(var_67(17), var_2194)
	var_2197 = vslib_getprjitemoffset(var_67(17), var_2193)
	var_2198 = vslib_getprjitemoffset(var_67(17), var_2194)
	var_340(prm_1285 * 51 + 19) = var_340(prm_1286 * 51 + 19)
	var_340(prm_1285 * 51 + 20) = var_340(prm_1286 * 51 + 20)
	var_340(prm_1285 * 51 + 21) = var_340(prm_1286 * 51 + 21)
	var_340(prm_1285 * 51 + 22) = var_340(prm_1286 * 51 + 22)
	var_340(prm_1285 * 51 + 23) = var_340(prm_1286 * 51 + 23)
	var_340(prm_1285 * 51 + 24) = var_340(prm_1286 * 51 + 24)
	var_2199 = int(double(var_2198 - var_2197) / var_2192 * var_2200)
	var_2201 = var_340(prm_1286 * 51 + 18) + var_2199
	var_2200 = var_340(prm_1285 * 51 + 19)
	var_2202 = GetII_editSample(var_2195)
	var_2203 = int(double(var_2202) * var_2200 / var_2192) - var_67(227) / 2
	if ( var_2201 > var_2203 ) {
		var_2201 = var_2203
	}
	if ( var_2201 < 0 ) {
		var_2201 = 0
	}
	var_340(prm_1285 * 51 + 18) = var_2201
	return
*label_692
	goto *label_696
#deffunc editidelistpanel
	if ( var_67(198) == 0 ) {
		return
	}
	var_2204 = var_2205
	var_2206 = var_2207
	var_2205 = getkeyflg(var_67(3))
	var_2207 = getkeyflg(var_67(4))
	var_2208 = getkeyflg(16)
	var_2209 = getkeyflg(17)
	if ( getactivewindow() != 12 ) {
		return
	}
	gsel 12
	var_2210 = _mousex() - var_67(213)
	var_2211 = _mousey() - var_67(214)
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_2212 = limit(var_67(270), 0, var_67(269) - 1)
		var_2213 = getidetabitemnum(var_2212)
		var_2214 = GetPrjItemTrackNum(var_67(17), var_2213)
		var_2215 = GetTrackMorphingGroup(var_67(17), var_2214)
		var_2216 = GetPrjItem(var_67(17), var_2213)
		var_2217 = GetIP_synthMode(var_2216)
		var_2218 = var_340(var_2212 * 51 + 1)
		var_2219 = var_340(var_2212 * 51 + (2 + var_2218))
		var_2219 = var_2219 | 1 << var_2218
		repeat 7 + 4 * var_67(65)
			var_2220 = 0
			var_2221 = 28 * cnt
			var_2222 = var_67(215)
			var_2223 = 28
			if ( var_2210 >= var_2220 & var_2211 >= var_2221 & var_2210 < var_2220 + var_2222 & var_2211 < var_2221 + var_2223 ) {
				if ( var_2204 == 0 & var_2205 == 1 ) {
					var_2224 = cnt
				}
				if ( var_2204 == 1 & var_2205 == 0 & cnt == var_2224 ) {
					if ( var_2210 <= 30 ) {
						var_2219 = var_2219 ^ 1 << cnt
						var_2219 = var_2219 | 1 << var_2218
						var_340(var_2212 * 51 + (2 + var_2218)) = var_2219
						var_67(246) = 1
						var_67(249) = 1
					}
					else {
						var_340(var_2212 * 51 + 1) = cnt
						var_67(246) = 1
						var_67(249) = 1
						var_67(248) = 1
						var_67(255) = 1
					}
				}
				var_2225 = var_2226(cnt)
				if ( var_2217 == 8 & var_2215 != 0 ) {
					var_2227 = cnt
					if ( 0 ) {
						var_2228++
					}
					if ( var_2227 == 10 | var_2228 ) {
						var_2228 = 0
						var_2225 = tltx("MRP編集モード", "MRP edit mode")
						goto *label_694
					}
				}
*label_694
				if ( var_2210 <= 30 ) {
					setidestatusstr tltx("現在の編集モードを切り替えずに、", "show ") + var_2225 + tltx("のグラフを表示", " graph"), 0
				}
				else {
					setidestatusstr tltx("", "switch to ") + var_2225 + tltx("に切り替え", ""), 0
				}
			}
		loop
	}
	return
#deffunc initeditidelist
	var_2226(0) = tltx("ピッチ編集モード", "Pitch edit mode")
	var_2226(1) = tltx("フォルマント編集モード", "Formant edit mode")
	var_2226(2) = tltx("ボリューム編集モード", "Volume edit mode")
	var_2226(3) = tltx("パン編集モード", "Pan edit mode")
	var_2226(4) = tltx("ダイナミクス編集モード", "Dynamics edit mode")
	var_2226(5) = tltx("タイミング編集モード", "Timing edit mode")
	var_2226(6) = tltx("ピッチ誤検出修正モード", "Analyzed pitch fix mode")
	var_2226(7) = tltx("ブレス編集モード", "Breath edit mode")
	var_2226(8) = tltx("EQ1編集モード", "EQ1 edit mode")
	var_2226(9) = tltx("EQ2編集モード", "EQ2 edit mode")
	var_2226(10) = tltx("HEQ編集モード", "HEQ edit mode")
	return
*label_696
	goto *label_698
#deffunc setideeditmode int prm_1287
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_2229 = limit(var_67(270), 0, var_67(269) - 1)
		var_340(var_2229 * 51 + 1) = limit(prm_1287, 0, 11 - 1)
		var_67(246) = 1
		var_67(249) = 1
		var_67(248) = 1
		var_67(255) = 1
	}
	return
*label_698
	goto *label_700
#deffunc editidetimepanel
	if ( var_67(198) == 0 ) {
		return
	}
	var_2230 = var_2231
	var_2232 = var_2233
	var_2231 = getkeyflg(var_67(3))
	var_2233 = getkeyflg(var_67(4))
	var_2234 = getkeyflg(16)
	var_2235 = getkeyflg(17)
	if ( getactivewindow() != 12 ) {
		return
	}
	gsel 12
	var_2236 = _mousex() - var_67(217)
	var_2237 = _mousey() - var_67(218)
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_2238 = limit(var_67(270), 0, var_67(269) - 1)
		var_2239 = getidetabitemnum(var_2238)
		var_2240 = GetPrjItem(var_67(17), var_2239)
		var_2241 = vslib_getprjitemoffset(var_67(17), var_2239)
		var_2242 = GetPrjSampFreq(var_67(17))
		var_2243 = var_340(var_2238 * 51 + 1)
		var_2244 = var_340(var_2238 * 51 + 18)
		var_2245 = var_340(var_2238 * 51 + 19)
		var_2246 = var_340(var_2238 * 51 + (2 + var_2243))
		var_2247 = GetMixSample(var_67(17))
		var_2248 = int(double(var_2247) / var_2242 * 1000.0)
		if ( var_2249 == 2 ) {
			if ( var_2236 >= var_67(227) - 20 ) {
				var_2244 += cnvscrollsize((var_2250 / 120 + 1) * 5) * var_67(61) / 100
				var_2251 = 1
				var_67(249) = 1
				var_67(247) = 1
				var_67(251) = 1
				var_2250 += cnvscrollsize(1)
			}
			else {
				if ( var_2236 <= 20 ) {
					var_2244 -= cnvscrollsize((var_2250 / 120 + 1) * 5) * var_67(61) / 100
					var_2251 = 1
					var_67(249) = 1
					var_67(247) = 1
					var_67(251) = 1
					var_2250 += cnvscrollsize(1)
				}
				else {
					var_2250 = 0
				}
			}
		}
		else {
			var_2250 = 0
		}
		if ( var_2251 == 1 ) {
			var_2252 = GetII_editSample(var_2240)
			var_2253 = int(double(var_2252) * var_2245 / var_2242) - var_67(227) / 2
			if ( var_2244 > var_2253 ) {
				var_2244 = var_2253
			}
			if ( var_2244 < 0 ) {
				var_2244 = 0
			}
			var_2251 = 0
		}
		var_340(var_2238 * 51 + 18) = var_2244
		if ( var_2236 >= 0 & var_2237 >= 0 & var_2236 < var_67(219) & var_2237 < var_67(220) ) {
			if ( var_67(40) == 0 ) {
				setidehscrollreq var_2236
			}
			else {
				setidevhscrollreqt var_2236, var_2237
			}
			if ( var_2230 == 0 & var_2231 == 1 ) {
				var_2254 = GetTickCount()
				var_2255 = abs(var_2236 - var_2256) + abs(var_2237 - var_2257)
				var_2258 = 0
				if ( var_2259 > 0 & var_2254 - var_2259 < 400 & var_2255 < 10 ) {
					var_2258 = 1
				}
				if ( var_2258 == 1 ) {
					if ( vsplay_getstatus() == 0 ) {
						var_2260 = int(1000.0 * (var_2236 + var_2244) / var_2245 + 1000.0 * var_2241 / var_2242 + 0.5)
						vsplay_seek var_67(17), var_2260
						var_67(148) = 1
						var_67(151) = 1
						requestcommand 45
					}
					else {
						requestcommand 45
					}
				}
				else {
					if ( vsplay_getstatus() == 0 ) {
						var_2260 = int(1000.0 * (var_2236 + var_2244) / var_2245 + 1000.0 * var_2241 / var_2242 + 0.5)
						vsplay_seek var_67(17), var_2260
						var_67(148) = 1
						var_67(151) = 1
					}
				}
				var_2256 = var_2236
				var_2257 = var_2237
				var_2259 = var_2254
			}
			if ( var_2232 == 1 & var_2233 == 0 ) {
				if ( var_2261 == 0 ) {
					popupidemenu var_2243
				}
				else {
					var_2261 = 0
				}
			}
			var_2262 = 0
			if ( var_2249 == 0 ) {
				if ( var_67(22) != var_67(23) ) {
					var_2263 = 0.001 * var_67(22) - var_2241 / var_2242
					var_2264 = int(var_2263 * var_2245 + 0.5) - var_2244
					var_2263 = 0.001 * var_67(23) - var_2241 / var_2242
					var_2265 = int(var_2263 * var_2245 + 0.5) - var_2244
					if ( abs(var_2236 - var_2264) <= abs(var_2236 - var_2265) ) {
						if ( abs(var_2236 - var_2264) <= 5 ) {
							var_2262 = 1
							var_67(166) = 32644
						}
					}
					else {
						if ( abs(var_2236 - var_2265) <= 5 ) {
							var_2262 = 2
							var_67(166) = 32644
						}
					}
				}
			}
			if ( var_2230 == 0 & var_2231 == 1 ) {
				var_2266 = int(1000.0 * (var_2236 + var_2244) / var_2245 + 1000.0 * var_2241 / var_2242 + 0.5)
				if ( var_2249 == 0 & var_2234 != 0 ) {
					if ( var_2267 <= var_2266 ) {
						var_67(22) = var_2267
						var_67(23) = var_2266
						var_2262 = 2
					}
					else {
						var_67(22) = var_2266
						var_67(23) = var_2267
						var_2262 = 1
					}
					var_67(22) = limit(var_67(22), 0, var_2248)
					var_67(23) = limit(var_67(23), 0, var_2248)
					var_67(148) = 1
					var_67(247) = 1
					var_67(251) = 1
				}
				if ( var_2249 == 0 ) {
					if ( var_2262 == 0 ) {
						var_2268 = var_2266
						var_2249 = 1
					}
					if ( var_2262 == 1 ) {
						var_2268 = var_67(23)
						var_2249 = 2
						var_2269 = -1
					}
					if ( var_2262 == 2 ) {
						var_2268 = var_67(22)
						var_2249 = 2
						var_2269 = -1
					}
					var_2270 = var_2236 + var_2244
				}
				var_2267 = var_2266
			}
		}
		if ( var_2249 == 1 ) {
			if ( var_2231 == 0 ) {
				var_2249 = 0
			}
			if ( var_2236 + var_2244 != var_2270 ) {
				var_2249 = 2
				var_2269 = -1
			}
		}
		if ( var_2249 == 2 ) {
			var_2271 = int(1000.0 * (var_2236 + var_2244) / var_2245 + 1000.0 * var_2241 / var_2242 + 0.5)
			if ( var_2271 != var_2269 ) {
				var_67(148) = 1
				var_67(247) = 1
				var_67(251) = 1
				var_2269 = var_2271
			}
			if ( var_2268 <= var_2271 ) {
				var_67(22) = var_2268
				var_67(23) = var_2271
			}
			else {
				var_67(22) = var_2271
				var_67(23) = var_2268
			}
			var_67(22) = limit(var_67(22), 0, var_2248)
			var_67(23) = limit(var_67(23), 0, var_2248)
			var_67(166) = 32644
			if ( var_2233 != 0 ) {
				var_67(22) = var_2268
				var_67(23) = var_2268
				var_2249 = 0
				var_67(148) = 1
				var_67(247) = 1
				var_67(251) = 1
				var_2261 = 1
			}
			else {
				if ( var_2231 == 0 ) {
					var_2249 = 0
				}
			}
		}
	}
	return
*label_700
	goto *label_702
#deffunc editidescalepanel
	if ( var_67(198) == 0 ) {
		return
	}
	var_2272 = var_2273
	var_2274 = var_2275
	var_2273 = getkeyflg(var_67(3))
	var_2275 = getkeyflg(var_67(4))
	var_2276 = getkeyflg(16)
	var_2277 = getkeyflg(17)
	if ( getactivewindow() != 12 ) {
		return
	}
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_2278 = limit(var_67(270), 0, var_67(269) - 1)
		var_2279 = getidetabitemnum(var_2278)
		var_2280 = var_340(var_2278 * 51 + 1)
		if ( var_2280 == 0 | var_2280 == 6 ) {
			var_2281 = var_340(var_2278 * 51 + 21)
			var_2282 = var_340(var_2278 * 51 + 22)
		}
	}
	gsel 12
	var_2283 = _mousex() - var_67(221)
	var_2284 = _mousey() - var_67(222)
	if ( var_2283 >= 0 & var_2284 >= 0 & var_2283 < var_67(223) & var_2284 < var_67(224) ) {
		if ( var_67(40) == 0 ) {
			setidevscrollreq var_2284
		}
		else {
			setidevhscrollreqt var_2283, var_2284
		}
		if ( var_2285 == 0 & var_2277 + var_2276 + var_2273 == 3 ) {
			if ( var_2280 == 0 | var_2280 == 6 ) {
				var_2286 = 440.0
				var_2287 = 440.0
				GetPrjItemBaseFreq var_67(17), var_2279, var_2288, var_2289, var_2286
				var_2287 = vslib_getprjitemfreqa4(var_67(17), var_2279)
				var_2285 = 1
				var_2290 = var_2284
				var_2291 = var_2284
			}
		}
	}
	if ( var_2285 == 1 ) {
		var_2292 = 100.0 * (var_2290 - var_2284) / var_2282
		var_2293 = var_2287 * powf(2.0, var_2292 / 1200.0)
		var_2293 = limitf(var_2293, 415.3, 466.17)
		var_2294 = var_2286 * var_2293 / var_2287
		SetPrjItemBaseFreq var_67(17), var_2279, var_2288, var_2289, var_2294
		SetPrjItemFreqA4 var_67(17), var_2279, var_2293
		if ( var_2284 != var_2291 ) {
			var_67(249) = 1
			var_67(248) = 1
			var_2291 = var_2284
		}
		setidestatusstr tltx("基準周波数変更中", "Changing base frequency") + strf(" A4 = %4.2fHz", var_2293), 0
		if ( var_2277 + var_2276 + var_2273 != 3 ) {
			var_2285 = 0
			oneditproject
		}
		if ( var_2275 == 1 ) {
			SetPrjItemBaseFreq var_67(17), var_2279, var_2288, var_2289, var_2286
			SetPrjItemFreqA4 var_67(17), var_2279, var_2287
			var_67(249) = 1
			var_67(248) = 1
			var_2285 = 0
		}
	}
	return
*label_702
	goto *label_709
#deffunc editidegraphpanel
	if ( var_67(198) == 0 ) {
		var_2295 = 0
		return
	}
	idemousewheelscroll_key
	ideclickplay_key
	ideselecttool_key
	idepentool_key
	idelinetool_key
	idenotetool_key
	if ( getactivewindow() != 12 ) {
		var_2295 = 0
		return
	}
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_2296 = limit(var_67(270), 0, var_67(269) - 1)
		var_2297 = getidetabitemnum(var_2296)
		var_2298 = var_340(var_2296 * 51 + 1)
		var_2299 = var_67(185)
		if ( var_2298 == 5 ) {
			var_2299 = 0
		}
		idemousewheelscroll var_2295, var_2300, var_2301, var_2302, var_2303
		ideclickplay
		idecreatepopupdata
		if ( var_2299 == 0 ) {
			ideselecttool var_2301
		}
		if ( var_2299 == 1 ) {
			idepentool
		}
		if ( var_2299 == 2 ) {
			idelinetool var_2302
		}
		if ( var_2299 == 3 ) {
			idenotetool var_2303
		}
	}
	else {
		var_2295 = 0
	}
	return
#deffunc setidecomreq int prm_1288, int prm_1289
	var_2295 = prm_1288
	var_2300 = prm_1289
	return
#defcfunc getidephase
	var_2304 = 0
	if ( var_2301 != 0 | var_2302 != 0 | var_2303 != 0 ) {
		var_2304 = 1
	}
	return var_2304
#defcfunc getideselphase
	return var_2301
#defcfunc getidelinephase
	return var_2302
#defcfunc getidenotephase
	return var_2303
*label_709
	goto *label_712
#deffunc idemousewheelscroll_key
	var_2305 = var_2306
	var_2307 = var_2308
	var_2309 = var_2310
	var_2311 = var_2312
	var_2313 = var_2314
	var_2315 = var_2316
	var_2306 = getkeyflg(var_67(3))
	var_2308 = getkeyflg(var_67(4))
	var_2310 = getkeyflg(4)
	var_2312 = getkeyflg(16)
	var_2314 = getkeyflg(17)
	var_2316 = getkeyflg(18)
	return
#deffunc idemousewheelscroll var prm_1290, var prm_1291, int prm_1292, int prm_1293, int prm_1294
	gsel 12
	var_2317 = _mousex() - var_67(225)
	var_2318 = _mousey() - var_67(226)
	var_2319 = var_67(227)
	var_2320 = var_67(228)
	var_2321 = limit(var_67(270), 0, var_67(269) - 1)
	var_2322 = getidetabitemnum(var_2321)
	var_2323 = var_340(var_2321 * 51 + 1)
	var_2324 = var_340(var_2321 * 51 + (2 + var_2323))
	var_2325 = GetPrjItem(var_67(17), var_2322)
	var_2326 = GetII_nCtrlPnt(var_2325)
	var_2327 = GetII_ctrlPntPs(var_2325)
	var_2328 = GetII_sampFreq(var_2325)
	var_2329 = vslib_getprjitemfreqa4(var_67(17), var_2322)
	var_2330 = GetPrjItemKey(var_67(17), var_2322)
	var_2331 = GetPrjItemTune(var_67(17), var_2322)
	var_2332 = 0
	if ( var_2317 >= 0 & var_2318 >= 0 & var_2317 < var_67(227) & var_2318 < var_67(228) ) {
		var_2332 = 1
	}
	var_2333 = var_340(var_2321 * 51 + 18)
	var_2334 = var_340(var_2321 * 51 + 19)
	var_2335 = 0
	var_2336 = 100
	if ( var_2323 == 0 | var_2323 == 6 ) {
		var_2335 = var_340(var_2321 * 51 + 21)
		var_2336 = var_340(var_2321 * 51 + 22)
	}
	if ( var_2323 == 1 ) {
		var_2335 = var_340(var_2321 * 51 + 23)
		var_2336 = var_340(var_2321 * 51 + 24)
	}
	var_2337 = "" + var_2328 + "Hz  "
	if ( var_2334 <= 6400 | (var_2328 \ var_2334 != 0 & var_2334 \ var_2328 != 0) ) {
		var_2337 += "1sec : " + var_2334 + "pixel"
	}
	else {
		if ( var_2334 <= var_2328 ) {
			var_2337 += "" + var_2328 / var_2334 + "sample : 1pixel"
		}
		else {
			var_2337 += "1sample : " + var_2334 / var_2328 + "pixel"
		}
	}
	setidestatusstrright var_2337
	if ( var_2332 == 1 ) {
		if ( var_67(40) == 0 ) {
			setidevhscrollreq var_2317, var_2318
		}
		else {
			setidevhscrollreqt var_2317, var_2318
		}
		if ( var_2338 == 0 ) {
			if ( var_2310 == 1 & var_2309 == 0 ) {
				var_2339 = var_2333
				var_2340 = var_2335
				var_2341 = var_2317
				var_2342 = var_2318
				var_2343 = -1
				var_2344 = -1
				var_2338 = 1
			}
		}
	}
	if ( prm_1290 >= 1 & prm_1290 <= 9 ) {
		createxzoomlist var_2345, var_2346, var_2328
		if ( prm_1290 == 1 ) {
			var_2333 -= 50
		}
		if ( prm_1290 == 2 ) {
			var_2333 += 50
		}
		if ( prm_1290 == 6 ) {
			var_2333 -= var_67(227)
		}
		if ( prm_1290 == 7 ) {
			var_2333 += var_67(227)
		}
		if ( prm_1290 == 8 ) {
			var_2333 = 0
		}
		if ( prm_1290 == 9 ) {
			var_2333 = 1073741823
		}
		if ( prm_1290 == 3 ) {
			if ( (prm_1291 & 65536) != 0 ) {
				var_2347 = prm_1291 & 65535
			}
			else {
				if ( var_2332 == 1 ) {
					var_2347 = var_2317
				}
				else {
					var_2347 = var_67(227) / 2
				}
			}
			var_2348 = var_2333 + var_2347
			repeat var_2346 - 1
				if ( var_2345(cnt) == var_2334 ) {
					var_2334 = var_2345(cnt + 1)
					var_2348 = int(double(var_2348) * var_2345(cnt + 1) / var_2345(cnt))
					break
				}
			loop
			var_2333 = var_2348 - var_2347
		}
		if ( prm_1290 == 4 ) {
			if ( (prm_1291 & 65536) != 0 ) {
				var_2347 = prm_1291 & 65535
			}
			else {
				if ( var_2332 == 1 ) {
					var_2347 = var_2317
				}
				else {
					var_2347 = var_67(227) / 2
				}
			}
			var_2348 = var_2333 + var_2347
			repeat var_2346 - 1, 1
				if ( var_2345(cnt) == var_2334 ) {
					var_2334 = var_2345(cnt - 1)
					var_2348 = int(double(var_2348) * var_2345(cnt - 1) / var_2345(cnt))
					break
				}
			loop
			var_2333 = var_2348 - var_2347
		}
		if ( prm_1290 == 5 ) {
			var_2348 = var_2333 + var_67(227) / 2
			var_2348 = int(double(var_2348) * var_2328 / var_2334)
			var_2334 = var_2328
			var_2333 = var_2348 - var_67(227) / 2
		}
		if ( prm_1290 == 1 | prm_1290 == 2 | prm_1290 == 6 | prm_1290 == 7 ) {
			if ( var_67(43) != 0 ) {
				if ( vsplay_getstatus(var_67(17)) == 1 ) {
					var_67(179) = 0
					setautoscrollenablerequest
				}
			}
		}
		var_2349 = 1
		var_2350 = 1
		var_67(249) = 1
		var_67(247) = 1
		var_67(251) = 1
		prm_1290 = 0
	}
	if ( prm_1290 >= 10 & prm_1290 <= 13 ) {
		var_2351(0) = 4, 5, 6, 8, 10, 15, 20, 30, 40, 50, 60, 80, 100
		var_2346 = 13
		if ( prm_1290 == 10 ) {
			var_2335 -= 50
		}
		if ( prm_1290 == 11 ) {
			var_2335 += 50
		}
		if ( prm_1290 == 12 ) {
			if ( (prm_1291 & 65536) != 0 ) {
				var_2352 = prm_1291 & 65535
			}
			else {
				if ( var_2332 == 1 ) {
					var_2352 = var_2318
				}
				else {
					var_2352 = var_67(228) / 2
				}
			}
			var_2353 = var_2335 + var_2352
			if ( var_2323 == 0 | var_2323 == 6 | var_2323 == 1 ) {
				repeat var_2346 - 1
					if ( var_2351(cnt) == var_2336 ) {
						var_2336 = var_2351(cnt + 1)
						var_2353 = int(double(var_2353) * var_2351(cnt + 1) / var_2351(cnt))
						break
					}
				loop
			}
			var_2335 = var_2353 - var_2352
		}
		if ( prm_1290 == 13 ) {
			if ( (prm_1291 & 65536) != 0 ) {
				var_2352 = prm_1291 & 65535
			}
			else {
				if ( var_2332 == 1 ) {
					var_2352 = var_2318
				}
				else {
					var_2352 = var_67(228) / 2
				}
			}
			var_2353 = var_2335 + var_2352
			if ( var_2323 == 0 | var_2323 == 6 | var_2323 == 1 ) {
				repeat var_2346 - 1, 1
					if ( var_2351(cnt) == var_2336 ) {
						var_2336 = var_2351(cnt - 1)
						var_2353 = int(double(var_2353) * var_2351(cnt - 1) / var_2351(cnt))
						break
					}
				loop
			}
			var_2335 = var_2353 - var_2352
		}
		var_2349 = 1
		var_67(249) = 1
		var_67(248) = 1
		prm_1290 = 0
	}
	if ( var_2338 == 1 ) {
		var_2333 = var_2339 + var_2341 - var_2317
		var_2335 = var_2340 + var_2342 - var_2318
		var_2350 = 1
		var_2349 = 1
		if ( var_2333 != var_2343 | var_2335 != var_2344 ) {
			var_67(249) = 1
			var_67(247) = 1
			var_67(251) = 1
			var_67(248) = 1
			var_2343 = var_2333
			var_2344 = var_2335
			if ( var_67(43) != 0 ) {
				if ( vsplay_getstatus(var_67(17)) == 1 ) {
					var_67(179) = 0
					setautoscrollenablerequest
				}
			}
		}
		if ( var_2310 == 0 ) {
			var_2338 = 0
		}
	}
	var_2354 = 0
	var_2355 = 0
	if ( prm_1292 == 2 ) {
		var_2354 = 1
	}
	if ( prm_1292 == 5 ) {
		var_2354 = 1
	}
	if ( prm_1292 == 3 & var_2314 == 0 ) {
		var_2355 = 1
	}
	if ( prm_1294 == 4 ) {
		var_2354 = 1
		var_2355 = 1
	}
	if ( prm_1294 == 2 ) {
		var_2355 = 1
	}
	if ( prm_1293 != 0 ) {
		var_2354 = 1
		var_2355 = 1
	}
	if ( var_2354 == 1 ) {
		if ( var_2317 >= var_67(227) - 20 ) {
			var_2333 += cnvscrollsize((var_2356 / 120 + 1) * 5) * var_67(61) / 100
			var_2349 = 1
			var_67(249) = 1
			var_67(247) = 1
			var_67(251) = 1
			var_2356 += cnvscrollsize(1)
		}
		else {
			if ( var_2317 <= 20 ) {
				var_2333 -= cnvscrollsize((var_2356 / 120 + 1) * 5) * var_67(61) / 100
				var_2349 = 1
				var_67(249) = 1
				var_67(247) = 1
				var_67(251) = 1
				var_2356 += cnvscrollsize(1)
			}
			else {
				var_2356 = 0
			}
		}
	}
	if ( var_2355 == 1 ) {
		if ( var_2318 >= var_67(228) - 20 ) {
			var_2335 += cnvscrollsize(5) * var_67(61) / 100
			var_2349 = 1
			var_67(249) = 1
			var_67(248) = 1
		}
		if ( var_2318 <= 20 ) {
			var_2335 -= cnvscrollsize(5) * var_67(61) / 100
			var_2349 = 1
			var_67(249) = 1
			var_67(248) = 1
		}
	}
	if ( var_2354 == 0 & var_2355 == 0 ) {
		var_2356 = 0
	}
	if ( var_2349 == 1 ) {
		var_2357 = GetII_editSample(var_2325)
		var_2358 = int(double(var_2357) * var_2334 / var_2328) - var_67(227) / 2
		if ( var_2333 > var_2358 & prm_1292 != 5 ) {
			var_2333 = var_2358
		}
		if ( var_2333 < 0 ) {
			var_2333 = 0
		}
		var_2359 = 0
		if ( var_2323 == 0 | var_2323 == 6 ) {
			var_2359 = var_2336 * 128
		}
		if ( var_2323 == 1 ) {
			var_2359 = var_2336 * 48
		}
		if ( var_2335 > var_2359 - var_67(228) ) {
			var_2335 = var_2359 - var_67(228)
		}
		if ( var_2335 < 0 ) {
			var_2335 = 0
		}
		var_2349 = 0
	}
	var_340(var_2321 * 51 + 18) = var_2333
	var_340(var_2321 * 51 + 19) = var_2334
	if ( var_2323 == 0 | var_2323 == 6 ) {
		var_340(var_2321 * 51 + 21) = var_2335
		var_340(var_2321 * 51 + 22) = var_2336
	}
	if ( var_2323 == 1 ) {
		var_340(var_2321 * 51 + 23) = var_2335
		var_340(var_2321 * 51 + 24) = var_2336
	}
	if ( var_2350 == 1 ) {
		chkdisableidescroll
		var_2350 = 0
	}
	return
*label_712
	goto *label_716
#deffunc ideclickplay_key
	var_2360 = var_2361
	var_2362 = var_2363
	var_2364 = var_2365
	var_2366 = var_2367
	var_2368 = var_2369
	var_2370 = var_2371
	var_2361 = getkeyflg(var_67(3))
	var_2363 = getkeyflg(var_67(4))
	var_2365 = getkeyflg(4)
	var_2367 = getkeyflg(16)
	var_2369 = getkeyflg(17)
	var_2371 = getkeyflg(18)
	return
#deffunc ideclickplay
	gsel 12
	var_2372 = _mousex() - var_67(225)
	var_2373 = _mousey() - var_67(226)
	var_2374 = var_67(227)
	var_2375 = var_67(228)
	var_2376 = limit(var_67(270), 0, var_67(269) - 1)
	var_2377 = getidetabitemnum(var_2376)
	var_2378 = var_340(var_2376 * 51 + 1)
	var_2379 = var_340(var_2376 * 51 + (2 + var_2378))
	var_2380 = GetPrjItem(var_67(17), var_2377)
	var_2381 = GetII_nCtrlPnt(var_2380)
	var_2382 = GetII_ctrlPntPs(var_2380)
	var_2383 = GetII_sampFreq(var_2380)
	var_2384 = vslib_getprjitemfreqa4(var_67(17), var_2377)
	var_2385 = GetPrjItemKey(var_67(17), var_2377)
	var_2386 = GetPrjItemTune(var_67(17), var_2377)
	var_2387 = 0
	if ( var_2372 >= 0 & var_2373 >= 0 & var_2372 < var_67(227) & var_2373 < var_67(228) ) {
		var_2387 = 1
	}
	var_2388 = var_340(var_2376 * 51 + 18)
	var_2389 = var_340(var_2376 * 51 + 19)
	var_2390 = 0
	var_2391 = 100
	if ( var_2378 == 0 | var_2378 == 6 ) {
		var_2390 = var_340(var_2376 * 51 + 21)
		var_2391 = var_340(var_2376 * 51 + 22)
	}
	if ( var_2378 == 1 ) {
		var_2390 = var_340(var_2376 * 51 + 23)
		var_2391 = var_340(var_2376 * 51 + 24)
	}
	if ( var_2387 == 1 ) {
		if ( var_2360 == 0 & var_2361 == 1 ) {
			var_2392 = GetTickCount()
			var_2393 = abs(var_2372 - var_2394) + abs(var_2373 - var_2395)
			var_2396 = 0
			if ( var_2392 - var_2397 < 400 & var_2393 < 10 ) {
				var_2396 = 1
			}
			if ( var_2396 == 1 ) {
				if ( vsplay_getstatus() == 0 ) {
					var_2398 = vslib_getprjitemoffset(var_67(17), var_2377)
					var_2399 = var_2372 + var_2388
					var_2400 = int(1000.0 * var_2399 / var_2389 + 1000.0 * var_2398 / var_2383 + 0.5)
					vsplay_seek var_67(17), var_2400
					var_67(148) = 1
					var_67(151) = 1
					requestcommand 45
				}
				else {
					requestcommand 45
				}
			}
			else {
				if ( vsplay_getstatus() == 0 ) {
					var_2398 = vslib_getprjitemoffset(var_67(17), var_2377)
					var_2399 = var_2372 + var_2388
					var_2400 = int(1000.0 * var_2399 / var_2389 + 1000.0 * var_2398 / var_2383 + 0.5)
					vsplay_seek var_67(17), var_2400
					var_67(148) = 1
					var_67(151) = 1
				}
			}
			var_2394 = var_2372
			var_2395 = var_2373
			var_2397 = var_2392
		}
	}
	return
#deffunc cancelclickplay
	var_2397 = 0
	return
*label_716
	goto *label_719
#deffunc idecreatepopupdata
	gsel 12
	var_2401 = _mousex() - var_67(225)
	var_2402 = _mousey() - var_67(226)
	var_2403 = var_67(227)
	var_2404 = var_67(228)
	var_2405 = limit(var_67(270), 0, var_67(269) - 1)
	var_2406 = getidetabitemnum(var_2405)
	var_2407 = var_340(var_2405 * 51 + 1)
	var_2408 = var_340(var_2405 * 51 + (2 + var_2407))
	var_2409 = GetPrjItem(var_67(17), var_2406)
	var_2410 = GetII_nCtrlPnt(var_2409)
	var_2411 = GetII_ctrlPntPs(var_2409)
	var_2412 = GetII_sampFreq(var_2409)
	var_2413 = vslib_getprjitemfreqa4(var_67(17), var_2406)
	var_2414 = GetPrjItemKey(var_67(17), var_2406)
	var_2415 = GetPrjItemTune(var_67(17), var_2406)
	var_2416 = GetPrjItemTrackNum(var_67(17), var_2406)
	var_2417 = GetTrackMorphingGroup(var_67(17), var_2416)
	var_2418 = GetIP_synthMode(var_2409)
	if ( var_2418 == 8 & var_2417 != 0 ) {
		var_2419 = 1
	}
	else {
		var_2419 = 0
	}
	var_2420 = 0
	if ( var_2401 >= 0 & var_2402 >= 0 & var_2401 < var_67(227) & var_2402 < var_67(228) ) {
		var_2420 = 1
	}
	var_2421 = var_340(var_2405 * 51 + 18)
	var_2422 = var_340(var_2405 * 51 + 19)
	var_2423 = 0
	var_2424 = 100
	if ( var_2407 == 0 | var_2407 == 6 ) {
		var_2423 = var_340(var_2405 * 51 + 21)
		var_2424 = var_340(var_2405 * 51 + 22)
	}
	if ( var_2407 == 1 ) {
		var_2423 = var_340(var_2405 * 51 + 23)
		var_2424 = var_340(var_2405 * 51 + 24)
	}
	if ( var_67(186) == 1 ) {
		var_2425 = double(var_2401 + var_2421) / var_2422
		var_2426 = vslib_getstretchorgsec(var_2409, var_2425, var_2427)
		var_2428 = limit(int(var_2426 * var_2411 + 0.5), 0, var_2410)
		var_2429 = limit(int(var_2426 * var_2411), 0, var_2410 - 1)
		var_2413 = vslib_getprjitemfreqa4(var_67(17), var_2406)
		var_2414 = GetPrjItemKey(var_67(17), var_2406)
		var_2415 = GetPrjItemTune(var_67(17), var_2406)
		var_2430 = ""
		var_2431 = 20
		if ( var_2420 == 1 ) {
			var_2432 = var_2407
			if ( 0 ) {
				var_2433++
			}
			if ( var_2432 == 0 | var_2433 ) {
				var_2433 = 0
				var_2434 = GetICP_pit_edit(var_2409, var_2429)
				var_2435 = 128 * var_2424 - 1 - var_2423 - (var_2434 * var_2424 + 50) / 100
				if ( abs(var_2402 - var_2435) <= var_2431 ) {
					var_2430 = getcentname(var_2434, var_2413, var_2414, var_2415, var_2406)
					var_2430 += " " + getfreqstr(var_2434)
				}
				goto *label_718
				var_2433++
			}
			if ( var_2432 == 1 | var_2433 ) {
				var_2433 = 0
				var_2436 = GetICP_frm(var_2409, var_2429)
				var_2435 = 48 * var_2424 - 1 - var_2423 - ((var_2436 + 2400) * var_2424 + 50) / 100
				if ( abs(var_2402 - var_2435) <= var_2431 ) {
					var_2430 = strf("%+dcent", var_2436)
				}
				goto *label_718
				var_2433++
			}
			if ( var_2432 == 2 | var_2433 ) {
				var_2433 = 0
				var_2437 = vslib_geticp_vol(var_2409, var_2429)
				if ( var_67(194) == 0 ) {
					var_2435 = var_2404 - 20 - int(var_2437 * 0.5 * (var_2404 - 40) + 0.5)
				}
				else {
					var_2438 = 12.0
					var_2439 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
					var_2440 = 20.0 * logf(var_2437) / logf(10.0)
					var_2435 = var_2404 - 20 - int((var_2440 - var_2439) / (var_2438 - var_2439) * (var_2404 - 40) + 0.5)
				}
				if ( abs(var_2402 - var_2435) <= var_2431 ) {
					if ( var_2437 == 0.0 ) {
						var_2430 = "-infdB"
					}
					else {
						var_2430 = strf("%+3.1fdB", 20.0 * logf(var_2437) / logf(10.0))
					}
				}
				goto *label_718
				var_2433++
			}
			if ( var_2432 == 3 | var_2433 ) {
				var_2433 = 0
				var_2441 = vslib_geticp_pan(var_2409, var_2429)
				var_2435 = var_2404 - 20 - int((var_2441 + 1.0) * 0.5 * (var_2404 - 40) + 0.5)
				if ( abs(var_2402 - var_2435) <= var_2431 ) {
					var_2430 = strf("%+4.2f", var_2441)
				}
				goto *label_718
				var_2433++
			}
			if ( var_2432 == 4 | var_2433 ) {
				var_2433 = 0
				var_2442 = vslib_geticp_dyn_edit(var_2409, var_2429)
				if ( var_67(194) == 0 ) {
					var_2435 = var_2404 - 20 - int(var_2442 * (var_2404 - 40) + 0.5)
				}
				else {
					var_2438 = 0.0
					var_2439 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
					var_2440 = 20.0 * logf(var_2442) / logf(10.0)
					var_2435 = var_2404 - 20 - int((var_2440 - var_2439) / (var_2438 - var_2439) * (var_2404 - 40) + 0.5)
				}
				if ( abs(var_2402 - var_2435) <= var_2431 ) {
					if ( var_2442 == 0.0 ) {
						var_2430 = "-infdB"
					}
					else {
						var_2430 = strf("%+3.1fdB", 20.0 * logf(var_2442) / logf(10.0))
					}
				}
				goto *label_718
				var_2433++
			}
			if ( var_2432 == 5 | var_2433 ) {
				var_2433 = 0
				goto *label_718
				var_2433++
			}
			if ( var_2432 == 6 | var_2433 ) {
				var_2433 = 0
				var_2434 = GetICP_pit_org(var_2409, var_2429)
				var_2435 = 128 * var_2424 - 1 - var_2423 - (var_2434 * var_2424 + 50) / 100
				if ( abs(var_2402 - var_2435) <= var_2431 ) {
					var_2430 = getcentname(var_2434, var_2413, var_2414, var_2415, var_2406)
					var_2430 += " " + getfreqstr(var_2434)
				}
				goto *label_718
				var_2433++
			}
			if ( var_2432 == 7 | var_2433 ) {
				var_2433 = 0
				var_2443 = 0.01 * GetICP_breathiness(var_2409, var_2429)
				var_2435 = var_2404 - 20 - int((var_2443 + 100.0) / 200.0 * (var_2404 - 40) + 0.5)
				if ( abs(var_2402 - var_2435) <= var_2431 ) {
					var_2430 = strf("%+3.1f", var_2443)
				}
				goto *label_718
				var_2433++
			}
			if ( var_2432 == 8 | var_2433 ) {
				var_2433 = 0
				var_2444 = 0.01 * GetICP_brightness(var_2409, var_2429)
				var_2435 = var_2404 - 20 - int((var_2444 + 100.0) / 200.0 * (var_2404 - 40) + 0.5)
				if ( abs(var_2402 - var_2435) <= var_2431 ) {
					var_2430 = strf("%+3.1f", var_2444)
				}
				goto *label_718
				var_2433++
			}
			if ( var_2432 == 9 | var_2433 ) {
				var_2433 = 0
				var_2445 = 0.01 * GetICP_clearness(var_2409, var_2429)
				var_2435 = var_2404 - 20 - int((var_2445 + 100.0) / 200.0 * (var_2404 - 40) + 0.5)
				if ( abs(var_2402 - var_2435) <= var_2431 ) {
					var_2430 = strf("%+3.1f", var_2445)
				}
				goto *label_718
				var_2433++
			}
			if ( var_2432 == 10 | var_2433 ) {
				var_2433 = 0
				var_2446 = 0.01 * GetICP_Heq(var_2409, var_2429)
				if ( var_2419 == 0 ) {
					var_2435 = var_2404 - 20 - int((var_2446 + 100.0) / 200.0 * (var_2404 - 40) + 0.5)
				}
				else {
					var_2435 = var_2404 - 20 - int((var_2446 + 100.0) / 100.0 * (var_2404 - 40) + 0.5)
				}
				if ( abs(var_2402 - var_2435) <= var_2431 ) {
					var_2430 = strf("%+3.1f", var_2446)
				}
				goto *label_718
			}
		}
*label_718
		if ( var_2430 != "" ) {
			var_2426 = (0.5 + var_2429) / var_2411
			var_2425 = vslib_getstretchedtsec(var_2409, var_2426, var_2427)
			var_67(272) = int(var_2425 * var_2422 - var_2421)
			var_67(273) = var_2435
			var_392(15) = var_2430
		}
		else {
			var_67(272) = -1
			var_67(273) = -1
			var_392(15) = ""
		}
	}
	return
*label_719
	goto *label_731
#deffunc ideselecttool_key
	var_2447 = var_2448
	var_2449 = var_2450
	var_2451 = var_2452
	var_2453 = var_2454
	var_2455 = var_2456
	var_2457 = var_2458
	var_2448 = getkeyflg(var_67(3))
	var_2450 = getkeyflg(var_67(4))
	var_2452 = getkeyflg(4)
	var_2454 = getkeyflg(16)
	var_2456 = getkeyflg(17)
	var_2458 = getkeyflg(18)
	return
#deffunc ideselecttool var prm_1295
	gsel 12
	var_2459 = _mousex() - var_67(225)
	var_2460 = _mousey() - var_67(226)
	var_2461 = var_67(227)
	var_2462 = var_67(228)
	var_2463 = limit(var_67(270), 0, var_67(269) - 1)
	var_2464 = getidetabitemnum(var_2463)
	var_2465 = var_340(var_2463 * 51 + 1)
	var_2466 = var_340(var_2463 * 51 + (2 + var_2465))
	var_2467 = GetPrjItem(var_67(17), var_2464)
	var_2468 = GetII_nCtrlPnt(var_2467)
	var_2469 = GetII_ctrlPntPs(var_2467)
	var_2470 = GetII_sampFreq(var_2467)
	var_2471 = vslib_getprjitemfreqa4(var_67(17), var_2464)
	var_2472 = GetPrjItemKey(var_67(17), var_2464)
	var_2473 = GetPrjItemTune(var_67(17), var_2464)
	var_2474 = GetPrjItemTrackNum(var_67(17), var_2464)
	var_2475 = GetTrackMorphingGroup(var_67(17), var_2474)
	var_2476 = GetIP_synthMode(var_2467)
	if ( var_2476 == 8 & var_2475 != 0 ) {
		var_2477 = 1
	}
	else {
		var_2477 = 0
	}
	var_2478 = 0
	if ( var_2459 >= 0 & var_2460 >= 0 & var_2459 < var_67(227) & var_2460 < var_67(228) ) {
		var_2478 = 1
	}
	var_2479 = var_340(var_2463 * 51 + 18)
	var_2480 = var_340(var_2463 * 51 + 19)
	var_2481 = 0
	var_2482 = 100
	if ( var_2465 == 0 | var_2465 == 6 ) {
		var_2481 = var_340(var_2463 * 51 + 21)
		var_2482 = var_340(var_2463 * 51 + 22)
	}
	if ( var_2465 == 1 ) {
		var_2481 = var_340(var_2463 * 51 + 23)
		var_2482 = var_340(var_2463 * 51 + 24)
	}
	var_2483 = double(var_2459 + var_2479) / var_2480
	var_2484 = vslib_getstretchorgsec(var_2467, var_2483, var_2485)
	var_2486 = limit(int(var_2484 * var_2469 + 0.5), 0, var_2468)
	var_2487 = limit(int(var_2484 * var_2469), 0, var_2468 - 1)
	if ( var_2449 == 1 & var_2450 == 0 ) {
		if ( prm_1295 == 0 & var_2478 == 1 & var_2488 == 0 ) {
			popupidemenu var_2465
		}
		else {
			var_2488 = 0
		}
	}
	if ( var_2457 == 0 & var_2458 == 1 ) {
		var_2489(0) = 0.0, 1.0 / 3.0, 2.0 / 3.0, 1.0
		var_2489(4) = 0.0, 0.0, 0.0, 0.0
		var_2490 = var_340(var_2463 * 51 + 25)
		var_2491 = var_340(var_2463 * 51 + 26) - var_2490
		dimtype var_2492, 3, var_2491, 0, 0, 0
		dimtype var_2493, 3, var_2491, 0, 0, 0
		var_2494 = 0.0
		var_2495 = 0
		repeat var_2491
			var_2496 = var_2465
			if ( 0 ) {
				var_2497++
			}
			if ( var_2496 == 0 | var_2497 ) {
				var_2497 = 0
				var_2493(cnt) = double(GetICP_pit_edit(var_2467, var_2490 + cnt))
				goto *label_722
				var_2497++
			}
			if ( var_2496 == 1 | var_2497 ) {
				var_2497 = 0
				var_2493(cnt) = double(GetICP_frm(var_2467, var_2490 + cnt))
				goto *label_722
				var_2497++
			}
			if ( var_2496 == 2 | var_2497 ) {
				var_2497 = 0
				if ( var_67(194) == 0 ) {
					var_2493(cnt) = vslib_geticp_vol(var_2467, var_2490 + cnt)
				}
				else {
					var_2498 = vslib_geticp_vol(var_2467, var_2490 + cnt)
					var_2493(cnt) = 20.0 * logf(var_2498) / logf(10.0)
				}
				goto *label_722
				var_2497++
			}
			if ( var_2496 == 3 | var_2497 ) {
				var_2497 = 0
				var_2493(cnt) = vslib_geticp_pan(var_2467, var_2490 + cnt)
				goto *label_722
				var_2497++
			}
			if ( var_2496 == 4 | var_2497 ) {
				var_2497 = 0
				if ( var_67(194) == 0 ) {
					var_2493(cnt) = vslib_geticp_dyn_edit(var_2467, var_2490 + cnt)
				}
				else {
					var_2499 = vslib_geticp_dyn_edit(var_2467, var_2490 + cnt)
					var_2493(cnt) = 20.0 * logf(var_2499) / logf(10.0)
				}
				goto *label_722
				var_2497++
			}
			if ( var_2496 == 7 | var_2497 ) {
				var_2497 = 0
				var_2493(cnt) = double(GetICP_breathiness(var_2467, var_2490 + cnt))
				goto *label_722
				var_2497++
			}
			if ( var_2496 == 8 | var_2497 ) {
				var_2497 = 0
				var_2493(cnt) = double(GetICP_brightness(var_2467, var_2490 + cnt))
				goto *label_722
				var_2497++
			}
			if ( var_2496 == 9 | var_2497 ) {
				var_2497 = 0
				var_2493(cnt) = double(GetICP_clearness(var_2467, var_2490 + cnt))
				goto *label_722
				var_2497++
			}
			if ( var_2496 == 10 | var_2497 ) {
				var_2497 = 0
				var_2493(cnt) = double(GetICP_Heq(var_2467, var_2490 + cnt))
				goto *label_722
			}
*label_722
			var_2496 = var_2465
			if ( 0 ) {
				var_2497++
			}
			if ( var_2496 == 0 | var_2497 ) {
				var_2497 = 0
				var_2497++
			}
			if ( var_2496 == 1 | var_2497 ) {
				var_2497 = 0
				if ( GetICP_fix_edit(var_2467, var_2490 + cnt) == 0 ) {
					var_2494 += var_2493(cnt)
					var_2495++
				}
				goto *label_723
				var_2497++
			}
			if ( var_2496 == 2 | var_2497 ) {
				var_2497 = 0
				var_2497++
			}
			if ( var_2496 == 3 | var_2497 ) {
				var_2497 = 0
				var_2497++
			}
			if ( var_2496 == 4 | var_2497 ) {
				var_2497 = 0
				var_2497++
			}
			if ( var_2496 == 7 | var_2497 ) {
				var_2497 = 0
				var_2497++
			}
			if ( var_2496 == 8 | var_2497 ) {
				var_2497 = 0
				var_2497++
			}
			if ( var_2496 == 9 | var_2497 ) {
				var_2497 = 0
				var_2497++
			}
			if ( var_2496 == 10 | var_2497 ) {
				var_2497 = 0
				var_2494 += var_2493(cnt)
				var_2495++
				goto *label_723
			}
*label_723
		loop
		if ( var_2495 != 0 ) {
			var_2494 = var_2494 / var_2495
		}
		var_2500 = 0
		var_67(249) = 1
	}
	if ( var_2457 == 1 & var_2458 == 0 ) {
		if ( var_2500 == 1 ) {
			SetNotePitch var_2467
			oneditproject
		}
		var_67(249) = 1
	}
	if ( var_2458 == 1 ) {
		repeat 4
			var_2484 = (var_2489(cnt) * var_2491 + var_2490) / var_2469
			var_2483 = vslib_getstretchedtsec(var_2467, var_2484, var_2485)
			var_2501(cnt * 2 + 0) = int(var_2483 * var_2480 + 0.5) - var_2479
			var_2502 = var_2494 + var_2489(4 + cnt)
			var_2496 = var_2465
			if ( 0 ) {
				var_2497++
			}
			if ( var_2496 == 0 | var_2497 ) {
				var_2497 = 0
				var_2501(cnt * 2 + 1) = 128 * var_2482 - 1 - var_2481 - (int(var_2502) * var_2482 + 50) / 100
				goto *label_724
				var_2497++
			}
			if ( var_2496 == 1 | var_2497 ) {
				var_2497 = 0
				var_2501(cnt * 2 + 1) = 48 * var_2482 - 1 - var_2481 - ((int(var_2502) + 2400) * var_2482 + 50) / 100
				goto *label_724
				var_2497++
			}
			if ( var_2496 == 2 | var_2497 ) {
				var_2497 = 0
				if ( var_67(194) == 0 ) {
					var_2501(cnt * 2 + 1) = var_2462 - 20 - int(var_2502 * 0.5 * (var_2462 - 40) + 0.5)
				}
				else {
					var_2503 = 12.0
					var_2504 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
					var_2501(cnt * 2 + 1) = var_2462 - 20 - int((var_2502 - var_2504) / (var_2503 - var_2504) * (var_2462 - 40) + 0.5)
				}
				goto *label_724
				var_2497++
			}
			if ( var_2496 == 3 | var_2497 ) {
				var_2497 = 0
				var_2501(cnt * 2 + 1) = var_2462 - 20 - int((var_2502 + 1.0) * 0.5 * (var_2462 - 40) + 0.5)
				goto *label_724
				var_2497++
			}
			if ( var_2496 == 4 | var_2497 ) {
				var_2497 = 0
				if ( var_67(194) == 0 ) {
					var_2501(cnt * 2 + 1) = var_2462 - 20 - int(var_2502 * (var_2462 - 40) + 0.5)
				}
				else {
					var_2503 = 0.0
					var_2504 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
					var_2501(cnt * 2 + 1) = var_2462 - 20 - int((var_2502 - var_2504) / (var_2503 - var_2504) * (var_2462 - 40) + 0.5)
				}
				goto *label_724
				var_2497++
			}
			if ( var_2496 == 7 | var_2497 ) {
				var_2497 = 0
				var_2497++
			}
			if ( var_2496 == 8 | var_2497 ) {
				var_2497 = 0
				var_2497++
			}
			if ( var_2496 == 9 | var_2497 ) {
				var_2497 = 0
				var_2501(cnt * 2 + 1) = var_2462 - 20 - int((var_2502 + 10000.0) / 20000.0 * (var_2462 - 40) + 0.5)
				goto *label_724
				var_2497++
			}
			if ( var_2496 == 10 | var_2497 ) {
				var_2497 = 0
				var_2505 = -10000
				var_2506 = 10000
				if ( var_2477 ) {
					var_2506 = 0
				}
				var_2507 = var_2506 - var_2505
				var_2501(cnt * 2 + 1) = var_2462 - 20 - int((var_2502 - var_2505) / var_2507 * (var_2462 - 40) + 0.5)
				goto *label_724
			}
*label_724
		loop
	}
	var_2508 = 0
	var_2509 = -1
	var_2510 = 0
	var_2511 = -1
	if ( var_2478 == 1 & prm_1295 == 0 ) {
		if ( var_2458 == 0 ) {
			if ( var_340(var_2463 * 51 + 25) != var_340(var_2463 * 51 + 26) ) {
				var_2484 = double(var_340(var_2463 * 51 + 25)) / var_2469
				var_2483 = vslib_getstretchedtsec(var_2467, var_2484, var_2485)
				var_2512 = int(var_2483 * var_2480 + 0.5) - var_2479
				var_2484 = double(var_340(var_2463 * 51 + 26)) / var_2469
				var_2483 = vslib_getstretchedtsec(var_2467, var_2484, var_2485)
				var_2513 = int(var_2483 * var_2480 + 0.5) - var_2479
				if ( abs(var_2459 - var_2512) <= abs(var_2459 - var_2513) ) {
					if ( abs(var_2459 - var_2512) <= 5 ) {
						var_2508 = 1
						var_67(166) = 32644
					}
				}
				else {
					if ( abs(var_2459 - var_2513) <= 5 ) {
						var_2508 = 2
						var_67(166) = 32644
					}
				}
			}
		}
		if ( var_2458 == 0 ) {
			if ( var_2465 == 5 ) {
				var_2514 = GetII_nTctrlPrm(var_2467)
				var_2515 = 0.0
				var_2516 = 0.0
				repeat var_2514 - 1
					var_2517 = var_2514 - 1 - cnt
					GetIP_tctrlTime var_2467, var_2517, var_2516, var_2515
					var_2518 = int(var_2515 / var_2470 * var_2480 + 0.5) - var_2479
					if ( abs(var_2459 - var_2518) <= 5 ) {
						var_2509 = var_2517
						var_67(166) = 32644
						break
					}
				loop
			}
		}
		if ( var_2458 == 0 ) {
			var_2496 = var_2465
			if ( 0 ) {
				var_2497++
			}
			if ( var_2496 == 0 | var_2497 ) {
				var_2497 = 0
				var_2519 = GetICP_pit_edit(var_2467, var_2487)
				var_2520 = 128 * var_2482 - 1 - var_2481 - (var_2519 * var_2482 + 50) / 100
				goto *label_725
				var_2497++
			}
			if ( var_2496 == 1 | var_2497 ) {
				var_2497 = 0
				var_2521 = GetICP_frm(var_2467, var_2487)
				var_2520 = 48 * var_2482 - 1 - var_2481 - ((var_2521 + 2400) * var_2482 + 50) / 100
				goto *label_725
				var_2497++
			}
			if ( var_2496 == 2 | var_2497 ) {
				var_2497 = 0
				var_2498 = vslib_geticp_vol(var_2467, var_2487)
				if ( var_67(194) == 0 ) {
					var_2520 = var_2462 - 20 - int(var_2498 * 0.5 * (var_2462 - 40) + 0.5)
				}
				else {
					var_2503 = 12.0
					var_2504 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
					var_2522 = 20.0 * logf(var_2498) / logf(10.0)
					var_2520 = var_2462 - 20 - int((var_2522 - var_2504) / (var_2503 - var_2504) * (var_2462 - 40) + 0.5)
				}
				goto *label_725
				var_2497++
			}
			if ( var_2496 == 3 | var_2497 ) {
				var_2497 = 0
				var_2523 = vslib_geticp_pan(var_2467, var_2487)
				var_2520 = var_2462 - 20 - int((var_2523 + 1.0) * 0.5 * (var_2462 - 40) + 0.5)
				goto *label_725
				var_2497++
			}
			if ( var_2496 == 4 | var_2497 ) {
				var_2497 = 0
				var_2499 = vslib_geticp_dyn_edit(var_2467, var_2487)
				if ( var_67(194) == 0 ) {
					var_2520 = var_2462 - 20 - int(var_2499 * (var_2462 - 40) + 0.5)
				}
				else {
					var_2503 = 0.0
					var_2504 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
					var_2522 = 20.0 * logf(var_2499) / logf(10.0)
					var_2520 = var_2462 - 20 - int((var_2522 - var_2504) / (var_2503 - var_2504) * (var_2462 - 40) + 0.5)
				}
				goto *label_725
				var_2497++
			}
			if ( var_2496 == 5 | var_2497 ) {
				var_2497 = 0
				var_2520 = -100
				goto *label_725
				var_2497++
			}
			if ( var_2496 == 6 | var_2497 ) {
				var_2497 = 0
				var_2519 = GetICP_pit_org(var_2467, var_2487)
				var_2520 = 128 * var_2482 - 1 - var_2481 - (var_2519 * var_2482 + 50) / 100
				goto *label_725
				var_2497++
			}
			if ( var_2496 == 7 | var_2497 ) {
				var_2497 = 0
				var_2524 = 0.01 * GetICP_breathiness(var_2467, var_2487)
				var_2520 = var_2462 - 20 - int((var_2524 + 100.0) / 200.0 * (var_2462 - 40) + 0.5)
				goto *label_725
				var_2497++
			}
			if ( var_2496 == 8 | var_2497 ) {
				var_2497 = 0
				var_2525 = 0.01 * GetICP_brightness(var_2467, var_2487)
				var_2520 = var_2462 - 20 - int((var_2525 + 100.0) / 200.0 * (var_2462 - 40) + 0.5)
				goto *label_725
				var_2497++
			}
			if ( var_2496 == 9 | var_2497 ) {
				var_2497 = 0
				var_2526 = 0.01 * GetICP_clearness(var_2467, var_2487)
				var_2520 = var_2462 - 20 - int((var_2526 + 100.0) / 200.0 * (var_2462 - 40) + 0.5)
				goto *label_725
				var_2497++
			}
			if ( var_2496 == 10 | var_2497 ) {
				var_2497 = 0
				var_2527 = 0.01 * GetICP_Heq(var_2467, var_2487)
				if ( var_2477 == 0 ) {
					var_2520 = var_2462 - 20 - int((var_2527 + 100.0) / 200.0 * (var_2462 - 40) + 0.5)
				}
				else {
					var_2520 = var_2462 - 20 - int((var_2527 + 100.0) / 100.0 * (var_2462 - 40) + 0.5)
				}
				goto *label_725
			}
*label_725
			if ( abs(var_2460 - var_2520) <= 5 ) {
				var_2528 = var_340(var_2463 * 51 + 25)
				var_2529 = var_340(var_2463 * 51 + 26)
				if ( var_2487 >= var_2528 & var_2487 < var_2529 ) {
					var_2510 = 2
					var_67(166) = 32645
				}
				else {
					if ( var_2480 >= 1120 ) {
						var_2510 = 1
						var_67(166) = 32645
					}
				}
			}
		}
		if ( var_2458 == 1 & var_2465 != 6 & var_2465 != 5 ) {
			if ( var_2491 > 0 ) {
				repeat 4
					if ( abs(var_2459 - var_2501(cnt * 2 + 0)) <= 5 & abs(var_2460 - var_2501(cnt * 2 + 1)) <= 5 ) {
						var_2511 = cnt
						if ( cnt == 0 | cnt == 3 ) {
							var_67(166) = 32645
						}
						else {
							var_67(166) = 32646
						}
					}
				loop
			}
		}
	}
	if ( var_2478 == 1 & var_2447 == 0 & var_2448 == 1 ) {
		var_2530 = var_2487
		if ( prm_1295 == 0 & var_2511 >= 0 ) {
			if ( var_2465 != 6 & var_2465 != 5 ) {
				var_2500 = 1
				var_2531 = var_2511
				var_2532 = var_2489(var_2531)
				var_2533 = var_2489(4 + var_2531)
				prm_1295 = 6
			}
		}
		if ( prm_1295 == 0 & var_2510 != 0 ) {
			if ( var_2510 == 2 ) {
				var_2534 = var_340(var_2463 * 51 + 25)
				var_2535 = var_340(var_2463 * 51 + 26) - var_2534
			}
			else {
				var_2534 = var_2487
				var_2535 = 1
			}
			var_2536 = 0.0
			geteditdata var_2467, var_2465, var_2535, var_2534, var_2537, var_2536
			var_2538 = var_2460 + var_2481
			prm_1295 = 3
		}
		if ( prm_1295 == 0 & var_2509 >= 0 ) {
			var_2539 = -1
			var_2540 = -1
			var_2515 = 0.0
			var_2516 = 0.0
			var_2514 = GetII_nTctrlPrm(var_2467)
			dimtype var_2541, 3, var_2514 * 2, 0, 0, 0
			dimtype var_2542, 3, var_2514 * 2, 0, 0, 0
			repeat var_2514 - 1, 1
				GetIP_tctrlTime var_2467, cnt, var_2516, var_2515
				var_2541(cnt * 2 + 0) = var_2516
				var_2541(cnt * 2 + 1) = var_2515
				var_2543 = limit(int(var_2516 / var_2470 * var_2469), 0, var_2468 - 1)
				if ( var_340(var_2463 * 51 + 25) <= var_2543 ) {
					if ( var_2543 <= var_340(var_2463 * 51 + 26) ) {
						if ( var_2539 == (-1) ) {
							var_2539 = cnt
						}
						var_2540 = cnt
					}
				}
			loop
			if ( var_2539 == (-1) | var_2509 < var_2539 | var_2540 < var_2509 ) {
				var_2539 = var_2509
				var_2540 = var_2509
			}
			var_2544 = var_2459 + var_2479
			prm_1295 = 4
		}
		if ( prm_1295 == 0 & var_2454 != 0 & var_2458 == 0 ) {
			var_2545 = limit(var_2545, 0, var_2468 - 1)
			if ( var_2545 <= var_2530 ) {
				var_340(var_2463 * 51 + 25) = var_2545
				var_340(var_2463 * 51 + 26) = var_2530
				var_2508 = 2
			}
			else {
				var_340(var_2463 * 51 + 25) = var_2530
				var_340(var_2463 * 51 + 26) = var_2545
				var_2508 = 1
			}
			var_67(249) = 1
		}
		if ( prm_1295 == 0 & var_2458 == 0 ) {
			if ( var_2508 == 0 ) {
				var_2546 = var_2530
				prm_1295 = 1
			}
			if ( var_2508 == 1 ) {
				var_2546 = var_340(var_2463 * 51 + 26)
				prm_1295 = 2
				var_2547 = -1
			}
			if ( var_2508 == 2 ) {
				var_2546 = var_340(var_2463 * 51 + 25)
				prm_1295 = 2
				var_2547 = -1
			}
			var_2548 = var_2459 + var_2479
		}
		var_2545 = var_2530
	}
	if ( prm_1295 == 1 ) {
		if ( var_2448 == 0 ) {
			prm_1295 = 0
			if ( var_2456 == 1 ) {
				var_2514 = GetII_nTctrlPrm(var_2467)
				var_340(var_2463 * 51 + 25) = 0
				var_340(var_2463 * 51 + 26) = 0
				var_2515 = 0.0
				var_2516 = 0.0
				repeat var_2514
					var_2549 = cnt
					GetIP_tctrlTime var_2467, var_2549, var_2516, var_2515
					var_2543 = int(var_2516 / var_2470 * var_2469 + 0.5)
					var_2543 = limit(var_2543, 0, var_2468)
					if ( var_2543 <= var_2546 ) {
						var_340(var_2463 * 51 + 25) = var_2543
					}
					var_340(var_2463 * 51 + 26) = var_2543
					if ( var_2543 > var_2546 ) {
						break
					}
				loop
				var_67(249) = 1
			}
		}
		if ( abs(var_2459 + var_2479 - var_2548) >= 3 ) {
			prm_1295 = 2
			var_2547 = -1
		}
	}
	if ( prm_1295 == 2 ) {
		var_2550 = var_2486
		if ( var_2550 != var_2547 ) {
			var_67(249) = 1
			var_2547 = var_2550
		}
		if ( var_2546 <= var_2550 ) {
			var_340(var_2463 * 51 + 25) = var_2546
			var_340(var_2463 * 51 + 26) = var_2550
		}
		else {
			var_340(var_2463 * 51 + 25) = var_2550
			var_340(var_2463 * 51 + 26) = var_2546
		}
		if ( var_2456 == 1 ) {
			var_2514 = GetII_nTctrlPrm(var_2467)
			var_2551 = var_340(var_2463 * 51 + 25)
			var_2552 = var_340(var_2463 * 51 + 26)
			var_2515 = 0.0
			var_2516 = 0.0
			repeat var_2514
				var_2549 = cnt
				GetIP_tctrlTime var_2467, var_2549, var_2516, var_2515
				var_2543 = int(var_2516 / var_2470 * var_2469 + 0.5)
				var_2543 = limit(var_2543, 0, var_2468)
				if ( var_2543 <= var_2551 ) {
					var_340(var_2463 * 51 + 25) = var_2543
				}
				var_340(var_2463 * 51 + 26) = var_2543
				if ( var_2543 > var_2552 ) {
					break
				}
			loop
		}
		if ( var_2456 != var_2455 ) {
			var_67(249) = 1
		}
		var_67(166) = 32644
		if ( var_2450 != 0 ) {
			var_340(var_2463 * 51 + 25) = var_2546
			var_340(var_2463 * 51 + 26) = var_2546
			prm_1295 = 0
			var_67(249) = 1
			var_2488 = 1
		}
		else {
			if ( var_2448 == 0 ) {
				prm_1295 = 0
			}
		}
	}
	if ( prm_1295 == 3 ) {
		var_2553 = (var_2454 + var_67(180)) \ 2
		var_2554 = limitf(double(var_2460 + var_2481 - var_2538) * (-1) / 80.0, -1.0, 5.0)
		var_2496 = var_2465
		if ( 0 ) {
			var_2497++
		}
		if ( var_2496 == 0 | var_2497 ) {
			var_2497 = 0
			var_2555 = (var_2460 + var_2481 - var_2538) * (-1) * 100 / var_2482
			if ( var_2553 == 1 ) {
				var_2555 = (var_2555 + 12800 + 50) / 100 * 100 - 12800
			}
			repeat var_2535
				if ( var_2456 == 0 ) {
					var_2519 = int(var_2537(cnt)) + var_2555
				}
				else {
					var_2519 = int(var_2537(cnt)) + int(var_2554 * (var_2537(cnt) - var_2536))
				}
				var_2519 = limit(var_2519, 0, 12800)
				if ( GetICP_fix_edit(var_2467, var_2534 + cnt) == 0 ) {
					SetICP_pit_edit var_2467, var_2534 + cnt, var_2519
				}
			loop
			goto *label_726
			var_2497++
		}
		if ( var_2496 == 1 | var_2497 ) {
			var_2497 = 0
			var_2556 = (var_2460 + var_2481 - var_2538) * (-1) * 100 / var_2482
			if ( var_2553 == 1 ) {
				var_2556 = (var_2556 + 12800 + 50) / 100 * 100 - 12800
			}
			repeat var_2535
				var_2521 = int(var_2537(cnt)) + var_2556
				var_2521 = limit(var_2521, -2400, 2400)
				if ( GetICP_fix_edit(var_2467, var_2534 + cnt) == 0 ) {
					SetICP_frm var_2467, var_2534 + cnt, var_2521
				}
			loop
			goto *label_726
			var_2497++
		}
		if ( var_2496 == 2 | var_2497 ) {
			var_2497 = 0
			if ( var_67(194) == 0 ) {
				var_2557 = limitf(double(var_2462 - 20 - var_2460) / (var_2462 - 40), 0.0, 1.0)
				var_2558 = limitf(double(var_2462 - 20 - var_2538) / (var_2462 - 40), 0.0, 1.0)
			}
			else {
				var_2559 = 20.0 * logf(1.0 / 32768.0) / logf(10.0) - 12.0
				var_2557 = powf(powf(10.0, var_2559 / 20.0), double(var_2460 - var_2538) / (var_2462 - 40))
				var_2558 = 1.0
			}
			if ( var_2558 != 0.0 ) {
				var_2560 = var_2557 / var_2558
				repeat var_2535
					var_2498 = limitf(var_2537(cnt) * var_2560, 0.0, 2.0)
					SetICP_vol var_2467, var_2534 + cnt, var_2498
				loop
			}
			goto *label_726
			var_2497++
		}
		if ( var_2496 == 3 | var_2497 ) {
			var_2497 = 0
			var_2561 = (-2.0) * (var_2460 + var_2481 - var_2538) / (var_2462 - 40)
			repeat var_2535
				var_2523 = limitf(var_2537(cnt) + var_2561, -1.0, 1.0)
				SetICP_pan var_2467, var_2534 + cnt, var_2523
			loop
			goto *label_726
			var_2497++
		}
		if ( var_2496 == 4 | var_2497 ) {
			var_2497 = 0
			if ( var_67(194) == 0 ) {
				var_2557 = limitf(double(var_2462 - 20 - var_2460) / (var_2462 - 40), 0.0, 1.0)
				var_2558 = limitf(double(var_2462 - 20 - var_2538) / (var_2462 - 40), 0.0, 1.0)
			}
			else {
				var_2559 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
				var_2557 = powf(powf(10.0, var_2559 / 20.0), double(var_2460 - var_2538) / (var_2462 - 40))
				var_2558 = 1.0
			}
			if ( var_2558 != 0.0 ) {
				var_2560 = var_2557 / var_2558
				repeat var_2535
					var_2499 = var_2537(cnt) * var_2560
					var_2499 = limitf(var_2499, 0.0, 1.0)
					SetICP_dyn_edit var_2467, var_2534 + cnt, var_2499
				loop
			}
			goto *label_726
			var_2497++
		}
		if ( var_2496 == 6 | var_2497 ) {
			var_2497 = 0
			var_2555 = (var_2460 + var_2481 - var_2538) * (-1) * 100 / var_2482
			if ( var_2553 == 1 ) {
				var_2555 = (var_2555 + 12800 + 50) / 100 * 100 - 12800
			}
			repeat var_2535
				var_2519 = limit(int(var_2537(cnt)) + var_2555, 0, 12800)
				if ( GetICP_fix_edit(var_2467, var_2534 + cnt) == 0 ) {
					SetICP_pit_org var_2467, var_2534 + cnt, var_2519
					if ( var_67(39) == 1 ) {
						SetICP_pit_edit var_2467, var_2534 + cnt, var_2519
					}
				}
			loop
			goto *label_726
			var_2497++
		}
		if ( var_2496 == 7 | var_2497 ) {
			var_2497 = 0
			var_2562 = (-20000) * (var_2460 + var_2481 - var_2538) / (var_2462 - 40)
			repeat var_2535
				var_2524 = limit(int(var_2537(cnt)) + var_2562, -10000, 10000)
				SetICP_breathiness var_2467, var_2534 + cnt, var_2524
			loop
			goto *label_726
			var_2497++
		}
		if ( var_2496 == 8 | var_2497 ) {
			var_2497 = 0
			var_2505 = -10000
			var_2506 = 10000
			var_2507 = var_2506 - var_2505
			var_2563 = -var_2507 * (var_2460 + var_2481 - var_2538) / (var_2462 - 40)
			repeat var_2535
				var_2525 = limit(int(var_2537(cnt)) + var_2563, var_2505, var_2506)
				SetICP_brightness var_2467, var_2534 + cnt, var_2525
			loop
			goto *label_726
			var_2497++
		}
		if ( var_2496 == 9 | var_2497 ) {
			var_2497 = 0
			var_2505 = -10000
			var_2506 = 10000
			var_2507 = var_2506 - var_2505
			var_2564 = -var_2507 * (var_2460 + var_2481 - var_2538) / (var_2462 - 40)
			repeat var_2535
				var_2526 = limit(int(var_2537(cnt)) + var_2564, var_2505, var_2506)
				SetICP_clearness var_2467, var_2534 + cnt, var_2526
			loop
			goto *label_726
			var_2497++
		}
		if ( var_2496 == 10 | var_2497 ) {
			var_2497 = 0
			var_2505 = -10000
			var_2506 = 10000
			if ( var_2477 ) {
				var_2506 = 0
			}
			var_2507 = var_2506 - var_2505
			var_2565 = -var_2507 * (var_2460 + var_2481 - var_2538) / (var_2462 - 40)
			repeat var_2535
				var_2527 = limit(int(var_2537(cnt)) + var_2565, var_2505, var_2506)
				SetICP_Heq var_2467, var_2534 + cnt, var_2527
			loop
			goto *label_726
		}
*label_726
		if ( var_2450 != 0 ) {
			seteditdata var_2467, var_2465, var_2535, var_2534, var_2537
			prm_1295 = 0
			var_67(249) = 1
			var_2488 = 1
		}
		else {
			if ( var_2448 == 0 ) {
				if ( var_2465 == 0 | var_2465 == 6 ) {
					SetNotePitch var_2467
					var_67(249) = 1
				}
				oneditproject
				prm_1295 = 0
			}
		}
		var_67(166) = 32645
		var_67(249) = 1
	}
	if ( prm_1295 == 4 ) {
		if ( var_2448 == 0 ) {
			prm_1295 = 0
		}
		if ( var_2459 + var_2479 != var_2544 ) {
			prm_1295 = 5
			var_2566 = 0
		}
		var_67(166) = 32644
	}
	if ( prm_1295 == 5 ) {
		var_2567 = int(double(var_2459 + var_2479 - var_2544) / var_2480 * var_2470 + 0.5)
		var_2568 = int(var_2541((var_2539 - 1) * 2 + 1) - var_2541(var_2539 * 2 + 1))
		if ( var_2567 < var_2568 ) {
			var_2567 = var_2568
		}
		var_2514 = GetII_nTctrlPrm(var_2467)
		repeat var_2514
			var_2542(cnt * 2 + 0) = var_2541(cnt * 2 + 0)
			var_2542(cnt * 2 + 1) = var_2541(cnt * 2 + 1)
		loop
		if ( var_2454 == 1 ) {
			var_2569 = var_2514 - 1
		}
		else {
			var_2569 = var_2540
		}
		if ( var_2456 == 1 & var_2539 != 0 & var_2569 != var_2514 - 1 ) {
			repeat var_2569 - var_2539 + 1, var_2539
				var_2542(cnt * 2 + 1) += var_2567
				var_2560 = 1.0
				if ( var_2567 < 0 ) {
					var_2570 = var_2541(cnt * 2 + 0) - var_2541((cnt - 1) * 2 + 0)
					var_2571 = var_2541(cnt * 2 + 1) - var_2541((cnt - 1) * 2 + 1)
					if ( var_2571 > 0.0 ) {
						var_2560 = var_2570 / var_2571
					}
				}
				else {
					var_2570 = var_2541((cnt + 1) * 2 + 0) - var_2541(cnt * 2 + 0)
					var_2571 = var_2541((cnt + 1) * 2 + 1) - var_2541(cnt * 2 + 1)
					if ( var_2571 > 0.0 ) {
						var_2560 = var_2570 / var_2571
					}
				}
				var_2542(cnt * 2 + 0) += int(var_2560 * var_2567)
			loop
		}
		else {
			repeat var_2569 - var_2539 + 1, var_2539
				var_2542(cnt * 2 + 1) += var_2567
			loop
		}
		repeat var_2514 - 2
			var_2549 = var_2514 - 2 - cnt
			if ( var_2549 >= var_2539 & var_2549 <= var_2569 ) {
				if ( var_2542(var_2549 * 2 + 0) >= var_2542((var_2549 + 1) * 2 + 0) ) {
					var_2542(var_2549 * 2 + 0) = var_2542((var_2549 + 1) * 2 + 0) - 1.0
				}
				if ( var_2542(var_2549 * 2 + 1) >= var_2542((var_2549 + 1) * 2 + 1) ) {
					var_2542(var_2549 * 2 + 1) = var_2542((var_2549 + 1) * 2 + 1) - 1.0
				}
			}
		loop
		repeat var_2514 - 1
			var_2549 = 1 + cnt
			if ( var_2549 >= var_2539 & var_2549 <= var_2569 ) {
				if ( var_2542(var_2549 * 2 + 0) <= var_2542((var_2549 - 1) * 2 + 0) ) {
					var_2542(var_2549 * 2 + 0) = var_2542((var_2549 - 1) * 2 + 0) + 1.0
				}
				if ( var_2542(var_2549 * 2 + 1) <= var_2542((var_2549 - 1) * 2 + 1) ) {
					var_2542(var_2549 * 2 + 1) = var_2542((var_2549 - 1) * 2 + 1) + 1.0
				}
			}
		loop
		repeat var_2514 - 1, 1
			var_2516 = var_2542(cnt * 2 + 0)
			var_2515 = var_2542(cnt * 2 + 1)
			SetIP_tctrlTime var_2467, cnt, var_2516, var_2515
		loop
		UpdateRhythmTimeCtrl var_2467
		if ( var_2567 != var_2566 | var_2569 != var_2572 ) {
			var_67(150) = 1
			var_67(249) = 1
			var_67(251) = 1
			var_2566 = var_2567
			var_2572 = var_2569
		}
		if ( var_2456 != var_2455 ) {
			var_67(150) = 1
			var_67(249) = 1
			var_67(251) = 1
		}
		if ( var_2450 != 0 ) {
			var_2514 = GetII_nTctrlPrm(var_2467)
			repeat var_2514 - 1, 1
				var_2516 = var_2541(cnt * 2 + 0)
				var_2515 = var_2541(cnt * 2 + 1)
				SetIP_tctrlTime var_2467, cnt, var_2516, var_2515
			loop
			UpdateRhythmTimeCtrl var_2467
			prm_1295 = 0
			var_67(150) = 1
			var_67(249) = 1
			var_67(251) = 1
			var_2488 = 1
		}
		else {
			if ( var_2448 == 0 ) {
				oneditproject
				prm_1295 = 0
				var_67(150) = 1
				var_67(249) = 1
				var_67(251) = 1
			}
		}
		var_67(166) = 32644
	}
	if ( prm_1295 == 6 ) {
		if ( var_2448 == 0 | var_2458 == 0 ) {
			prm_1295 = 0
		}
		if ( var_2450 != 0 ) {
			prm_1295 = 0
			var_2488 = 1
			var_2573 = var_2532
			var_2574 = var_2533
		}
		else {
			var_2483 = double(var_2459 + var_2479) / var_2480
			var_2484 = vslib_getstretchorgsec(var_2467, var_2483, var_2485)
			var_2573 = (var_2484 * var_2469 - var_2490) / var_2491
			var_2496 = var_2465
			if ( 0 ) {
				var_2497++
			}
			if ( var_2496 == 0 | var_2497 ) {
				var_2497 = 0
				var_2502 = ((128 * var_2482 - 1 - (var_2460 + var_2481)) * 100 + var_2482 / 2) / var_2482
				var_2575 = 100 / var_2482
				var_2576 = roundintval(var_2502 - var_2494, var_2575)
				var_2574 = double(var_2576)
				goto *label_727
				var_2497++
			}
			if ( var_2496 == 1 | var_2497 ) {
				var_2497 = 0
				var_2502 = (48 * var_2482 - 1 - (var_2460 + var_2481)) * 100 / var_2482 - 2400
				var_2575 = 100 / var_2482
				var_2576 = roundintval(var_2502 - var_2494, var_2575)
				var_2574 = double(var_2576)
				goto *label_727
				var_2497++
			}
			if ( var_2496 == 2 | var_2497 ) {
				var_2497 = 0
				if ( var_67(194) == 0 ) {
					var_2502 = double(var_2462 - 20 - (var_2460 + var_2481)) / (var_2462 - 40) * 2.0
					var_2575 = 1.0 / (var_2462 - 40) * 2.0
				}
				else {
					var_2559 = 20.0 * logf(1.0 / 32768.0) / logf(10.0) - 12.0
					var_2502 = (1.0 - double(var_2462 - 20 - (var_2460 + var_2481)) / (var_2462 - 40)) * var_2559 + 12.0
					var_2575 = absf(var_2559) / (var_2462 - 40)
				}
				var_2576 = rounddoubleval(var_2502 - var_2494, var_2575)
				var_2574 = double(var_2576)
				goto *label_727
				var_2497++
			}
			if ( var_2496 == 3 | var_2497 ) {
				var_2497 = 0
				var_2502 = double(var_2462 - 20 - (var_2460 + var_2481)) / (var_2462 - 40) * 2.0 - 1.0
				var_2575 = 1.0 / (var_2462 - 40) * 2.0
				var_2576 = rounddoubleval(var_2502 - var_2494, var_2575)
				var_2574 = double(var_2576)
				goto *label_727
				var_2497++
			}
			if ( var_2496 == 4 | var_2497 ) {
				var_2497 = 0
				if ( var_67(194) == 0 ) {
					var_2502 = double(var_2462 - 20 - (var_2460 + var_2481)) / (var_2462 - 40)
					var_2575 = 1.0 / (var_2462 - 40)
				}
				else {
					var_2559 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
					var_2502 = (1.0 - double(var_2462 - 20 - (var_2460 + var_2481)) / (var_2462 - 40)) * var_2559
					var_2575 = absf(var_2559) / (var_2462 - 40)
				}
				var_2576 = rounddoubleval(var_2502 - var_2494, var_2575)
				var_2574 = double(var_2576)
				goto *label_727
				var_2497++
			}
			if ( var_2496 == 7 | var_2497 ) {
				var_2497 = 0
				var_2502 = (var_2462 - 20 - (var_2460 + var_2481)) * 20000 / (var_2462 - 40) - 10000
				var_2575 = 20000 / (var_2462 - 40)
				var_2576 = roundintval(var_2502 - var_2494, var_2575)
				var_2574 = double(var_2576)
				goto *label_727
				var_2497++
			}
			if ( var_2496 == 8 | var_2497 ) {
				var_2497 = 0
				var_2505 = -10000
				var_2506 = 10000
				var_2507 = var_2506 - var_2505
				var_2502 = (var_2462 - 20 - (var_2460 + var_2481)) * var_2507 / (var_2462 - 40) + var_2505
				var_2575 = 20000 / (var_2462 - 40)
				var_2576 = roundintval(var_2502 - var_2494, var_2575)
				var_2574 = double(var_2576)
				goto *label_727
				var_2497++
			}
			if ( var_2496 == 9 | var_2497 ) {
				var_2497 = 0
				var_2505 = -10000
				var_2506 = 10000
				var_2507 = var_2506 - var_2505
				var_2502 = (var_2462 - 20 - (var_2460 + var_2481)) * var_2507 / (var_2462 - 40) + var_2505
				var_2575 = 20000 / (var_2462 - 40)
				var_2576 = roundintval(var_2502 - var_2494, var_2575)
				var_2574 = double(var_2576)
				goto *label_727
				var_2497++
			}
			if ( var_2496 == 10 | var_2497 ) {
				var_2497 = 0
				var_2505 = -10000
				var_2506 = 10000
				if ( var_2477 ) {
					var_2506 = 0
				}
				var_2507 = var_2506 - var_2505
				var_2502 = (var_2462 - 20 - (var_2460 + var_2481)) * var_2507 / (var_2462 - 40) + var_2505
				var_2575 = 20000 / (var_2462 - 40)
				var_2576 = roundintval(var_2502 - var_2494, var_2575)
				var_2574 = double(var_2576)
				goto *label_727
			}
		}
*label_727
		if ( var_2531 == 0 | var_2531 == 3 ) {
			var_2489(4 + var_2531) = var_2574
			var_67(166) = 32645
		}
		else {
			var_2489(var_2531) = limitf(var_2573, 0.0, 1.0)
			var_2489(4 + var_2531) = var_2574
			var_67(166) = 32646
		}
		repeat 4
			var_2484 = (var_2489(cnt) * var_2491 + var_2490) / var_2469
			var_2483 = vslib_getstretchedtsec(var_2467, var_2484, var_2485)
			var_2501(cnt * 2 + 0) = int(var_2483 * var_2480 + 0.5) - var_2479
			var_2502 = var_2494 + var_2489(4 + cnt)
			var_2496 = var_2465
			if ( 0 ) {
				var_2497++
			}
			if ( var_2496 == 0 | var_2497 ) {
				var_2497 = 0
				var_2501(cnt * 2 + 1) = 128 * var_2482 - 1 - var_2481 - (int(var_2502) * var_2482 + 50) / 100
				goto *label_728
				var_2497++
			}
			if ( var_2496 == 1 | var_2497 ) {
				var_2497 = 0
				var_2501(cnt * 2 + 1) = 48 * var_2482 - 1 - var_2481 - ((int(var_2502) + 2400) * var_2482 + 50) / 100
				goto *label_728
				var_2497++
			}
			if ( var_2496 == 2 | var_2497 ) {
				var_2497 = 0
				if ( var_67(194) == 0 ) {
					var_2501(cnt * 2 + 1) = var_2462 - 20 - int(var_2502 * 0.5 * (var_2462 - 40) + 0.5)
				}
				else {
					var_2503 = 12.0
					var_2504 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
					var_2501(cnt * 2 + 1) = var_2462 - 20 - int((var_2502 - var_2504) / (var_2503 - var_2504) * (var_2462 - 40) + 0.5)
				}
				goto *label_728
				var_2497++
			}
			if ( var_2496 == 3 | var_2497 ) {
				var_2497 = 0
				var_2501(cnt * 2 + 1) = var_2462 - 20 - int((var_2502 + 1.0) * 0.5 * (var_2462 - 40) + 0.5)
				goto *label_728
				var_2497++
			}
			if ( var_2496 == 4 | var_2497 ) {
				var_2497 = 0
				if ( var_67(194) == 0 ) {
					var_2501(cnt * 2 + 1) = var_2462 - 20 - int(var_2502 * (var_2462 - 40) + 0.5)
				}
				else {
					var_2503 = 0.0
					var_2504 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
					var_2501(cnt * 2 + 1) = var_2462 - 20 - int((var_2502 - var_2504) / (var_2503 - var_2504) * (var_2462 - 40) + 0.5)
				}
				goto *label_728
				var_2497++
			}
			if ( var_2496 == 7 | var_2497 ) {
				var_2497 = 0
				var_2497++
			}
			if ( var_2496 == 8 | var_2497 ) {
				var_2497 = 0
				var_2497++
			}
			if ( var_2496 == 9 | var_2497 ) {
				var_2497 = 0
				var_2501(cnt * 2 + 1) = var_2462 - 20 - int((var_2502 + 10000.0) / 20000.0 * (var_2462 - 40) + 0.5)
				goto *label_728
				var_2497++
			}
			if ( var_2496 == 10 | var_2497 ) {
				var_2497 = 0
				var_2505 = -10000
				var_2506 = 10000
				if ( var_2477 ) {
					var_2506 = 0
				}
				var_2507 = var_2506 - var_2505
				var_2501(cnt * 2 + 1) = var_2462 - 20 - int((var_2502 - var_2505) / var_2507 * (var_2462 - 40) + 0.5)
				goto *label_728
			}
*label_728
		loop
		createbezierpit var_2493, var_2492, var_2491, var_2489
		repeat var_2491
			var_2496 = var_2465
			if ( 0 ) {
				var_2497++
			}
			if ( var_2496 == 0 | var_2497 ) {
				var_2497 = 0
				if ( GetICP_fix_edit(var_2467, var_2490 + cnt) == 0 ) {
					var_2519 = limit(int(var_2492(cnt)), 0, 12800)
					SetICP_pit_edit var_2467, var_2490 + cnt, var_2519
				}
				goto *label_729
				var_2497++
			}
			if ( var_2496 == 1 | var_2497 ) {
				var_2497 = 0
				if ( GetICP_fix_edit(var_2467, var_2490 + cnt) == 0 ) {
					var_2521 = limit(int(var_2492(cnt)), -2400, 2400)
					SetICP_frm var_2467, var_2490 + cnt, var_2521
				}
				goto *label_729
				var_2497++
			}
			if ( var_2496 == 2 | var_2497 ) {
				var_2497 = 0
				if ( var_67(194) == 0 ) {
					var_2498 = limitf(var_2492(cnt), 0.0, 2.0)
				}
				else {
					var_2498 = powf(10.0, var_2492(cnt) / 20.0)
					var_2498 = limitf(var_2498, 0.0, 2.0)
				}
				SetICP_vol var_2467, var_2490 + cnt, var_2498
				goto *label_729
				var_2497++
			}
			if ( var_2496 == 3 | var_2497 ) {
				var_2497 = 0
				var_2523 = limitf(var_2492(cnt), -1.0, 1.0)
				SetICP_pan var_2467, var_2490 + cnt, var_2523
				goto *label_729
				var_2497++
			}
			if ( var_2496 == 4 | var_2497 ) {
				var_2497 = 0
				if ( var_67(194) == 0 ) {
					var_2499 = limitf(var_2492(cnt), 0.0, 1.0)
				}
				else {
					var_2499 = powf(10.0, var_2492(cnt) / 20.0)
					var_2499 = limitf(var_2499, 0.0, 1.0)
				}
				SetICP_dyn_edit var_2467, var_2490 + cnt, var_2499
				goto *label_729
				var_2497++
			}
			if ( var_2496 == 7 | var_2497 ) {
				var_2497 = 0
				var_2524 = limit(int(var_2492(cnt)), -10000, 10000)
				SetICP_breathiness var_2467, var_2490 + cnt, var_2524
				goto *label_729
				var_2497++
			}
			if ( var_2496 == 8 | var_2497 ) {
				var_2497 = 0
				var_2505 = -10000
				var_2506 = 10000
				var_2507 = var_2506 - var_2505
				var_2525 = limit(int(var_2492(cnt)), var_2505, var_2506)
				SetICP_brightness var_2467, var_2490 + cnt, var_2525
				goto *label_729
				var_2497++
			}
			if ( var_2496 == 9 | var_2497 ) {
				var_2497 = 0
				var_2505 = -10000
				var_2506 = 10000
				var_2507 = var_2506 - var_2505
				var_2526 = limit(int(var_2492(cnt)), var_2505, var_2506)
				SetICP_clearness var_2467, var_2490 + cnt, var_2526
				goto *label_729
				var_2497++
			}
			if ( var_2496 == 10 | var_2497 ) {
				var_2497 = 0
				var_2505 = -10000
				var_2506 = 10000
				if ( var_2477 ) {
					var_2506 = 0
				}
				var_2507 = var_2506 - var_2505
				var_2527 = limit(int(var_2492(cnt)), var_2505, var_2506)
				SetICP_Heq var_2467, var_2490 + cnt, var_2527
				goto *label_729
			}
*label_729
		loop
		var_67(249) = 1
	}
	return
#deffunc getbeziereditinfos var prm_1296, array prm_1297
	var_2577 = var_67(185)
	var_2463 = limit(var_67(270), 0, var_67(269) - 1)
	var_2465 = var_340(var_2463 * 51 + 1)
	prm_1296 = 0
	if ( var_2577 == 0 & var_2465 != 6 & var_2465 != 5 ) {
		var_2578 = getideselphase()
		if ( var_2578 == 0 | var_2578 == 6 ) {
			if ( var_2491 > 0 ) {
				prm_1296 = var_2458
			}
		}
	}
	if ( prm_1296 == 1 ) {
		repeat 8
			prm_1297(cnt) = var_2501(cnt)
		loop
		repeat 4
			prm_1297(8 + cnt) = int(var_2489(4 + cnt))
		loop
	}
	return
*label_731
	goto *label_733
#deffunc createbezierpit array prm_1298, array prm_1299, int prm_1300, array prm_1301
	var_2579 = prm_1301(0)
	var_2580 = prm_1301(1)
	var_2581 = prm_1301(2)
	var_2582 = prm_1301(3)
	var_2583 = prm_1301(4)
	var_2584 = prm_1301(5)
	var_2585 = prm_1301(6)
	var_2586 = prm_1301(7)
	var_2587 = var_2579
	var_2588 = var_2583
	var_2589 = 0.0
	var_2590 = 1.0 / 256.0
	var_2591 = 0
	repeat 256 + 1
		var_2592 = 1.0 - var_2589
		var_2593 = var_2592 * var_2592 * var_2592
		var_2594 = var_2589 * var_2592 * var_2592 * 3.0
		var_2595 = var_2589 * var_2589 * var_2592 * 3.0
		var_2596 = var_2589 * var_2589 * var_2589
		var_2589 += var_2590
		var_2597 = var_2593 * var_2579 + var_2594 * var_2580 + var_2595 * var_2581 + var_2596 * var_2582
		var_2598 = var_2593 * var_2583 + var_2594 * var_2584 + var_2595 * var_2585 + var_2596 * var_2586
		repeat
			var_2599 = double(var_2591) / prm_1300
			if ( var_2599 < var_2597 ) {
				if ( var_2597 - var_2587 > 0.0 ) {
					var_2600 = (var_2599 - var_2587) / (var_2597 - var_2587)
				}
				else {
					var_2600 = 0.0
				}
				var_2601 = var_2588 + (var_2598 - var_2588) * var_2600
				var_2602 = var_2601
				prm_1299(var_2591) = prm_1298(var_2591) + var_2602
				var_2591++
			}
			else {
				break
			}
		loop
		var_2587 = var_2597
		var_2588 = var_2598
	loop
	return
*label_733
	goto *label_738
#deffunc idepentool_key
	var_2603 = var_2604
	var_2605 = var_2606
	var_2607 = var_2608
	var_2609 = var_2610
	var_2611 = var_2612
	var_2613 = var_2614
	var_2604 = getkeyflg(var_67(3))
	var_2606 = getkeyflg(var_67(4))
	var_2608 = getkeyflg(4)
	var_2610 = getkeyflg(16)
	var_2612 = getkeyflg(17)
	var_2614 = getkeyflg(18)
	var_2615 = var_2616
	if ( getactivewindow() != 12 ) {
		var_2616 = 0
	}
	else {
		var_2616 = 1
	}
	return
#deffunc idepentool
	gsel 12
	var_2617 = _mousex() - var_67(225)
	var_2618 = _mousey() - var_67(226)
	var_2619 = var_67(227)
	var_2620 = var_67(228)
	var_2621 = double(var_2620)
	if ( var_2615 == 0 & var_2616 == 1 ) {
		var_2622 = double(var_2617)
		var_2623 = double(var_2618)
	}
	if ( var_2603 == 0 & var_2604 == 1 ) {
		var_2622 = double(var_2617)
		var_2623 = double(var_2618)
	}
	dimtype var_2624, 3, 6, 0, 0, 0
	var_2624(0) = 0.0, 0.6, 0.72, 0.8, 0.86, 0.9
	var_2625 = var_2624(var_67(192))
	var_2622 = var_2625 * var_2622 + (1.0 - var_2625) * var_2617
	var_2623 = var_2625 * var_2623 + (1.0 - var_2625) * var_2618
	var_2626 = int(var_2622 + 0.5)
	var_2627 = int(var_2623 + 0.5)
	var_2628 = limit(var_67(270), 0, var_67(269) - 1)
	var_2629 = getidetabitemnum(var_2628)
	var_2630 = var_340(var_2628 * 51 + 1)
	var_2631 = var_340(var_2628 * 51 + (2 + var_2630))
	var_2632 = GetPrjItem(var_67(17), var_2629)
	var_2633 = GetII_nCtrlPnt(var_2632)
	var_2634 = GetII_ctrlPntPs(var_2632)
	var_2635 = GetII_sampFreq(var_2632)
	var_2636 = vslib_getprjitemfreqa4(var_67(17), var_2629)
	var_2637 = GetPrjItemKey(var_67(17), var_2629)
	var_2638 = GetPrjItemTune(var_67(17), var_2629)
	var_2639 = GetPrjItemTrackNum(var_67(17), var_2629)
	var_2640 = GetTrackMorphingGroup(var_67(17), var_2639)
	var_2641 = GetIP_synthMode(var_2632)
	if ( var_2641 == 8 & var_2640 != 0 ) {
		var_2642 = 1
	}
	else {
		var_2642 = 0
	}
	var_2643 = 0
	if ( var_2626 >= 0 & var_2627 >= 0 & var_2626 < var_67(227) & var_2627 < var_67(228) ) {
		var_2643 = 1
	}
	var_2644 = var_340(var_2628 * 51 + 18)
	var_2645 = var_340(var_2628 * 51 + 19)
	var_2646 = 0
	var_2647 = 100
	if ( var_2630 == 0 | var_2630 == 6 ) {
		var_2646 = var_340(var_2628 * 51 + 21)
		var_2647 = var_340(var_2628 * 51 + 22)
	}
	if ( var_2630 == 1 ) {
		var_2646 = var_340(var_2628 * 51 + 23)
		var_2647 = var_340(var_2628 * 51 + 24)
	}
	var_2648 = double(var_2622 + var_2644) / var_2645
	var_2649 = vslib_getstretchorgsec(var_2632, var_2648, var_2650)
	var_2651 = limit(int(var_2649 * var_2634), 0, var_2633 - 1)
	var_2652 = var_2651
	if ( var_2652 <= var_2653 ) {
		var_2654 = var_2652
		var_2655 = var_2653
		var_2656 = double(var_2623 + var_2646)
		var_2657 = double(var_2658)
	}
	else {
		var_2654 = var_2653
		var_2655 = var_2652
		var_2656 = double(var_2658)
		var_2657 = double(var_2623 + var_2646)
	}
	var_2659 = var_2655 - var_2654 + 1
	var_2660 = (var_2610 + var_67(180)) \ 2
	if ( var_2661 == 0 ) {
		if ( var_2643 == 1 & var_2603 == 0 & var_2604 == 1 ) {
			var_2661 = 1
		}
		if ( var_2643 == 1 & var_2605 == 0 & var_2606 == 1 ) {
			var_2661 = 2
		}
		if ( var_2661 != 0 ) {
			geteditdata var_2632, var_2630, var_2633, 0, var_2662, var_2663
		}
	}
	else {
		if ( var_2661 == 1 ) {
			if ( var_2604 == 0 ) {
				if ( var_2630 == 0 | var_2630 == 6 ) {
					SetNotePitch var_2632
					var_67(249) = 1
				}
				oneditproject
				var_2661 = 0
			}
			if ( var_2606 != 0 ) {
				seteditdata var_2632, var_2630, var_2633, 0, var_2662
				var_67(249) = 1
				var_2661 = 0
			}
		}
		if ( var_2661 == 2 ) {
			if ( var_2606 == 0 ) {
				if ( var_2630 == 0 | var_2630 == 6 ) {
					SetNotePitch var_2632
					var_67(249) = 1
				}
				oneditproject
				var_2661 = 0
			}
			if ( var_2604 != 0 ) {
				seteditdata var_2632, var_2630, var_2633, 0, var_2662
				var_67(249) = 1
				var_2661 = 0
			}
		}
	}
	if ( var_2661 == 1 & var_2664 == 1 ) {
		var_2665 = 0.0
		var_2666 = 0.0
		if ( var_2659 >= 2 ) {
			var_2666 = 1.0 / (var_2659 - 1)
		}
		var_2667 = 0
		var_2668 = var_2633
		if ( var_2614 == 1 ) {
			var_2667 = var_340(var_2628 * 51 + 25)
			var_2668 = var_340(var_2628 * 51 + 26)
		}
		var_2669 = var_2630
		if ( 0 ) {
			var_2670++
		}
		if ( var_2669 == 0 | var_2670 ) {
			var_2670 = 0
			var_2671 = int((128.0 * var_2647 - 1.0 - var_2656) * 100.0 / var_2647 + 0.5)
			var_2672 = int((128.0 * var_2647 - 1.0 - var_2657) * 100.0 / var_2647 + 0.5)
			var_2673 = var_2672 - var_2671
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					if ( GetICP_fix_edit(var_2632, var_2654 + cnt) == 0 ) {
						var_2674 = limit(int(var_2665 * var_2673 + var_2671 + 0.5), 0, 12800)
						if ( var_2660 == 1 ) {
							var_2674 = snappitch(var_2674, var_2636, var_2637, var_2638, var_2629)
						}
						SetICP_pit_edit var_2632, var_2654 + cnt, var_2674
					}
				}
				var_2665 += var_2666
			loop
			goto *label_736
			var_2670++
		}
		if ( var_2669 == 1 | var_2670 ) {
			var_2670 = 0
			var_2675 = int((48.0 * var_2647 - 1.0 - var_2656) * 100.0 / var_2647 + 0.5) - 2400
			var_2676 = int((48.0 * var_2647 - 1.0 - var_2657) * 100.0 / var_2647 + 0.5) - 2400
			var_2677 = var_2676 - var_2675
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					if ( GetICP_fix_edit(var_2632, var_2654 + cnt) == 0 ) {
						var_2678 = limit(int(var_2665 * var_2677 + var_2675 + 0.5), -2400, 2400)
						if ( var_2660 == 1 ) {
							var_2678 = (var_2678 + 2400 + 50) / 100 * 100 - 2400
						}
						SetICP_frm var_2632, var_2654 + cnt, var_2678
					}
				}
				var_2665 += var_2666
			loop
			goto *label_736
			var_2670++
		}
		if ( var_2669 == 2 | var_2670 ) {
			var_2670 = 0
			if ( var_67(194) == 0 ) {
				var_2679 = (var_2621 - 20.0 - var_2656) / (var_2620 - 40) * 2.0
				var_2680 = (var_2621 - 20.0 - var_2657) / (var_2620 - 40) * 2.0
				var_2681 = var_2680 - var_2679
			}
			else {
				var_2682 = 20.0 * logf(1.0 / 32768.0) / logf(10.0) - 12.0
				var_2683 = (1.0 - (var_2621 - 20.0 - var_2656) / (var_2620 - 40)) * var_2682 + 12.0
				var_2684 = (1.0 - (var_2621 - 20.0 - var_2657) / (var_2620 - 40)) * var_2682 + 12.0
				var_2685 = var_2684 - var_2683
			}
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					if ( var_67(194) == 0 ) {
						var_2686 = limitf(var_2665 * var_2681 + var_2679, 0.0, 2.0)
					}
					else {
						var_2686 = powf(10.0, (var_2665 * var_2685 + var_2683) / 20.0)
						var_2686 = limitf(var_2686, 0.0, 2.0)
					}
					SetICP_vol var_2632, var_2654 + cnt, var_2686
				}
				var_2665 += var_2666
			loop
			goto *label_736
			var_2670++
		}
		if ( var_2669 == 3 | var_2670 ) {
			var_2670 = 0
			var_2687 = (var_2621 - 20.0 - var_2656) / (var_2620 - 40) * 2.0 - 1.0
			var_2688 = (var_2621 - 20.0 - var_2657) / (var_2620 - 40) * 2.0 - 1.0
			var_2689 = var_2688 - var_2687
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					var_2690 = limitf(var_2665 * var_2689 + var_2687, -1.0, 1.0)
					SetICP_pan var_2632, var_2654 + cnt, var_2690
				}
				var_2665 += var_2666
			loop
			goto *label_736
			var_2670++
		}
		if ( var_2669 == 4 | var_2670 ) {
			var_2670 = 0
			if ( var_67(194) == 0 ) {
				var_2691 = (var_2621 - 20.0 - var_2656) / (var_2620 - 40)
				var_2692 = (var_2621 - 20.0 - var_2657) / (var_2620 - 40)
				var_2693 = var_2692 - var_2691
			}
			else {
				var_2682 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
				var_2694 = (1.0 - (var_2621 - 20.0 - var_2656) / (var_2620 - 40)) * var_2682
				var_2695 = (1.0 - (var_2621 - 20.0 - var_2657) / (var_2620 - 40)) * var_2682
				var_2696 = var_2695 - var_2694
			}
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					if ( var_67(194) == 0 ) {
						var_2697 = limitf(var_2665 * var_2693 + var_2691, 0.0, 1.0)
					}
					else {
						var_2697 = powf(10.0, (var_2665 * var_2696 + var_2694) / 20.0)
						var_2697 = limitf(var_2697, 0.0, 1.0)
					}
					SetICP_dyn_edit var_2632, var_2654 + cnt, var_2697
				}
				var_2665 += var_2666
			loop
			goto *label_736
			var_2670++
		}
		if ( var_2669 == 6 | var_2670 ) {
			var_2670 = 0
			var_2671 = int((128.0 * var_2647 - 1.0 - var_2656) * 100.0 / var_2647 + 0.5)
			var_2672 = int((128.0 * var_2647 - 1.0 - var_2657) * 100.0 / var_2647 + 0.5)
			var_2673 = var_2672 - var_2671
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					if ( GetICP_fix_edit(var_2632, var_2654 + cnt) == 0 ) {
						var_2674 = limit(int(var_2665 * var_2673 + var_2671 + 0.5), 0, 12800)
						if ( var_2660 == 1 ) {
							var_2674 = snappitch(var_2674, var_2636, var_2637, var_2638, var_2629)
						}
						SetICP_pit_org var_2632, var_2654 + cnt, var_2674
						if ( var_67(39) == 1 ) {
							SetICP_pit_edit var_2632, var_2654 + cnt, var_2674
						}
					}
				}
				var_2665 += var_2666
			loop
			goto *label_736
			var_2670++
		}
		if ( var_2669 == 7 | var_2670 ) {
			var_2670 = 0
			var_2698 = int((var_2621 - 20.0 - var_2656) * 20000.0 / (var_2620 - 40) + 0.5) - 10000
			var_2699 = int((var_2621 - 20.0 - var_2657) * 20000.0 / (var_2620 - 40) + 0.5) - 10000
			var_2700 = var_2699 - var_2698
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					var_2701 = limit(int(var_2665 * var_2700 + var_2698), -10000, 10000)
					SetICP_breathiness var_2632, var_2654 + cnt, var_2701
				}
				var_2665 += var_2666
			loop
			goto *label_736
			var_2670++
		}
		if ( var_2669 == 8 | var_2670 ) {
			var_2670 = 0
			var_2702 = -10000
			var_2703 = 10000
			var_2704 = var_2703 - var_2702
			var_2698 = int((var_2621 - 20.0 - var_2656) * var_2704 / (var_2620 - 40) + 0.5) + var_2702
			var_2699 = int((var_2621 - 20.0 - var_2657) * var_2704 / (var_2620 - 40) + 0.5) + var_2702
			var_2700 = var_2699 - var_2698
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					var_2701 = limit(int(var_2665 * var_2700 + var_2698), var_2702, var_2703)
					SetICP_brightness var_2632, var_2654 + cnt, var_2701
				}
				var_2665 += var_2666
			loop
			goto *label_736
			var_2670++
		}
		if ( var_2669 == 9 | var_2670 ) {
			var_2670 = 0
			var_2702 = -10000
			var_2703 = 10000
			var_2704 = var_2703 - var_2702
			var_2698 = int((var_2621 - 20.0 - var_2656) * var_2704 / (var_2620 - 40) + 0.5) + var_2702
			var_2699 = int((var_2621 - 20.0 - var_2657) * var_2704 / (var_2620 - 40) + 0.5) + var_2702
			var_2700 = var_2699 - var_2698
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					var_2701 = limit(int(var_2665 * var_2700 + var_2698), var_2702, var_2703)
					SetICP_clearness var_2632, var_2654 + cnt, var_2701
				}
				var_2665 += var_2666
			loop
			goto *label_736
			var_2670++
		}
		if ( var_2669 == 10 | var_2670 ) {
			var_2670 = 0
			var_2702 = -10000
			var_2703 = 10000
			if ( var_2642 ) {
				var_2703 = 0
			}
			var_2704 = var_2703 - var_2702
			var_2698 = int((var_2621 - 20.0 - var_2656) * var_2704 / (var_2620 - 40) + 0.5) + var_2702
			var_2699 = int((var_2621 - 20.0 - var_2657) * var_2704 / (var_2620 - 40) + 0.5) + var_2702
			var_2700 = var_2699 - var_2698
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					var_2701 = limit(int(var_2665 * var_2700 + var_2698), var_2702, var_2703)
					SetICP_Heq var_2632, var_2654 + cnt, var_2701
				}
				var_2665 += var_2666
			loop
			goto *label_736
		}
*label_736
		var_67(249) = 1
	}
	if ( var_2661 == 2 & var_2664 == 2 ) {
		var_2665 = 0.0
		var_2666 = 0.0
		if ( var_2659 >= 2 ) {
			var_2666 = 1.0 / (var_2659 - 1)
		}
		var_2667 = 0
		var_2668 = var_2633
		if ( var_2614 == 1 ) {
			var_2667 = var_340(var_2628 * 51 + 25)
			var_2668 = var_340(var_2628 * 51 + 26)
		}
		var_2669 = var_2630
		if ( 0 ) {
			var_2670++
		}
		if ( var_2669 == 0 | var_2670 ) {
			var_2670 = 0
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					var_2674 = GetICP_pit_org(var_2632, var_2654 + cnt)
					SetICP_pit_edit var_2632, var_2654 + cnt, var_2674
				}
			loop
			goto *label_737
			var_2670++
		}
		if ( var_2669 == 1 | var_2670 ) {
			var_2670 = 0
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					SetICP_frm var_2632, var_2654 + cnt, 0
				}
			loop
			goto *label_737
			var_2670++
		}
		if ( var_2669 == 2 | var_2670 ) {
			var_2670 = 0
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					SetICP_vol var_2632, var_2654 + cnt, 1.0
				}
			loop
			goto *label_737
			var_2670++
		}
		if ( var_2669 == 3 | var_2670 ) {
			var_2670 = 0
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					SetICP_pan var_2632, var_2654 + cnt, 0.0
				}
			loop
			goto *label_737
			var_2670++
		}
		if ( var_2669 == 4 | var_2670 ) {
			var_2670 = 0
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					var_2697 = vslib_geticp_dyn_org(var_2632, var_2654 + cnt)
					SetICP_dyn_edit var_2632, var_2654 + cnt, var_2697
				}
			loop
			goto *label_737
			var_2670++
		}
		if ( var_2669 == 6 | var_2670 ) {
			var_2670 = 0
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					var_2674 = GetICP_pit_analyze(var_2632, var_2654 + cnt, 0)
					SetICP_pit_org var_2632, var_2654 + cnt, var_2674
					if ( var_67(39) == 1 ) {
						SetICP_pit_edit var_2632, var_2654 + cnt, var_2674
					}
				}
			loop
			goto *label_737
			var_2670++
		}
		if ( var_2669 == 7 | var_2670 ) {
			var_2670 = 0
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					SetICP_breathiness var_2632, var_2654 + cnt, 0
				}
			loop
			goto *label_737
			var_2670++
		}
		if ( var_2669 == 8 | var_2670 ) {
			var_2670 = 0
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					SetICP_brightness var_2632, var_2654 + cnt, 0
				}
			loop
			goto *label_737
			var_2670++
		}
		if ( var_2669 == 9 | var_2670 ) {
			var_2670 = 0
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					SetICP_clearness var_2632, var_2654 + cnt, 0
				}
			loop
			goto *label_737
			var_2670++
		}
		if ( var_2669 == 10 | var_2670 ) {
			var_2670 = 0
			repeat var_2659
				if ( var_2654 + cnt >= var_2667 & var_2654 + cnt < var_2668 ) {
					SetICP_Heq var_2632, var_2654 + cnt, 0
				}
			loop
			goto *label_737
		}
*label_737
		var_67(249) = 1
	}
	var_2653 = var_2652
	var_2658 = double(var_2623 + var_2646)
	var_2664 = var_2661
	return
*label_738
	goto *label_745
#deffunc idelinetool_key
	var_2705 = var_2706
	var_2707 = var_2708
	var_2709 = var_2710
	var_2711 = var_2712
	var_2713 = var_2714
	var_2715 = var_2716
	var_2706 = getkeyflg(var_67(3))
	var_2708 = getkeyflg(var_67(4))
	var_2710 = getkeyflg(4)
	var_2712 = getkeyflg(16)
	var_2714 = getkeyflg(17)
	var_2716 = getkeyflg(18)
	return
#deffunc getidelinepos array prm_1302
	prm_1302(0) = var_2717, var_2718, var_2719, var_2720
	return
#deffunc idelinetool var prm_1303
	gsel 12
	var_2721 = _mousex() - var_67(225)
	var_2722 = _mousey() - var_67(226)
	var_2723 = var_67(227)
	var_2724 = var_67(228)
	var_2725 = limit(var_67(270), 0, var_67(269) - 1)
	var_2726 = getidetabitemnum(var_2725)
	var_2727 = var_340(var_2725 * 51 + 1)
	var_2728 = var_340(var_2725 * 51 + (2 + var_2727))
	var_2729 = GetPrjItem(var_67(17), var_2726)
	var_2730 = GetII_nCtrlPnt(var_2729)
	var_2731 = GetII_ctrlPntPs(var_2729)
	var_2732 = GetII_sampFreq(var_2729)
	var_2733 = vslib_getprjitemfreqa4(var_67(17), var_2726)
	var_2734 = GetPrjItemKey(var_67(17), var_2726)
	var_2735 = GetPrjItemTune(var_67(17), var_2726)
	var_2736 = GetPrjItemTrackNum(var_67(17), var_2726)
	var_2737 = GetTrackMorphingGroup(var_67(17), var_2736)
	var_2738 = GetIP_synthMode(var_2729)
	if ( var_2738 == 8 & var_2737 != 0 ) {
		var_2739 = 1
	}
	else {
		var_2739 = 0
	}
	var_2740 = 0
	if ( var_2721 >= 0 & var_2722 >= 0 & var_2721 < var_67(227) & var_2722 < var_67(228) ) {
		var_2740 = 1
	}
	var_2741 = var_340(var_2725 * 51 + 18)
	var_2742 = var_340(var_2725 * 51 + 19)
	var_2743 = 0
	var_2744 = 100
	if ( var_2727 == 0 | var_2727 == 6 ) {
		var_2743 = var_340(var_2725 * 51 + 21)
		var_2744 = var_340(var_2725 * 51 + 22)
	}
	if ( var_2727 == 1 ) {
		var_2743 = var_340(var_2725 * 51 + 23)
		var_2744 = var_340(var_2725 * 51 + 24)
	}
	if ( var_2740 == 1 ) {
		var_67(166) = 32515
	}
	var_2745 = double(var_2721 + var_2741) / var_2742
	var_2746 = vslib_getstretchorgsec(var_2729, var_2745, var_2747)
	var_2748 = limit(int(var_2746 * var_2731), 0, var_2730 - 1)
	var_2749 = var_2748
	var_2750 = var_2722 + var_2743
	var_2751 = (var_2712 + var_67(180)) \ 2
	var_2752 = var_2727
	if ( 0 ) {
		var_2753++
	}
	if ( var_2752 == 0 | var_2753 ) {
		var_2753 = 0
		var_2753++
	}
	if ( var_2752 == 6 | var_2753 ) {
		var_2753 = 0
		var_2754 = ((128 * var_2744 - 1 - var_2750) * 100 + var_2744 / 2) / var_2744
		if ( var_2751 == 1 ) {
			var_2754 = snappitch(var_2754, var_2733, var_2734, var_2735, var_2726)
		}
		goto *label_742
		var_2753++
	}
	if ( var_2752 == 1 | var_2753 ) {
		var_2753 = 0
		var_2754 = (48 * var_2744 - 1 - var_2750) * 100 / var_2744 - 2400
		if ( var_2751 == 1 ) {
			var_2754 = (var_2754 + 2400 + 50) / 100 * 100 - 2400
		}
		goto *label_742
		var_2753++
	}
	if ( var_2752 == 2 | var_2753 ) {
		var_2753 = 0
		if ( var_67(194) == 0 ) {
			var_2755 = double(var_2724 - 20 - var_2750) / (var_2724 - 40) * 2.0
		}
		else {
			var_2756 = 20.0 * logf(1.0 / 32768.0) / logf(10.0) - 12.0
			var_2755 = (1.0 - double(var_2724 - 20 - var_2750) / (var_2724 - 40)) * var_2756 + 12.0
		}
		goto *label_742
		var_2753++
	}
	if ( var_2752 == 3 | var_2753 ) {
		var_2753 = 0
		var_2755 = double(var_2724 - 20 - var_2750) / (var_2724 - 40) * 2.0 - 1.0
		goto *label_742
		var_2753++
	}
	if ( var_2752 == 4 | var_2753 ) {
		var_2753 = 0
		if ( var_67(194) == 0 ) {
			var_2755 = double(var_2724 - 20 - var_2750) / (var_2724 - 40)
		}
		else {
			var_2756 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
			var_2755 = (1.0 - double(var_2724 - 20 - var_2750) / (var_2724 - 40)) * var_2756
		}
		goto *label_742
		var_2753++
	}
	if ( var_2752 == 7 | var_2753 ) {
		var_2753 = 0
		var_2753++
	}
	if ( var_2752 == 8 | var_2753 ) {
		var_2753 = 0
		var_2753++
	}
	if ( var_2752 == 9 | var_2753 ) {
		var_2753 = 0
		var_2754 = (var_2724 - 20 - var_2750) * 20000 / (var_2724 - 40) - 10000
		goto *label_742
		var_2753++
	}
	if ( var_2752 == 10 | var_2753 ) {
		var_2753 = 0
		var_2757 = -10000
		var_2758 = 10000
		if ( var_2739 ) {
			var_2758 = 0
		}
		var_2759 = var_2758 - var_2757
		var_2754 = (var_2724 - 20 - var_2750) * var_2759 / (var_2724 - 40) + var_2757
		goto *label_742
	}
*label_742
	if ( var_2727 != 5 ) {
		if ( var_2740 == 1 & var_2705 == 0 & var_2706 == 1 ) {
			var_2760 = var_2749
			var_2761 = var_2754
			var_2762 = var_2755
			prm_1303 = 1
		}
	}
	if ( prm_1303 == 1 ) {
		var_2763 = var_2749
		var_2764 = var_2754
		var_2765 = var_2755
		if ( var_2760 <= var_2763 ) {
			var_2766 = var_2760
			var_2767 = var_2761
			var_2768 = var_2762
			var_2769 = var_2763
			var_2770 = var_2764
			var_2771 = var_2765
			if ( var_2714 == 1 ) {
				var_2767 = var_2770
				var_2768 = var_2771
			}
		}
		else {
			var_2766 = var_2763
			var_2767 = var_2764
			var_2768 = var_2765
			var_2769 = var_2760
			var_2770 = var_2761
			var_2771 = var_2762
			if ( var_2714 == 1 ) {
				var_2770 = var_2767
				var_2771 = var_2768
			}
		}
		var_2752 = var_2727
		if ( 0 ) {
			var_2753++
		}
		if ( var_2752 == 0 | var_2753 ) {
			var_2753 = 0
			var_2753++
		}
		if ( var_2752 == 6 | var_2753 ) {
			var_2753 = 0
			var_2718 = 128 * var_2744 - 1 - var_2743 - (var_2767 * var_2744 + 50) / 100
			var_2720 = 128 * var_2744 - 1 - var_2743 - (var_2770 * var_2744 + 50) / 100
			goto *label_743
			var_2753++
		}
		if ( var_2752 == 1 | var_2753 ) {
			var_2753 = 0
			var_2718 = 48 * var_2744 - 1 - var_2743 - ((var_2767 + 2400) * var_2744 + 50) / 100
			var_2720 = 48 * var_2744 - 1 - var_2743 - ((var_2770 + 2400) * var_2744 + 50) / 100
			goto *label_743
			var_2753++
		}
		if ( var_2752 == 2 | var_2753 ) {
			var_2753 = 0
			if ( var_67(194) == 0 ) {
				var_2718 = var_2724 - 20 - int(var_2768 * 0.5 * (var_2724 - 40) + 0.5)
				var_2720 = var_2724 - 20 - int(var_2771 * 0.5 * (var_2724 - 40) + 0.5)
			}
			else {
				var_2772 = 12.0
				var_2773 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
				var_2718 = var_2724 - 20 - int((var_2768 - var_2773) / (var_2772 - var_2773) * (var_2724 - 40) + 0.5)
				var_2720 = var_2724 - 20 - int((var_2771 - var_2773) / (var_2772 - var_2773) * (var_2724 - 40) + 0.5)
			}
			goto *label_743
			var_2753++
		}
		if ( var_2752 == 3 | var_2753 ) {
			var_2753 = 0
			var_2718 = var_2724 - 20 - int((var_2768 + 1.0) * 0.5 * (var_2724 - 40) + 0.5)
			var_2720 = var_2724 - 20 - int((var_2771 + 1.0) * 0.5 * (var_2724 - 40) + 0.5)
			goto *label_743
			var_2753++
		}
		if ( var_2752 == 4 | var_2753 ) {
			var_2753 = 0
			if ( var_67(194) == 0 ) {
				var_2718 = var_2724 - 20 - int(var_2768 * (var_2724 - 40) + 0.5)
				var_2720 = var_2724 - 20 - int(var_2771 * (var_2724 - 40) + 0.5)
			}
			else {
				var_2772 = 0.0
				var_2773 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
				var_2718 = var_2724 - 20 - int((var_2768 - var_2773) / (var_2772 - var_2773) * (var_2724 - 40) + 0.5)
				var_2720 = var_2724 - 20 - int((var_2771 - var_2773) / (var_2772 - var_2773) * (var_2724 - 40) + 0.5)
			}
			goto *label_743
			var_2753++
		}
		if ( var_2752 == 5 | var_2753 ) {
			var_2753 = 0
			goto *label_743
			var_2753++
		}
		if ( var_2752 == 7 | var_2753 ) {
			var_2753 = 0
			var_2753++
		}
		if ( var_2752 == 8 | var_2753 ) {
			var_2753 = 0
			var_2753++
		}
		if ( var_2752 == 9 | var_2753 ) {
			var_2753 = 0
			var_2718 = var_2724 - 20 - (var_2767 + 10000) * (var_2724 - 40) / 20000
			var_2720 = var_2724 - 20 - (var_2770 + 10000) * (var_2724 - 40) / 20000
			goto *label_743
			var_2753++
		}
		if ( var_2752 == 10 | var_2753 ) {
			var_2753 = 0
			var_2757 = -10000
			var_2758 = 10000
			if ( var_2739 ) {
				var_2758 = 0
			}
			var_2759 = var_2758 - var_2757
			var_2718 = var_2724 - 20 - (var_2767 - var_2757) * (var_2724 - 40) / var_2759
			var_2720 = var_2724 - 20 - (var_2770 - var_2757) * (var_2724 - 40) / var_2759
			goto *label_743
		}
*label_743
		var_2774 = double(var_2766) / var_2731
		var_2775 = vslib_getstretchedtsec(var_2729, var_2774, var_2747)
		var_2717 = int(var_2775 * var_2742 + 0.5) - var_2741
		var_2776 = double(var_2769) / var_2731
		var_2777 = vslib_getstretchedtsec(var_2729, var_2776, var_2747)
		var_2719 = int(var_2777 * var_2742 + 0.5) - var_2741
		if ( var_2708 == 1 ) {
			prm_1303 = 0
		}
		else {
			if ( var_2706 == 0 ) {
				var_2778 = var_2769 - var_2766 + 1
				var_2779 = 0.0
				var_2780 = var_2777 - var_2775
				if ( var_2780 == 0.0 ) {
					var_2780 = 1.0
				}
				var_2781 = 0
				var_2782 = var_2730
				if ( var_2716 == 1 ) {
					var_2781 = var_340(var_2725 * 51 + 25)
					var_2782 = var_340(var_2725 * 51 + 26)
				}
				var_2752 = var_2727
				if ( 0 ) {
					var_2753++
				}
				if ( var_2752 == 0 | var_2753 ) {
					var_2753 = 0
					var_2783 = var_2770 - var_2767
					repeat var_2778
						if ( var_2766 + cnt >= var_2781 & var_2766 + cnt < var_2782 ) {
							if ( GetICP_fix_edit(var_2729, var_2766 + cnt) == 0 ) {
								var_2784 = vslib_getstretchedtsec(var_2729, double(var_2766 + cnt) / var_2731, var_2747)
								var_2785 = var_2784 - var_2775
								var_2779 = var_2785 / var_2780
								var_2754 = limit(int(var_2779 * var_2783 + var_2767 + 0.5), 0, 12800)
								SetICP_pit_edit var_2729, var_2766 + cnt, var_2754
							}
						}
					loop
					goto *label_744
					var_2753++
				}
				if ( var_2752 == 1 | var_2753 ) {
					var_2753 = 0
					var_2783 = var_2770 - var_2767
					repeat var_2778
						if ( var_2766 + cnt >= var_2781 & var_2766 + cnt < var_2782 ) {
							if ( GetICP_fix_edit(var_2729, var_2766 + cnt) == 0 ) {
								var_2784 = vslib_getstretchedtsec(var_2729, double(var_2766 + cnt) / var_2731, var_2747)
								var_2785 = var_2784 - var_2775
								var_2779 = var_2785 / var_2780
								var_2786 = limit(int(var_2779 * var_2783 + var_2767 + 0.5), -2400, 2400)
								SetICP_frm var_2729, var_2766 + cnt, var_2786
							}
						}
					loop
					goto *label_744
					var_2753++
				}
				if ( var_2752 == 2 | var_2753 ) {
					var_2753 = 0
					var_2787 = var_2771 - var_2768
					repeat var_2778
						if ( var_2766 + cnt >= var_2781 & var_2766 + cnt < var_2782 ) {
							var_2784 = vslib_getstretchedtsec(var_2729, double(var_2766 + cnt) / var_2731, var_2747)
							var_2785 = var_2784 - var_2775
							var_2779 = var_2785 / var_2780
							if ( var_67(194) == 0 ) {
								var_2788 = limitf(var_2779 * var_2787 + var_2768, 0.0, 2.0)
							}
							else {
								var_2788 = powf(10.0, (var_2779 * var_2787 + var_2768) / 20.0)
								var_2788 = limitf(var_2788, 0.0, 2.0)
							}
							SetICP_vol var_2729, var_2766 + cnt, var_2788
						}
					loop
					goto *label_744
					var_2753++
				}
				if ( var_2752 == 3 | var_2753 ) {
					var_2753 = 0
					var_2787 = var_2771 - var_2768
					repeat var_2778
						if ( var_2766 + cnt >= var_2781 & var_2766 + cnt < var_2782 ) {
							var_2784 = vslib_getstretchedtsec(var_2729, double(var_2766 + cnt) / var_2731, var_2747)
							var_2785 = var_2784 - var_2775
							var_2779 = var_2785 / var_2780
							var_2789 = limitf(var_2779 * var_2787 + var_2768, -1.0, 1.0)
							SetICP_pan var_2729, var_2766 + cnt, var_2789
						}
					loop
					goto *label_744
					var_2753++
				}
				if ( var_2752 == 4 | var_2753 ) {
					var_2753 = 0
					var_2787 = var_2771 - var_2768
					repeat var_2778
						if ( var_2766 + cnt >= var_2781 & var_2766 + cnt < var_2782 ) {
							var_2784 = vslib_getstretchedtsec(var_2729, double(var_2766 + cnt) / var_2731, var_2747)
							var_2785 = var_2784 - var_2775
							var_2779 = var_2785 / var_2780
							if ( var_67(194) == 0 ) {
								var_2790 = limitf(var_2779 * var_2787 + var_2768, 0.0, 1.0)
							}
							else {
								var_2790 = powf(10.0, (var_2779 * var_2787 + var_2768) / 20.0)
								var_2790 = limitf(var_2790, 0.0, 1.0)
							}
							SetICP_dyn_edit var_2729, var_2766 + cnt, var_2790
						}
					loop
					goto *label_744
					var_2753++
				}
				if ( var_2752 == 6 | var_2753 ) {
					var_2753 = 0
					var_2783 = var_2770 - var_2767
					repeat var_2778
						if ( var_2766 + cnt >= var_2781 & var_2766 + cnt < var_2782 ) {
							if ( GetICP_fix_edit(var_2729, var_2766 + cnt) == 0 ) {
								var_2784 = vslib_getstretchedtsec(var_2729, double(var_2766 + cnt) / var_2731, var_2747)
								var_2785 = var_2784 - var_2775
								var_2779 = var_2785 / var_2780
								var_2754 = limit(int(var_2779 * var_2783 + var_2767 + 0.5), 0, 12800)
								SetICP_pit_org var_2729, var_2766 + cnt, var_2754
								if ( var_67(39) == 1 ) {
									SetICP_pit_edit var_2729, var_2766 + cnt, var_2754
								}
							}
						}
					loop
					goto *label_744
					var_2753++
				}
				if ( var_2752 == 7 | var_2753 ) {
					var_2753 = 0
					var_2783 = var_2770 - var_2767
					repeat var_2778
						if ( var_2766 + cnt >= var_2781 & var_2766 + cnt < var_2782 ) {
							var_2784 = vslib_getstretchedtsec(var_2729, double(var_2766 + cnt) / var_2731, var_2747)
							var_2785 = var_2784 - var_2775
							var_2779 = var_2785 / var_2780
							var_2791 = limit(var_2779 * var_2783 + var_2767, -10000, 10000)
							SetICP_breathiness var_2729, var_2766 + cnt, var_2791
						}
					loop
					goto *label_744
					var_2753++
				}
				if ( var_2752 == 8 | var_2753 ) {
					var_2753 = 0
					var_2757 = -10000
					var_2758 = 10000
					var_2759 = var_2758 - var_2757
					var_2783 = var_2770 - var_2767
					repeat var_2778
						if ( var_2766 + cnt >= var_2781 & var_2766 + cnt < var_2782 ) {
							var_2784 = vslib_getstretchedtsec(var_2729, double(var_2766 + cnt) / var_2731, var_2747)
							var_2785 = var_2784 - var_2775
							var_2779 = var_2785 / var_2780
							var_2792 = limit(var_2779 * var_2783 + var_2767, var_2757, var_2758)
							SetICP_brightness var_2729, var_2766 + cnt, var_2792
						}
					loop
					goto *label_744
					var_2753++
				}
				if ( var_2752 == 9 | var_2753 ) {
					var_2753 = 0
					var_2757 = -10000
					var_2758 = 10000
					var_2759 = var_2758 - var_2757
					var_2783 = var_2770 - var_2767
					repeat var_2778
						if ( var_2766 + cnt >= var_2781 & var_2766 + cnt < var_2782 ) {
							var_2784 = vslib_getstretchedtsec(var_2729, double(var_2766 + cnt) / var_2731, var_2747)
							var_2785 = var_2784 - var_2775
							var_2779 = var_2785 / var_2780
							var_2793 = limit(var_2779 * var_2783 + var_2767, var_2757, var_2758)
							SetICP_clearness var_2729, var_2766 + cnt, var_2793
						}
					loop
					goto *label_744
					var_2753++
				}
				if ( var_2752 == 10 | var_2753 ) {
					var_2753 = 0
					var_2757 = -10000
					var_2758 = 10000
					if ( var_2739 ) {
						var_2758 = 0
					}
					var_2759 = var_2758 - var_2757
					var_2783 = var_2770 - var_2767
					repeat var_2778
						if ( var_2766 + cnt >= var_2781 & var_2766 + cnt < var_2782 ) {
							var_2784 = vslib_getstretchedtsec(var_2729, double(var_2766 + cnt) / var_2731, var_2747)
							var_2785 = var_2784 - var_2775
							var_2779 = var_2785 / var_2780
							var_2793 = limit(var_2779 * var_2783 + var_2767, var_2757, var_2758)
							SetICP_Heq var_2729, var_2766 + cnt, var_2793
						}
					loop
					goto *label_744
				}
*label_744
				if ( var_2727 == 0 | var_2727 == 6 ) {
					SetNotePitch var_2729
					var_67(249) = 1
				}
				prm_1303 = 0
				oneditproject
			}
		}
		var_67(249) = 1
	}
	return
*label_745
	goto *label_749
#deffunc idenotetool_key
	var_2794 = var_2795
	var_2796 = var_2797
	var_2798 = var_2799
	var_2800 = var_2801
	var_2802 = var_2803
	var_2804 = var_2805
	var_2795 = getkeyflg(var_67(3))
	var_2797 = getkeyflg(var_67(4))
	var_2799 = getkeyflg(4)
	var_2801 = getkeyflg(16)
	var_2803 = getkeyflg(17)
	var_2805 = getkeyflg(18)
	return
#deffunc idenotetool var prm_1304
	gsel 12
	var_2806 = _mousex() - var_67(225)
	var_2807 = _mousey() - var_67(226)
	var_2808 = var_67(227)
	var_2809 = var_67(228)
	var_2810 = limit(var_67(270), 0, var_67(269) - 1)
	var_2811 = getidetabitemnum(var_2810)
	var_2812 = var_340(var_2810 * 51 + 1)
	var_2813 = var_340(var_2810 * 51 + (2 + var_2812))
	var_2814 = GetPrjItem(var_67(17), var_2811)
	var_2815 = GetII_nCtrlPnt(var_2814)
	var_2816 = GetII_ctrlPntPs(var_2814)
	var_2817 = GetII_sampFreq(var_2814)
	var_2818 = vslib_getprjitemfreqa4(var_67(17), var_2811)
	var_2819 = GetPrjItemKey(var_67(17), var_2811)
	var_2820 = GetPrjItemTune(var_67(17), var_2811)
	var_2821 = 0
	if ( var_2806 >= 0 & var_2807 >= 0 & var_2806 < var_67(227) & var_2807 < var_67(228) ) {
		var_2821 = 1
	}
	var_2822 = var_340(var_2810 * 51 + 18)
	var_2823 = var_340(var_2810 * 51 + 19)
	var_2824 = 0
	var_2825 = 100
	if ( var_2812 == 0 | var_2812 == 6 ) {
		var_2824 = var_340(var_2810 * 51 + 21)
		var_2825 = var_340(var_2810 * 51 + 22)
	}
	if ( var_2812 == 1 ) {
		var_2824 = var_340(var_2810 * 51 + 23)
		var_2825 = var_340(var_2810 * 51 + 24)
	}
	var_2826 = double(var_2806 + var_2822) / var_2823
	var_2827 = vslib_getstretchorgsec(var_2814, var_2826, var_2828)
	var_2829 = limit(int(var_2827 * var_2816 + 0.5), 0, var_2815)
	var_2830 = limit(int(var_2827 * var_2816), 0, var_2815 - 1)
	var_2831 = (var_2801 + var_67(180)) \ 2
	if ( var_2804 == 0 & var_2805 == 1 ) {
		var_2832 = var_340(var_2810 * 51 + 25)
		var_2833 = var_340(var_2810 * 51 + 26)
		var_2834 = GetIP_nNote(var_2814)
		repeat var_2834
			GetIP_noteData var_2814, cnt, var_2835, var_2836, var_2837, var_2838
			if ( var_2832 < var_2835 + var_2836 & var_2833 > var_2835 ) {
				if ( var_2835 < var_340(var_2810 * 51 + 25) ) {
					var_340(var_2810 * 51 + 25) = var_2835
				}
				if ( var_2835 + var_2836 > var_340(var_2810 * 51 + 26) ) {
					var_340(var_2810 * 51 + 26) = var_2835 + var_2836
				}
				var_2838 = 1
				SetIP_noteData var_2814, cnt, var_2835, var_2836, var_2837, var_2838
			}
		loop
		dim var_2839, var_2815
		repeat var_2815
			var_2839(cnt) = GetICP_pit_edit(var_2814, cnt)
		loop
		var_2840 = -1
		var_2841 = -1
		repeat var_2834
			GetIP_noteData var_2814, cnt, var_2835, var_2836, var_2837, var_2838
			if ( var_2838 == 1 ) {
				if ( var_2840 == (-1) ) {
					var_2840 = cnt
				}
				var_2841 = cnt
			}
		loop
		dimtype var_2842, 3, var_2815, 0, 0, 0
		dim var_2843, 2
		CreateNoteWeight var_2814, var_2842, var_2840, var_2841, var_2843
		var_2844 = var_2843(0)
		var_2845 = var_2843(1)
		var_2846(0) = 0.0, 1.0 / 3.0, 2.0 / 3.0, 1.0
		var_2846(4) = 0.0, 0.0, 0.0, 0.0
		var_2847 = var_340(var_2810 * 51 + 25)
		var_2848 = var_340(var_2810 * 51 + 26) - var_2847
		dim var_2849, var_2848
		dim var_2850, var_2848
		var_2851 = 0
		var_2852 = 0
		repeat var_2848
			var_2850(cnt) = GetICP_pit_edit(var_2814, var_2847 + cnt)
			if ( GetICP_fix_edit(var_2814, var_2847 + cnt) == 0 ) {
				var_2851 += var_2850(cnt)
				var_2852++
			}
		loop
		if ( var_2852 != 0 ) {
			var_2851 = var_2851 / var_2852
		}
		var_2853 = 0
		var_67(249) = 1
	}
	if ( var_2804 == 1 & var_2805 == 0 ) {
		if ( var_2853 == 1 ) {
			SetNotePitch var_2814
			oneditproject
		}
		var_67(249) = 1
	}
	if ( var_2805 == 1 ) {
		repeat 4
			var_2827 = (var_2846(cnt) * var_2848 + var_2847) / var_2816
			var_2826 = vslib_getstretchedtsec(var_2814, var_2827, var_2828)
			var_2854(cnt * 2 + 0) = int(var_2826 * var_2823 + 0.5) - var_2822
			var_2855 = var_2851 + int(var_2846(4 + cnt))
			var_2854(cnt * 2 + 1) = 128 * var_2825 - 1 - var_2824 - (var_2855 * var_2825 + 50) / 100
		loop
	}
	if ( var_2796 == 1 & var_2797 == 0 ) {
		if ( prm_1304 == 0 & var_2821 == 1 & var_2856 == 0 ) {
			if ( var_2812 == 0 ) {
				var_67(167) = 16
			}
			else {
				popupidemenu var_2812
			}
		}
		else {
			var_2856 = 0
		}
	}
	var_2855 = ((128 * var_2825 - 1 - (var_2807 + var_2824)) * 100 + var_2825 / 2) / var_2825
	if ( prm_1304 == 0 ) {
		if ( var_2821 == 1 ) {
			if ( var_2805 == 0 ) {
			}
			else {
				if ( var_2812 == 0 & var_2848 > 0 ) {
					var_2857 = -1
					repeat 4
						if ( abs(var_2806 - var_2854(cnt * 2 + 0)) <= 5 & abs(var_2807 - var_2854(cnt * 2 + 1)) <= 5 ) {
							var_2857 = cnt
							if ( cnt == 0 | cnt == 3 ) {
								var_67(166) = 32645
							}
							else {
								var_67(166) = 32646
							}
						}
					loop
				}
			}
		}
		if ( var_2821 == 1 & var_2794 == 0 & var_2795 == 1 ) {
			if ( var_2805 == 0 ) {
				var_2834 = GetIP_nNote(var_2814)
				var_2858 = -1
				if ( var_2812 == 0 ) {
					repeat var_2834
						var_2859 = cnt
						GetIP_noteData var_2814, var_2859, var_2835, var_2836, var_2837, var_2838
						var_2860 = abs(var_2855 - var_2837)
						if ( var_67(197) == 0 ) {
							var_2861 = 200
						}
						else {
							var_2861 = 100
						}
						if ( var_2830 >= var_2835 & var_2830 <= var_2835 + var_2836 & var_2860 < var_2861 / 2 ) {
							if ( var_2838 == 0 ) {
								var_340(var_2810 * 51 + 25) = limit(var_2835, 0, var_2815)
								var_340(var_2810 * 51 + 26) = limit(var_2835 + var_2836, 0, var_2815)
								repeat var_2834
									GetIP_noteData var_2814, cnt, var_2835, var_2836, var_2837, var_2838
									if ( cnt != var_2859 ) {
										var_2838 = 0
									}
									else {
										var_2838 = 1
									}
									SetIP_noteData var_2814, cnt, var_2835, var_2836, var_2837, var_2838
								loop
							}
							var_2858 = var_2859
							cancelclickplay
							prm_1304 = 1
							var_67(249) = 1
							break
						}
					loop
				}
				if ( prm_1304 == 0 ) {
					var_2862 = var_2806 + var_2822
					var_2863 = var_2829
					prm_1304 = 3
				}
			}
			else {
				if ( var_2812 == 0 & var_2848 > 0 ) {
					if ( var_2857 >= 0 ) {
						var_2853 = 1
						var_2864 = var_2857
						var_2865 = var_2846(var_2864)
						var_2866 = var_2846(4 + var_2864)
						prm_1304 = 5
					}
				}
			}
			if ( prm_1304 == 1 ) {
				dim var_2839, var_2815
				repeat var_2815
					var_2839(cnt) = GetICP_pit_edit(var_2814, cnt)
				loop
				var_2840 = -1
				var_2841 = -1
				repeat var_2834
					GetIP_noteData var_2814, cnt, var_2835, var_2836, var_2837, var_2838
					if ( var_2838 == 1 ) {
						if ( var_2840 == (-1) ) {
							var_2840 = cnt
						}
						var_2841 = cnt
					}
				loop
				dimtype var_2842, 3, var_2815, 0, 0, 0
				dim var_2843, 2
				CreateNoteWeight var_2814, var_2842, var_2840, var_2841, var_2843
				var_2844 = var_2843(0)
				var_2845 = var_2843(1)
				var_2867 = var_2807 + var_2824
				var_2868 = 1
			}
		}
	}
	if ( prm_1304 == 1 ) {
		if ( var_2795 == 0 ) {
			prm_1304 = 0
			var_2834 = GetIP_nNote(var_2814)
			repeat var_2834
				GetIP_noteData var_2814, cnt, var_2835, var_2836, var_2837, var_2838
				if ( cnt == var_2858 ) {
					var_340(var_2810 * 51 + 25) = limit(var_2835, 0, var_2815)
					var_340(var_2810 * 51 + 26) = limit(var_2835 + var_2836, 0, var_2815)
					var_2838 = 1
				}
				else {
					var_2838 = 0
				}
				SetIP_noteData var_2814, cnt, var_2835, var_2836, var_2837, var_2838
			loop
			var_67(249) = 1
		}
		if ( abs(var_2807 + var_2824 - var_2867) >= 1 ) {
			prm_1304 = 2
		}
	}
	if ( prm_1304 == 2 ) {
		var_2869 = (var_2807 + var_2824 - var_2867) * (-1) * 100 / var_2825
		if ( var_2831 == 1 ) {
			if ( var_2869 < 0 ) {
				var_2869 = (var_2869 - 50) / 100 * 100
			}
			else {
				var_2869 = (var_2869 + 50) / 100 * 100
			}
		}
		var_2870 = 0
		if ( var_2869 != var_2868 | var_2830 != var_2871 ) {
			var_2870 = 1
			var_2868 = var_2869
			var_2871 = var_2830
		}
		if ( var_2805 != var_2804 | var_2803 != var_2802 ) {
			var_2870 = 1
		}
		if ( var_2870 == 1 ) {
			if ( var_2803 == 1 ) {
				repeat var_2841 - var_2840 + 1, var_2840
					GetIP_noteData var_2814, cnt, var_2872, var_2873, var_2874, var_2838
					var_2875 = 0
					var_2876 = 0
					var_2877 = 0
					var_2878 = 12800
					var_2879 = 6000
					var_2880 = 0
					repeat var_2873, var_2872
						if ( GetICP_fix_edit(var_2814, cnt) == 0 ) {
							var_2855 = GetICP_pit_org(var_2814, cnt)
							var_2875 += var_2855
							var_2876++
							if ( var_2855 > var_2877 ) {
								var_2877 = var_2855
							}
							if ( var_2855 < var_2878 ) {
								var_2878 = var_2855
							}
						}
					loop
					if ( var_2876 != 0 ) {
						var_2879 = var_2875 / var_2876
						var_2880 = var_2877 - var_2878
					}
					var_2875 = 0
					var_2876 = 0
					var_2881 = 0
					var_2882 = 12800
					var_2883 = 6000
					var_2884 = 0
					repeat var_2873, var_2872
						if ( GetICP_fix_edit(var_2814, cnt) == 0 ) {
							var_2855 = var_2839(cnt)
							var_2875 += var_2855
							var_2876++
							if ( var_2855 > var_2881 ) {
								var_2881 = var_2855
							}
							if ( var_2855 < var_2882 ) {
								var_2882 = var_2855
							}
						}
					loop
					if ( var_2876 != 0 ) {
						var_2883 = var_2875 / var_2876
						var_2884 = var_2881 - var_2882
					}
					if ( var_2876 != 0 ) {
						var_2885 = (var_2807 + var_2824 - var_2867) * (-1)
						if ( var_2885 > 0 ) {
							var_2886 = double(var_2885) * 100.0 / var_2825 / limit(var_2880, 1, 1200)
							var_2886 = limitf(var_2886, 0.0, 10.0)
							repeat var_2873, var_2872
								if ( GetICP_fix_edit(var_2814, cnt) == 0 ) {
									var_2887 = limitf(0.05 * (cnt - var_2872), 0.0, 1.0)
									var_2887 = limitf(0.05 * (var_2872 + var_2873 - cnt), 0.0, var_2887)
									var_2855 = var_2839(cnt) + int(var_2887 * var_2886 * (GetICP_pit_org(var_2814, cnt) - var_2879))
									SetICP_pit_edit var_2814, cnt, var_2855
								}
							loop
						}
						else {
							var_2886 = double(var_2885) * 100.0 / var_2825 / limit(var_2884, 1, 1200)
							var_2886 = limitf(var_2886, -1.0, 0.0)
							repeat var_2873, var_2872
								if ( GetICP_fix_edit(var_2814, cnt) == 0 ) {
									var_2887 = limitf(0.05 * (cnt - var_2872), 0.0, 1.0)
									var_2887 = limitf(0.05 * (var_2872 + var_2873 - cnt), 0.0, var_2887)
									var_2855 = var_2839(cnt) + int(var_2887 * var_2886 * (var_2839(cnt) - var_2883))
									SetICP_pit_edit var_2814, cnt, var_2855
								}
							loop
						}
					}
				loop
			}
			else {
				var_2888 = 0
				repeat var_2845 - var_2844, var_2844
					if ( GetICP_fix_edit(var_2814, cnt) == 0 ) {
						var_2889 = var_2842(cnt)
						var_2855 = var_2839(cnt) + int(var_2889 * var_2869)
						SetICP_pit_edit var_2814, cnt, var_2855
					}
				loop
			}
			SetNotePitch var_2814
			var_67(249) = 1
		}
		if ( var_2797 != 0 ) {
			repeat var_2845 - var_2844, var_2844
				if ( GetICP_fix_edit(var_2814, cnt) == 0 ) {
					SetICP_pit_edit var_2814, cnt, var_2839(cnt)
				}
			loop
			SetNotePitch var_2814
			var_67(249) = 1
			prm_1304 = 0
			var_2856 = 1
		}
		else {
			if ( var_2795 == 0 ) {
				SetNotePitch var_2814
				oneditproject
				var_67(249) = 1
				prm_1304 = 0
			}
		}
	}
	if ( prm_1304 == 3 ) {
		if ( var_2795 == 0 ) {
			prm_1304 = 0
		}
		if ( abs(var_2806 + var_2822 - var_2862) >= 3 ) {
			prm_1304 = 4
			var_2890 = -1
		}
	}
	if ( prm_1304 == 4 ) {
		var_2891 = var_2829
		if ( var_2863 <= var_2891 ) {
			var_340(var_2810 * 51 + 25) = var_2863
			var_340(var_2810 * 51 + 26) = var_2891
		}
		else {
			var_340(var_2810 * 51 + 25) = var_2891
			var_340(var_2810 * 51 + 26) = var_2863
		}
		if ( var_2891 != var_2890 ) {
			var_67(249) = 1
			var_2890 = var_2891
			var_2832 = var_340(var_2810 * 51 + 25)
			var_2833 = var_340(var_2810 * 51 + 26)
			var_2834 = GetIP_nNote(var_2814)
			repeat var_2834
				GetIP_noteData var_2814, cnt, var_2835, var_2836, var_2837, var_2838
				if ( var_2832 < var_2835 + var_2836 & var_2833 > var_2835 ) {
					var_2838 = 1
				}
				else {
					var_2838 = 0
				}
				SetIP_noteData var_2814, cnt, var_2835, var_2836, var_2837, var_2838
			loop
		}
		var_67(166) = 32644
		if ( var_2797 != 0 ) {
			var_340(var_2810 * 51 + 25) = var_2863
			var_340(var_2810 * 51 + 26) = var_2863
			prm_1304 = 0
			var_67(249) = 1
			var_2856 = 1
		}
		else {
			if ( var_2795 == 0 ) {
				prm_1304 = 0
				var_2832 = var_340(var_2810 * 51 + 25)
				var_2833 = var_340(var_2810 * 51 + 26)
				var_2834 = GetIP_nNote(var_2814)
				repeat var_2834
					GetIP_noteData var_2814, cnt, var_2835, var_2836, var_2837, var_2838
					if ( var_2832 < var_2835 + var_2836 & var_2833 > var_2835 ) {
						if ( var_2835 < var_340(var_2810 * 51 + 25) ) {
							var_340(var_2810 * 51 + 25) = var_2835
						}
						if ( var_2835 + var_2836 > var_340(var_2810 * 51 + 26) ) {
							var_340(var_2810 * 51 + 26) = var_2835 + var_2836
						}
					}
				loop
				var_67(249) = 1
			}
		}
	}
	if ( prm_1304 == 5 ) {
		if ( var_2795 == 0 | var_2805 == 0 ) {
			prm_1304 = 0
		}
		if ( var_2797 != 0 ) {
			prm_1304 = 0
			var_2856 = 1
			var_2892 = var_2865
			var_2893 = var_2866
		}
		else {
			var_2826 = double(var_2806 + var_2822) / var_2823
			var_2827 = vslib_getstretchorgsec(var_2814, var_2826, var_2828)
			var_2892 = (var_2827 * var_2816 - var_2847) / var_2848
			var_2855 = ((128 * var_2825 - 1 - (var_2807 + var_2824)) * 100 + var_2825 / 2) / var_2825
			var_2894 = 100 / var_2825
			var_2895 = (var_2851 + var_2894 / 2) / var_2894 * var_2894
			var_2893 = double(var_2855 - var_2895)
		}
		if ( var_2864 == 0 | var_2864 == 3 ) {
			var_2846(4 + var_2864) = var_2893
			var_67(166) = 32645
		}
		else {
			var_2846(var_2864) = limitf(var_2892, 0.0, 1.0)
			var_2846(4 + var_2864) = var_2893
			var_67(166) = 32646
		}
		repeat 4
			var_2827 = (var_2846(cnt) * var_2848 + var_2847) / var_2816
			var_2826 = vslib_getstretchedtsec(var_2814, var_2827, var_2828)
			var_2854(cnt * 2 + 0) = int(var_2826 * var_2823 + 0.5) - var_2822
			var_2855 = var_2851 + int(var_2846(4 + cnt))
			var_2854(cnt * 2 + 1) = 128 * var_2825 - 1 - var_2824 - (var_2855 * var_2825 + 50) / 100
		loop
		createbezierpit var_2850, var_2849, var_2848, var_2846
		repeat var_2845 - var_2844, var_2844
			if ( cnt < var_2847 ) {
				var_2896 = var_2849(0) - var_2850(0)
			}
			else {
				if ( cnt < var_2847 + var_2848 ) {
					var_2896 = var_2849(cnt - var_2847) - var_2850(cnt - var_2847)
				}
				else {
					var_2896 = var_2849(var_2848 - 1) - var_2850(var_2848 - 1)
				}
			}
			if ( GetICP_fix_edit(var_2814, cnt) == 0 ) {
				SetICP_pit_edit var_2814, cnt, var_2839(cnt) + int(var_2842(cnt) * var_2896)
			}
		loop
		var_67(249) = 1
	}
	return
#deffunc getbeziereditinfon var prm_1305, array prm_1306
	var_2897 = var_67(185)
	var_2810 = limit(var_67(270), 0, var_67(269) - 1)
	var_2812 = var_340(var_2810 * 51 + 1)
	prm_1305 = 0
	if ( var_2897 == 3 & var_2812 == 0 ) {
		var_2898 = getidenotephase()
		if ( var_2898 == 0 | var_2898 == 5 ) {
			if ( var_2848 > 0 ) {
				prm_1305 = var_2805
			}
		}
	}
	if ( prm_1305 == 1 ) {
		repeat 8
			prm_1306(cnt) = var_2854(cnt)
		loop
		repeat 4
			prm_1306(8 + cnt) = int(var_2846(4 + cnt))
		loop
	}
	return
*label_749
	goto *label_754
#deffunc geteditdata int prm_1307, int prm_1308, int prm_1309, int prm_1310, array prm_1311, var prm_1312
	prm_1312 = 0.0
	var_2899 = 0
	dimtype prm_1311, 3, prm_1309 * 2, 0, 0, 0
	var_2900 = prm_1308
	if ( 0 ) {
		var_2901++
	}
	if ( var_2900 == 0 | var_2901 ) {
		var_2901 = 0
		repeat prm_1309
			prm_1311(cnt) = double(GetICP_pit_edit(prm_1307, prm_1310 + cnt))
			if ( GetICP_fix_edit(prm_1307, prm_1310 + cnt) == 0 ) {
				prm_1312 += prm_1311(cnt)
				var_2899++
			}
		loop
		goto *label_751
		var_2901++
	}
	if ( var_2900 == 1 | var_2901 ) {
		var_2901 = 0
		repeat prm_1309
			prm_1311(cnt) = double(GetICP_frm(prm_1307, prm_1310 + cnt))
			if ( GetICP_fix_edit(prm_1307, prm_1310 + cnt) == 0 ) {
				prm_1312 += prm_1311(cnt)
				var_2899++
			}
		loop
		goto *label_751
		var_2901++
	}
	if ( var_2900 == 2 | var_2901 ) {
		var_2901 = 0
		repeat prm_1309
			prm_1311(cnt) = vslib_geticp_vol(prm_1307, prm_1310 + cnt)
			prm_1312 += prm_1311(cnt)
			var_2899++
		loop
		goto *label_751
		var_2901++
	}
	if ( var_2900 == 3 | var_2901 ) {
		var_2901 = 0
		repeat prm_1309
			prm_1311(cnt) = vslib_geticp_pan(prm_1307, prm_1310 + cnt)
			prm_1312 += prm_1311(cnt)
			var_2899++
		loop
		goto *label_751
		var_2901++
	}
	if ( var_2900 == 4 | var_2901 ) {
		var_2901 = 0
		repeat prm_1309
			prm_1311(cnt) = vslib_geticp_dyn_edit(prm_1307, prm_1310 + cnt)
			prm_1312 += prm_1311(cnt)
			var_2899++
		loop
		goto *label_751
		var_2901++
	}
	if ( var_2900 == 6 | var_2901 ) {
		var_2901 = 0
		repeat prm_1309
			prm_1311(cnt) = double(GetICP_pit_org(prm_1307, prm_1310 + cnt))
			prm_1311(prm_1309 + cnt) = double(GetICP_pit_edit(prm_1307, prm_1310 + cnt))
			if ( GetICP_fix_edit(prm_1307, prm_1310 + cnt) == 0 ) {
				prm_1312 += prm_1311(cnt)
				var_2899++
			}
		loop
		goto *label_751
		var_2901++
	}
	if ( var_2900 == 7 | var_2901 ) {
		var_2901 = 0
		repeat prm_1309
			prm_1311(cnt) = double(GetICP_breathiness(prm_1307, prm_1310 + cnt))
			prm_1312 += prm_1311(cnt)
			var_2899++
		loop
		goto *label_751
		var_2901++
	}
	if ( var_2900 == 8 | var_2901 ) {
		var_2901 = 0
		repeat prm_1309
			prm_1311(cnt) = double(GetICP_brightness(prm_1307, prm_1310 + cnt))
			prm_1312 += prm_1311(cnt)
			var_2899++
		loop
		goto *label_751
		var_2901++
	}
	if ( var_2900 == 9 | var_2901 ) {
		var_2901 = 0
		repeat prm_1309
			prm_1311(cnt) = double(GetICP_clearness(prm_1307, prm_1310 + cnt))
			prm_1312 += prm_1311(cnt)
			var_2899++
		loop
		goto *label_751
		var_2901++
	}
	if ( var_2900 == 10 | var_2901 ) {
		var_2901 = 0
		repeat prm_1309
			prm_1311(cnt) = double(GetICP_Heq(prm_1307, prm_1310 + cnt))
			prm_1312 += prm_1311(cnt)
			var_2899++
		loop
		goto *label_751
	}
*label_751
	if ( var_2899 != 0 ) {
		prm_1312 /= var_2899
	}
	return
#deffunc seteditdata int prm_1313, int prm_1314, int prm_1315, int prm_1316, array prm_1317
	var_2900 = prm_1314
	if ( 0 ) {
		var_2901++
	}
	if ( var_2900 == 0 | var_2901 ) {
		var_2901 = 0
		repeat prm_1315
			SetICP_pit_edit prm_1313, prm_1316 + cnt, int(prm_1317(cnt))
		loop
		goto *label_753
		var_2901++
	}
	if ( var_2900 == 1 | var_2901 ) {
		var_2901 = 0
		repeat prm_1315
			SetICP_frm prm_1313, prm_1316 + cnt, int(prm_1317(cnt))
		loop
		goto *label_753
		var_2901++
	}
	if ( var_2900 == 2 | var_2901 ) {
		var_2901 = 0
		repeat prm_1315
			SetICP_vol prm_1313, prm_1316 + cnt, prm_1317(cnt)
		loop
		goto *label_753
		var_2901++
	}
	if ( var_2900 == 3 | var_2901 ) {
		var_2901 = 0
		repeat prm_1315
			SetICP_pan prm_1313, prm_1316 + cnt, prm_1317(cnt)
		loop
		goto *label_753
		var_2901++
	}
	if ( var_2900 == 4 | var_2901 ) {
		var_2901 = 0
		repeat prm_1315
			SetICP_dyn_edit prm_1313, prm_1316 + cnt, prm_1317(cnt)
		loop
		goto *label_753
		var_2901++
	}
	if ( var_2900 == 6 | var_2901 ) {
		var_2901 = 0
		repeat prm_1315
			SetICP_pit_org prm_1313, prm_1316 + cnt, int(prm_1317(cnt))
			if ( var_67(39) == 1 ) {
				SetICP_pit_edit prm_1313, prm_1316 + cnt, int(prm_1317(prm_1315 + cnt))
			}
		loop
		goto *label_753
		var_2901++
	}
	if ( var_2900 == 7 | var_2901 ) {
		var_2901 = 0
		repeat prm_1315
			SetICP_breathiness prm_1313, prm_1316 + cnt, int(prm_1317(cnt))
		loop
		goto *label_753
		var_2901++
	}
	if ( var_2900 == 8 | var_2901 ) {
		var_2901 = 0
		repeat prm_1315
			SetICP_brightness prm_1313, prm_1316 + cnt, int(prm_1317(cnt))
		loop
		goto *label_753
		var_2901++
	}
	if ( var_2900 == 9 | var_2901 ) {
		var_2901 = 0
		repeat prm_1315
			SetICP_clearness prm_1313, prm_1316 + cnt, int(prm_1317(cnt))
		loop
		goto *label_753
		var_2901++
	}
	if ( var_2900 == 10 | var_2901 ) {
		var_2901 = 0
		repeat prm_1315
			SetICP_Heq prm_1313, prm_1316 + cnt, int(prm_1317(cnt))
		loop
		goto *label_753
	}
*label_753
	return
*label_754
	goto *label_756
#deffunc editidelabelpanel
	if ( var_67(198) == 0 | var_67(191) == 0 ) {
		return
	}
	var_2902 = var_2903
	var_2904 = var_2905
	var_2903 = getkeyflg(var_67(3))
	var_2905 = getkeyflg(var_67(4))
	var_2906 = getkeyflg(16)
	var_2907 = getkeyflg(17)
	if ( getactivewindow() != 12 ) {
		return
	}
	gsel 12
	var_2908 = _mousex() - var_67(229)
	var_2909 = _mousey() - var_67(230)
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_2910 = limit(var_67(270), 0, var_67(269) - 1)
		var_2911 = getidetabitemnum(var_2910)
		var_2912 = GetPrjItem(var_67(17), var_2911)
		var_2913 = GetII_ctrlPntPs(var_2912)
		var_2914 = GetII_nCtrlPnt(var_2912)
		var_2915 = GetII_sampFreq(var_2912)
		var_2916 = var_340(var_2910 * 51 + 18)
		var_2917 = var_340(var_2910 * 51 + 19)
		var_2918 = vslib_getprjitemoffset(var_67(17), var_2911)
		var_2919 = GetIP_nLabel(var_2912)
		if ( var_2908 >= 0 & var_2909 >= 0 & var_2908 < var_67(231) & var_2909 < var_67(232) ) {
			if ( var_67(40) == 0 ) {
				setidehscrollreq var_2908
			}
			else {
				setidevhscrollreqt var_2908, var_2909
			}
			if ( var_2902 == 0 & var_2903 == 1 ) {
				sdim var_2920, 64
				repeat var_2919
					GetIP_label var_2912, cnt, var_2921, var_2922, var_2920, var_2923
					SetIP_label var_2912, cnt, var_2921, var_2922, var_2920, 0
				loop
				var_67(251) = 1
			}
			if ( var_2904 == 1 & var_2905 == 0 ) {
				showidelabelpopupmenu
			}
		}
		var_2924 = 0
		var_2925 = 0
		var_2926 = 0
		sdim var_2920, 64
		repeat var_2919
			GetIP_label var_2912, cnt, var_2921, var_2922, var_2920, var_2923
			if ( var_2921 >= var_2925 ) {
				var_2924 = 0
				var_2925 = var_2922
			}
			else {
				if ( var_2925 <= var_2926 ) {
					var_2924 = 0
					var_2925 = var_2922
				}
				else {
					var_2924 = 1
					var_2926 = var_2922
				}
			}
			var_2927 = double(var_2921) / var_2913
			var_2928 = double(var_2922) / var_2913
			var_2929 = vslib_getstretchedtsec(var_2912, var_2927, var_2930)
			var_2931 = int(var_2929 * var_2917 + 0.5) - var_2916
			var_2929 = vslib_getstretchedtsec(var_2912, var_2928, var_2930)
			var_2932 = int(var_2929 * var_2917 + 0.5) - var_2916
			var_2933 = 22 * var_2924
			var_2934 = 0
			if ( var_2909 >= var_2933 & var_2909 < var_2933 + 22 ) {
				if ( abs(var_2908 - var_2931) <= abs(var_2908 - var_2932) ) {
					if ( abs(var_2908 - var_2931) <= 5 ) {
						var_67(166) = 32644
						var_2934 = 1
					}
				}
				else {
					if ( abs(var_2908 - var_2932) <= 5 ) {
						var_67(166) = 32644
						var_2934 = 2
					}
				}
			}
			if ( var_2902 == 0 & var_2903 == 1 ) {
				if ( var_2935 == 0 & var_2934 != 0 ) {
					var_2936 = cnt
					var_2937 = var_2934
					var_2938 = var_2921
					var_2939 = var_2922
					if ( var_2934 == 1 ) {
						var_2940 = var_2908 - var_2931
					}
					else {
						var_2940 = var_2908 - var_2932
					}
					var_2935 = 1
				}
			}
			if ( var_2935 == 0 ) {
				var_2941 = 0
				if ( var_2902 == 0 & var_2903 == 1 ) {
					var_2941 = 1
				}
				if ( var_2941 == 1 ) {
					setfont_normal
					var_2942(0) = 0, 0
					func_35 hdc, var_2920, strlen(var_2920), var_2942
					var_2943 = var_2942(0) + 4
					if ( var_2943 < 16 ) {
						var_2943 = 16
					}
					if ( var_2921 != var_2922 ) {
						var_2944 = (var_2931 + var_2932) / 2 - var_2943 / 2
					}
					else {
						var_2944 = var_2931 + 5
					}
					var_2945 = 0
					if ( var_2909 >= var_2933 & var_2909 < var_2933 + 22 ) {
						if ( var_2908 >= var_2931 & var_2908 < var_2932 ) {
							var_2945 = 1
						}
						if ( var_2908 >= var_2944 & var_2908 < var_2944 + var_2943 ) {
							var_2945 = 1
						}
						if ( var_2945 == 1 ) {
							if ( var_2941 == 1 ) {
								var_340(var_2910 * 51 + 25) = limit(var_2921, 0, var_2914)
								var_340(var_2910 * 51 + 26) = limit(var_2922, 0, var_2914)
							}
							SetIP_label var_2912, cnt, var_2921, var_2922, var_2920, 1
							var_67(249) = 1
							var_67(251) = 1
							break
						}
					}
				}
			}
		loop
		if ( var_2935 == 1 ) {
			if ( var_2908 >= var_67(231) - 20 ) {
				var_2916 += cnvscrollsize((var_2946 / 120 + 1) * 5) * var_67(61) / 100
				var_2947 = 1
				var_67(249) = 1
				var_67(247) = 1
				var_67(251) = 1
				var_2946 += cnvscrollsize(1)
			}
			else {
				if ( var_2908 <= 20 ) {
					var_2916 -= cnvscrollsize((var_2946 / 120 + 1) * 5) * var_67(61) / 100
					var_2947 = 1
					var_67(249) = 1
					var_67(247) = 1
					var_67(251) = 1
					var_2946 += cnvscrollsize(1)
				}
				else {
					var_2946 = 0
				}
			}
		}
		else {
			var_2946 = 0
		}
		if ( var_2947 == 1 ) {
			var_2948 = GetII_editSample(var_2912)
			var_2949 = int(double(var_2948) * var_2917 / var_2915) - var_67(231) / 2
			if ( var_2916 > var_2949 ) {
				var_2916 = var_2949
			}
			if ( var_2916 < 0 ) {
				var_2916 = 0
			}
			var_2947 = 0
		}
		var_340(var_2910 * 51 + 18) = var_2916
		if ( var_2935 == 1 ) {
			var_67(166) = 32644
			var_2929 = double(var_2908 - var_2940 + var_2916) / var_2917
			var_2950 = vslib_getstretchorgsec(var_2912, var_2929, var_2930)
			var_2951 = limit(int(var_2950 * var_2913 + 0.5), 0, var_2914)
			sdim var_2920, 64
			GetIP_label var_2912, var_2936, var_2921, var_2922, var_2920, var_2923
			if ( var_2937 == 1 ) {
				var_2921 = var_2951
				var_2922 = var_2939
				if ( var_2906 == 1 ) {
					var_2922 = var_2939 + var_2921 - var_2938
				}
				if ( var_2907 == 1 ) {
					var_2922 = var_2921
				}
			}
			else {
				var_2921 = var_2938
				var_2922 = var_2951
				if ( var_2906 == 1 ) {
					var_2921 = var_2938 + var_2922 - var_2939
				}
				if ( var_2907 == 1 ) {
					var_2921 = var_2922
				}
			}
			if ( var_2921 > var_2922 ) {
				var_2952 = var_2921
				var_2921 = var_2922
				var_2922 = var_2952
			}
			SetIP_label var_2912, var_2936, var_2921, var_2922, var_2920, 1
			if ( var_2905 == 1 ) {
				sdim var_2920, 64
				GetIP_label var_2912, var_2936, var_2921, var_2922, var_2920, var_2923
				var_2921 = var_2938
				var_2922 = var_2939
				SetIP_label var_2912, var_2936, var_2921, var_2922, var_2920, 1
				var_2935 = 0
			}
			else {
				if ( var_2903 == 0 ) {
					sdim var_2920, 64
					GetIP_label var_2912, var_2936, var_2921, var_2922, var_2920, var_2923
					if ( var_2921 != var_2938 | var_2922 != var_2939 ) {
						SortIP_label var_2912
						oneditproject
					}
					var_2935 = 0
				}
			}
			var_67(251) = 1
		}
		if ( var_2908 >= 0 & var_2909 >= 0 & var_2908 < var_67(231) & var_2909 < var_67(232) ) {
			if ( var_2902 == 0 & var_2903 == 1 ) {
				var_2953 = GetTickCount()
				var_2954 = abs(var_2908 - var_2955) + abs(var_2909 - var_2956)
				if ( var_2953 - var_2957 < 400 & var_2954 < 10 ) {
					repeat var_2919
						GetIP_label var_2912, cnt, var_2921, var_2922, var_2920, var_2923
						if ( var_2923 != 0 ) {
							requestcommand 287
						}
					loop
				}
				var_2955 = var_2908
				var_2956 = var_2909
				var_2957 = var_2953
			}
		}
	}
	return
*label_756
	goto *label_758
#deffunc editidescrollpanel
	if ( var_67(198) == 0 ) {
		return
	}
	if ( var_67(17) != 0 ) {
		var_2958 = getkeyflg(17)
		var_2959 = _mousex() - var_67(237)
		var_2960 = _mousey() - var_67(238)
		if ( var_2959 >= 0 & var_2960 >= 0 & var_2959 < var_67(239) & var_2960 < var_67(240) ) {
			if ( var_67(40) == 0 ) {
				setidehscrollreq var_2959
			}
			else {
				setidevhscrollreqt var_2959, var_2960
			}
		}
		gsel 12
		var_2959 = _mousex() - var_67(233)
		var_2960 = _mousey() - var_67(234)
		if ( var_2959 >= 0 & var_2960 >= 0 & var_2959 < var_67(235) & var_2960 < var_67(236) ) {
			if ( var_67(40) == 0 ) {
				setidevscrollreq var_2960
			}
			else {
				setidevhscrollreqt var_2959, var_2960
			}
		}
	}
	return
*label_758
	goto *label_761
#deffunc editidespcscale
	if ( var_67(198) == 0 ) {
		return
	}
	var_2961 = var_2962
	var_2963 = var_2964
	var_2962 = getkeyflg(var_67(3))
	var_2964 = getkeyflg(var_67(4))
	var_2965 = getkeyflg(16)
	var_2966 = getkeyflg(17)
	if ( getactivewindow() != 12 ) {
		return
	}
	var_2967 = 0
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_2968 = limit(var_67(270), 0, var_67(269) - 1)
		var_2969 = getidetabitemnum(var_2968)
		var_2970 = GetPrjItem(var_67(17), var_2969)
		var_2971 = 820
		var_2972 = 17
		var_2973 = 120
		var_2974 = 16
		var_2975 = 20
		var_2976 = GetSpcBlock(var_2970)
		if ( var_2976 > 0 ) {
			gsel 12
			var_2977 = _mousex() - var_2971
			var_2978 = _mousey() - var_2972
			if ( var_2977 >= 0 & var_2977 < var_2973 & var_2978 >= 0 & var_2978 < var_2974 ) {
				var_2967 = 1
			}
			if ( var_2961 == 0 & var_2962 == 1 ) {
				if ( var_2967 == 1 ) {
					var_2979 = 1
				}
				else {
					var_2979 = 0
				}
			}
			if ( var_2967 == 1 & var_2961 == 0 & var_2962 == 1 ) {
				var_2980 = 1
				var_2981 = 1
				var_2982 = var_2977
				var_2983 = GetSpcRatio(var_2970)
				var_2984 = sqrt(double(var_2983) / 4096.0)
				var_2985 = limit(int(var_2984 * (var_2973 - var_2975)), 0, var_2973 - var_2975)
				if ( var_2977 < var_2985 | var_2977 >= var_2985 + var_2975 ) {
					var_2980 = 2
					var_2986 = 0
				}
			}
			if ( var_2980 == 1 ) {
				var_2984 = sqrt(double(var_2983) / 4096.0)
				var_2987 = double(var_2977 - var_2982) / (var_2973 - var_2975)
				var_2984 = limitf(var_2984 + var_2987, 0.0, 1.0)
				var_2988 = int(var_2984 * var_2984 * 4096.0)
				SetSpcRatio var_2970, var_2988
				if ( var_2964 == 1 ) {
					SetSpcRatio var_2970, var_2983
					var_2980 = 0
				}
				else {
					if ( var_2962 == 0 ) {
						var_2980 = 0
					}
				}
				var_67(255) = 1
				var_67(249) = 1
			}
			if ( var_2980 == 2 ) {
				if ( var_2967 == 1 ) {
					if ( var_2986 == 0 | (var_2986 \ 10 == 0 & var_2986 >= 50) ) {
						var_2988 = GetSpcRatio(var_2970)
						var_2984 = sqrt(double(var_2988) / 4096.0)
						var_2985 = limit(int(var_2984 * (var_2973 - var_2975)), 0, var_2973 - var_2975)
						if ( var_2977 < var_2985 ) {
							var_2984 -= 0.05
						}
						if ( var_2977 >= var_2985 + var_2975 ) {
							var_2984 += 0.05
						}
						var_2984 = limitf(var_2984, 0.0, 1.0)
						var_2988 = limit(int(var_2984 * var_2984 * 4096.0), 0, 4096)
						SetSpcRatio var_2970, var_2988
						var_67(255) = 1
						var_67(249) = 1
					}
				}
				if ( var_2962 == 0 ) {
					var_2980 = 0
				}
				var_2986++
			}
			if ( var_67(266) != 0 ) {
				if ( var_2967 == 1 & var_2979 == 1 ) {
					var_2988 = GetSpcRatio(var_2970)
					var_2984 = sqrt(double(var_2988) / 4096.0)
					var_2987 = 0.05
					if ( (var_2966 | var_2965) == 1 ) {
						var_2987 = 0.01
					}
					if ( (var_2966 & var_2965) == 1 ) {
						var_2987 = 0.005
					}
					if ( var_67(266) > 0 ) {
						var_2984 -= var_2987
					}
					else {
						var_2984 += var_2987
					}
					var_2984 = limitf(var_2984, 0.0, 1.0)
					var_2988 = limit(int(var_2984 * var_2984 * 4096.0), 0, 4096)
					SetSpcRatio var_2970, var_2988
					var_67(255) = 1
					var_67(249) = 1
				}
			}
			if ( var_2981 != 0 ) {
				if ( var_340(var_2968 * 51 + 1) != 6 ) {
					var_340(var_2968 * 51 + 1) = 6
					var_67(246) = 1
					var_67(249) = 1
					var_67(248) = 1
					var_67(255) = 1
				}
				var_2981 = 0
			}
		}
	}
	return
#defcfunc getidespcscalestatus
	return var_2967 & var_2979
*label_761
	goto *label_764
#deffunc popupidemenu int prm_1322
	var_2989 = prm_1322
	if ( 0 ) {
		var_2990++
	}
	if ( var_2989 == 0 | var_2990 ) {
		var_2990 = 0
		var_67(167) = 5
		goto *label_763
		var_2990++
	}
	if ( var_2989 == 1 | var_2990 ) {
		var_2990 = 0
		var_67(167) = 6
		goto *label_763
		var_2990++
	}
	if ( var_2989 == 2 | var_2990 ) {
		var_2990 = 0
		var_67(167) = 7
		goto *label_763
		var_2990++
	}
	if ( var_2989 == 3 | var_2990 ) {
		var_2990 = 0
		var_67(167) = 8
		goto *label_763
		var_2990++
	}
	if ( var_2989 == 4 | var_2990 ) {
		var_2990 = 0
		var_67(167) = 9
		goto *label_763
		var_2990++
	}
	if ( var_2989 == 5 | var_2990 ) {
		var_2990 = 0
		var_67(167) = 10
		goto *label_763
		var_2990++
	}
	if ( var_2989 == 6 | var_2990 ) {
		var_2990 = 0
		var_67(167) = 11
		goto *label_763
		var_2990++
	}
	if ( var_2989 == 7 | var_2990 ) {
		var_2990 = 0
		var_67(167) = 12
		goto *label_763
		var_2990++
	}
	if ( var_2989 == 8 | var_2990 ) {
		var_2990 = 0
		var_67(167) = 13
		goto *label_763
		var_2990++
	}
	if ( var_2989 == 9 | var_2990 ) {
		var_2990 = 0
		var_67(167) = 14
		goto *label_763
		var_2990++
	}
	if ( var_2989 == 10 | var_2990 ) {
		var_2990 = 0
		var_67(167) = 15
		goto *label_763
	}
*label_763
	return
*label_764
	goto *label_783
#defcfunc checkscrollcondition int prm_1323
	var_2991 = getkeyflg(18)
	var_2992 = getkeyflg(17)
	var_2993 = getkeyflg(16)
	var_2994 = var_67(103)
	var_2995 = var_2994 >> 4 * prm_1323 + 0 & 1
	var_2996 = var_2994 >> 4 * prm_1323 + 1 & 1
	var_2997 = var_2994 >> 4 * prm_1323 + 2 & 1
	if ( var_2991 == var_2995 & var_2992 == var_2996 & var_2993 == var_2997 ) {
		return 1
	}
	return 0
#defcfunc ishorizontalscroll
	return checkscrollcondition(0)
#defcfunc ishorizontalzoom
	return checkscrollcondition(1)
#defcfunc isverticalscroll
	return checkscrollcondition(2)
#defcfunc isverticalzoom
	return checkscrollcondition(3)
#defcfunc checkscrollcondition_tilt int prm_1324
	var_2991 = getkeyflg(18)
	var_2992 = getkeyflg(17)
	var_2993 = getkeyflg(16)
	var_2994 = var_67(104)
	var_2995 = var_2994 >> 4 * prm_1324 + 0 & 1
	var_2996 = var_2994 >> 4 * prm_1324 + 1 & 1
	var_2997 = var_2994 >> 4 * prm_1324 + 2 & 1
	if ( var_2991 == var_2995 & var_2992 == var_2996 & var_2993 == var_2997 ) {
		return 1
	}
	return 0
#defcfunc ishorizontalscroll_tiltv
	return checkscrollcondition_tilt(0)
#defcfunc ishorizontalzoom_tiltv
	return checkscrollcondition_tilt(1)
#defcfunc isverticalscroll_tiltv
	return checkscrollcondition_tilt(2)
#defcfunc isverticalzoom_tiltv
	return checkscrollcondition_tilt(3)
#defcfunc ishorizontalscroll_tilth
	return checkscrollcondition_tilt(4)
#defcfunc ishorizontalzoom_tilth
	return checkscrollcondition_tilt(5)
#defcfunc isverticalscroll_tilth
	return checkscrollcondition_tilt(6)
#defcfunc isverticalzoom_tilth
	return checkscrollcondition_tilt(7)
#deffunc setidevhscrollreqt int prm_1325, int prm_1326
	if ( ishorizontalscroll_tiltv() ) {
		if ( var_67(267) > 0 ) {
			setidecomreq 1
		}
		if ( var_67(267) < 0 ) {
			setidecomreq 2
		}
	}
	if ( ishorizontalzoom_tiltv() ) {
		if ( var_67(267) > 0 ) {
			setidecomreq 3, prm_1325 | 65536
		}
		if ( var_67(267) < 0 ) {
			setidecomreq 4, prm_1325 | 65536
		}
	}
	if ( isverticalscroll_tiltv() ) {
		if ( var_67(267) > 0 ) {
			setidecomreq 10
		}
		if ( var_67(267) < 0 ) {
			setidecomreq 11
		}
	}
	if ( isverticalzoom_tiltv() ) {
		if ( var_67(267) > 0 ) {
			setidecomreq 12, prm_1326 | 65536
		}
		if ( var_67(267) < 0 ) {
			setidecomreq 13, prm_1326 | 65536
		}
	}
	if ( ishorizontalscroll_tilth() ) {
		if ( var_67(268) > 0 ) {
			setidecomreq 1
		}
		if ( var_67(268) < 0 ) {
			setidecomreq 2
		}
	}
	if ( ishorizontalzoom_tilth() ) {
		if ( var_67(268) > 0 ) {
			setidecomreq 3, prm_1325 | 65536
		}
		if ( var_67(268) < 0 ) {
			setidecomreq 4, prm_1325 | 65536
		}
	}
	if ( isverticalscroll_tilth() ) {
		if ( var_67(268) > 0 ) {
			setidecomreq 10
		}
		if ( var_67(268) < 0 ) {
			setidecomreq 11
		}
	}
	if ( isverticalzoom_tilth() ) {
		if ( var_67(268) > 0 ) {
			setidecomreq 12, prm_1326 | 65536
		}
		if ( var_67(268) < 0 ) {
			setidecomreq 13, prm_1326 | 65536
		}
	}
	return
#deffunc setidevhscrollreq int prm_1327, int prm_1328
	if ( ishorizontalscroll() ) {
		if ( var_67(266) > 0 ) {
			setidecomreq 1
		}
		if ( var_67(266) < 0 ) {
			setidecomreq 2
		}
	}
	if ( ishorizontalzoom() ) {
		if ( var_67(266) > 0 ) {
			setidecomreq 3, prm_1327 | 65536
		}
		if ( var_67(266) < 0 ) {
			setidecomreq 4, prm_1327 | 65536
		}
	}
	if ( isverticalscroll() ) {
		if ( var_67(266) > 0 ) {
			setidecomreq 10
		}
		if ( var_67(266) < 0 ) {
			setidecomreq 11
		}
	}
	if ( isverticalzoom() ) {
		if ( var_67(266) > 0 ) {
			setidecomreq 12, prm_1328 | 65536
		}
		if ( var_67(266) < 0 ) {
			setidecomreq 13, prm_1328 | 65536
		}
	}
	return
#deffunc setidehscrollreq int prm_1329
	if ( isverticalscroll() | ishorizontalscroll() ) {
		if ( var_67(266) > 0 ) {
			setidecomreq 1
		}
		if ( var_67(266) < 0 ) {
			setidecomreq 2
		}
	}
	if ( isverticalzoom() | ishorizontalzoom() ) {
		if ( var_67(266) > 0 ) {
			setidecomreq 3, prm_1329 | 65536
		}
		if ( var_67(266) < 0 ) {
			setidecomreq 4, prm_1329 | 65536
		}
	}
	return
#deffunc setidevscrollreq int prm_1330
	if ( isverticalscroll() | ishorizontalscroll() ) {
		if ( var_67(266) > 0 ) {
			setidecomreq 10
		}
		if ( var_67(266) < 0 ) {
			setidecomreq 11
		}
	}
	if ( isverticalzoom() | ishorizontalzoom() ) {
		if ( var_67(266) > 0 ) {
			setidecomreq 12, prm_1330 | 65536
		}
		if ( var_67(266) < 0 ) {
			setidecomreq 13, prm_1330 | 65536
		}
	}
	return
*label_783
	goto *label_788
#deffunc drawidetabpanel
	if ( var_67(198) == 0 ) {
		return
	}
	if ( var_67(245) == 0 ) {
		return
	}
	var_67(245) = 0
	var_67(256) = 1
	sdim var_2998, 260
	gsel 12
	setfont_normal
	var_2999 = var_67(209)
	var_3000 = var_67(211)
	var_3001 = var_67(210)
	var_3002 = var_67(212)
	color 32, 32, 48
	boxf var_2999, var_3001, var_2999 + var_3000 - 1, var_3001 + var_3002 - 1
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		color 128, 128, 128
		boxf var_2999, var_3001 + var_3002 - 1, var_2999 + var_3000 - 1, var_3001 + var_3002 - 1
		calcidetabpos
		repeat var_67(269)
			var_3003 = getidetabitemnum(cnt)
			var_3004 = GetPrjItem(var_67(17), var_3003)
			var_2998 = vslib_getii_filename(var_3004)
			var_2998 = getpath(var_2998, 8)
			var_3005 = var_2999 + var_3006(cnt)
			var_3007 = var_3008(cnt)
			if ( cnt == var_67(270) ) {
				color 128, 128, 128
				boxf var_3005, var_3001, var_3005 + var_3007 - 1, var_3001 + var_3002 - 1
				color 32, 32, 48
				boxf var_3005 + 1, var_3001 + 1, var_3005 + var_3007 - 2, var_3001 + var_3002 - 1
				color 208, 208, 208
				pos var_3005 + 5, var_3001 + 5
				mes var_2998
				if ( getideclosetabnum() == cnt ) {
					color 255, 0, 0
				}
				else {
					color 208, 208, 208
				}
				repeat 7
					pset var_3005 + var_3007 - 16 + cnt, var_3001 + 9 + cnt
					pset var_3005 + var_3007 - 16 + cnt, var_3001 + 9 + 6 - cnt
				loop
			}
			else {
				color 128, 128, 128
				boxf var_3005, var_3001 + 2, var_3005 + var_3007 - 1, var_3001 + var_3002 - 2
				color 32, 32, 48
				boxf var_3005 + 1, var_3001 + 3, var_3005 + var_3007 - 2, var_3001 + var_3002 - 2
				color 128, 128, 128
				pos var_3005 + 5, var_3001 + 7
				mes var_2998
				if ( getideclosetabnum() == cnt ) {
					color 255, 0, 0
					repeat 7
						pset var_3005 + var_3007 - 16 + cnt, var_3001 + 11 + cnt
						pset var_3005 + var_3007 - 16 + cnt, var_3001 + 11 + 6 - cnt
					loop
				}
			}
		loop
		var_3009 = getideinserttabpos()
		if ( var_3009 >= 0 ) {
			var_3005 = getidetabpos(var_3009)
			color 208, 208, 208
			boxf var_2999 + var_3005 - 2, var_3001, var_2999 + var_3005 + 1, var_3001 + var_3002 - 1
		}
	}
	return
#deffunc calcidetabpos
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_3010 = ginfo(3)
		sdim var_2998, 260
		gsel 12
		setfont_normal
		var_3011 = 0
		repeat var_67(269)
			var_3003 = getidetabitemnum(cnt)
			var_3004 = GetPrjItem(var_67(17), var_3003)
			var_2998 = vslib_getii_filename(var_3004)
			var_2998 = getpath(var_2998, 8)
			var_3012(0) = 0, 0
			GetTextExtentPoint32A hdc, var_2998, strlen(var_2998), var_3012
			var_3013 = var_3012(0) + 5
			var_3006(cnt) = var_3011
			var_3008(cnt) = var_3013 + 30
			var_3011 += var_3008(cnt)
		loop
		var_3014 = limit(var_67(271), 0, var_67(269) - 1)
		var_3011 = var_3006(var_3014)
		repeat var_67(269)
			var_3006(cnt) -= var_3011
		loop
		var_3015 = var_67(269)
		gsel var_3010
	}
	return
#defcfunc getidetabpos int prm_1331
	var_3005 = 0
	if ( prm_1331 < var_3015 ) {
		var_3005 = var_3006(prm_1331)
	}
	if ( prm_1331 >= var_3015 & var_3015 > 0 ) {
		var_3005 = var_3006(var_3015 - 1) + var_3008(var_3015 - 1)
	}
	return var_3005
#defcfunc getidetabsize int prm_1332
	var_3007 = 0
	if ( prm_1332 < var_3015 ) {
		var_3007 = var_3008(prm_1332)
	}
	return var_3007
*label_788
	goto *label_791
#deffunc drawidelistpanel
	if ( var_67(198) == 0 ) {
		return
	}
	if ( var_67(246) == 0 ) {
		return
	}
	var_67(246) = 0
	var_67(257) = 1
	gsel 7
	setfont_bold
	color 32, 32, 48
	boxf 0, 0, var_67(215) - 1, var_67(216) - 1
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_3016 = limit(var_67(270), 0, var_67(269) - 1)
		var_3017 = getidetabitemnum(var_3016)
		var_3018 = GetPrjItem(var_67(17), var_3017)
		var_3019 = GetPrjItemTrackNum(var_67(17), var_3017)
		var_3020 = GetTrackMorphingGroup(var_67(17), var_3019)
		var_3021 = var_340(var_3016 * 51 + 1)
		var_3022 = var_340(var_3016 * 51 + (2 + var_3021))
		var_3022 = var_3022 | 1 << var_3021
		var_3023(0) = "PIT", "FRM", "VOL", "PAN", "DYN", "TIME", "*PIT", "BRE", "EQ1", "EQ2", "HEQ"
		var_3024(0) = var_67(83)
		var_3024(1) = var_67(84)
		var_3024(2) = var_67(85)
		var_3024(3) = var_67(86)
		var_3024(4) = var_67(88)
		var_3024(5) = var_67(89)
		var_3024(6) = var_67(82)
		var_3024(7) = var_67(91)
		var_3024(8) = var_67(92)
		var_3024(9) = var_67(93)
		var_3024(10) = var_67(94)
		var_3025 = GetIP_synthMode(var_3018)
		if ( 0 ) {
			var_3026++
		}
		if ( var_3025 == 0 | var_3026 ) {
			var_3026 = 0
			var_3024(1) = -1
			goto *label_790
			var_3026++
		}
		if ( var_3025 == 1 | var_3026 ) {
			var_3026 = 0
			goto *label_790
			var_3026++
		}
		if ( var_3025 == 2 | var_3026 ) {
			var_3026 = 0
			var_3026++
		}
		if ( var_3025 == 4 | var_3026 ) {
			var_3026 = 0
			var_3024(0) = -1
			var_3024(1) = -1
			var_3024(6) = -1
			var_3024(7) = -1
			var_3024(10) = -1
			goto *label_790
			var_3026++
		}
		if ( var_3025 == 8 | var_3026 ) {
			var_3026 = 0
			if ( var_3020 == 0 ) {
				var_3024(8) = -1
				var_3024(9) = -1
				var_3024(10) = -1
			}
			else {
				var_3024(3) = -1
				var_3024(8) = -1
				var_3024(9) = -1
				var_3023(10) = "MRP"
			}
			goto *label_790
		}
*label_790
		repeat 7 + 4 * var_67(65)
			var_3027 = 0
			var_3028 = 28 * cnt
			var_3029 = var_67(215)
			var_3030 = 28
			color 96, 96, 112
			boxf var_3027, var_3028, var_3027 + var_3029 - 1, var_3028
			color 16, 16, 24
			boxf var_3027, var_3028 + var_3030 - 1, var_3027 + var_3029 - 1, var_3028 + var_3030 - 1
			boxf var_3027 + var_3029 - 1, var_3028, var_3027 + var_3029 - 1, var_3028 + var_3030 - 1
			if ( var_3024(cnt) != (-1) ) {
				var_3031 = var_3024(cnt) >> 16 & 255
				var_3032 = var_3024(cnt) >> 8 & 255
				var_3033 = var_3024(cnt) & 255
				var_3034 = 128
				if ( var_3031 < var_3034 ) {
					var_3034 = var_3031
				}
				if ( var_3032 < var_3034 ) {
					var_3034 = var_3032
				}
				if ( var_3033 < var_3034 ) {
					var_3034 = var_3033
				}
				var_3035 = 255 - 128
				var_3036 = 128 - var_3034
				color (var_3031 * var_3035 + 255 * var_3036) / (var_3035 + var_3036), (var_3032 * var_3035 + 255 * var_3036) / (var_3035 + var_3036), (var_3033 * var_3035 + 255 * var_3036) / (var_3035 + var_3036)
			}
			else {
				color 128, 128, 128
			}
			if ( var_3021 == cnt ) {
				boxf var_3027, var_3028, var_3027 + 4, var_3028 + var_3030 - 1
			}
			pos var_3027 + 35, var_3028 + 8
			mes var_3023(cnt)
			var_3037 = var_3027 + 12
			var_3038 = var_3028 + 8
			boxf var_3037, var_3038, var_3037 + 11, var_3038 + 11
			color 32, 32, 48
			boxf var_3037 + 1, var_3038 + 1, var_3037 + 10, var_3038 + 10
			if ( (var_3022 & 1 << cnt) != 0 ) {
				if ( var_3024(cnt) != (-1) ) {
					var_3031 = var_3024(cnt) >> 16 & 255
					var_3032 = var_3024(cnt) >> 8 & 255
					var_3033 = var_3024(cnt) & 255
					var_3034 = 128
					if ( var_3031 < var_3034 ) {
						var_3034 = var_3031
					}
					if ( var_3032 < var_3034 ) {
						var_3034 = var_3032
					}
					if ( var_3033 < var_3034 ) {
						var_3034 = var_3033
					}
					var_3035 = 255 - 128
					var_3036 = 128 - var_3034
					color (var_3031 * var_3035 + 255 * var_3036) / (var_3035 + var_3036), (var_3032 * var_3035 + 255 * var_3036) / (var_3035 + var_3036), (var_3033 * var_3035 + 255 * var_3036) / (var_3035 + var_3036)
				}
				else {
					color 128, 128, 128
				}
				boxf var_3037 + 2, var_3038 + 2, var_3037 + 9, var_3038 + 9
			}
		loop
	}
	gsel 12
	pos var_67(213), var_67(214)
	gcopy 7, 0, 0, var_67(215), var_67(216)
	return
*label_791
	goto *label_795
#deffunc drawidetimepanel
	var_3039 = var_67(37)
	if ( 0 ) {
		var_3040++
	}
	if ( var_3039 == (-1) | var_3040 ) {
		var_3040 = 0
		var_3041 = 2
		goto *label_793
		var_3040++
	}
	if ( var_3039 == 0 | var_3040 ) {
		var_3040 = 0
		var_3041 = 4
		goto *label_793
		var_3040++
	}
	if ( var_3039 == 1 | var_3040 ) {
		var_3040 = 0
		var_3041 = 4
		goto *label_793
	}
	if ( 1 ) {
		var_3041 = 8
		goto *label_793
	}
*label_793
	if ( var_67(9) \ var_3041 == 0 ) {
		if ( var_67(14) != var_3042 ) {
			var_67(247) = 1
			var_3042 = var_67(14)
		}
	}
	if ( var_67(198) == 0 ) {
		return
	}
	if ( var_67(247) == 0 ) {
		return
	}
	var_67(247) = 0
	var_67(258) = 1
	gsel 8
	setfont_normal
	color 12, 12, 32
	boxf 0, 0, var_67(219) - 1, var_67(220) - 2
	color 208, 208, 208
	boxf 0, var_67(220) - 1, var_67(219) - 1, var_67(220) - 1
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_3043 = limit(var_67(270), 0, var_67(269) - 1)
		var_3044 = getidetabitemnum(var_3043)
		var_3045 = var_340(var_3043 * 51 + 18)
		var_3046 = var_340(var_3043 * 51 + 19)
		var_3047 = GetPrjSampFreq(var_67(17))
		var_3048 = vslib_getprjitemoffset(var_67(17), var_3044)
		var_3049 = var_3048 / var_3047
		var_3050 = GetPrjMeasure(var_67(17))
		var_3051 = gethakusec()
		if ( var_67(22) < var_67(23) ) {
			var_3052 = 0.001 * var_67(22) - var_3049
			var_3053 = 0.001 * var_67(23) - var_3049
			var_3054 = int(var_3052 * var_3046 - var_3045 + 0.5)
			var_3055 = int(var_3053 * var_3046 - var_3045 + 0.5)
			color 12, 12, 80
			boxf var_3054, 0, var_3055, var_67(220) - 2
		}
		if ( var_67(188) == 0 ) {
			var_3056 = var_3048 / var_3047
		}
		else {
			var_3057 = vslib_getprjitemmeasoffset(var_67(17), var_3044)
			var_3056 = -var_3057
		}
		if ( var_3051 * var_3046 < 70 ) {
			var_3058 = 0
			var_3059 = 1
		}
		else {
			var_3058 = 1
			var_3059 = 1
			var_3060 = var_3051 * var_3046
			repeat
				if ( var_3060 >= 140 ) {
					var_3059 *= 2
					var_3060 *= 0.5
				}
				else {
					break
				}
			loop
			if ( var_3059 > 1 ) {
				var_3058 = 2
			}
		}
		var_3061 = double(var_3045 - 100) / var_3046 + var_3056
		var_3062 = int(var_3061 / (var_3051 / var_3059))
		repeat
			var_3063 = var_3062 + cnt
			var_3064 = var_3051 / var_3059 * var_3063
			var_3065 = int((var_3064 - var_3056) * var_3046 - var_3045 + 0.5)
			if ( var_3065 >= var_67(219) ) {
				break
			}
			if ( var_3063 \ (var_3050 * var_3059) == 0 ) {
				color 160, 160, 160
				if ( var_67(98) == 1 ) {
					boxf var_3065, var_67(220) - 16, var_3065, var_67(220) - 2
					pos var_3065 + 3, var_67(220) - 15
				}
				else {
					boxf var_3065, 0, var_3065, 15
					pos var_3065 + 3, 1
				}
			}
			else {
				color 80, 80, 80
				if ( var_67(98) == 1 ) {
					boxf var_3065, var_67(220) - 6, var_3065, var_67(220) - 2
					pos var_3065 + 3, var_67(220) - 15
				}
				else {
					boxf var_3065, 0, var_3065, 4
					pos var_3065 + 3, 1
				}
			}
			color 208, 208, 208
			var_3039 = var_3058
			if ( 0 ) {
				var_3040++
			}
			if ( var_3039 == 0 | var_3040 ) {
				var_3040 = 0
				if ( var_3063 \ (var_3050 * var_3059) == 0 ) {
					mes var_3063 / (var_3050 * var_3059) + 1
				}
				goto *label_794
				var_3040++
			}
			if ( var_3039 == 1 | var_3040 ) {
				var_3040 = 0
				if ( var_3063 \ var_3059 == 0 ) {
					var_3066 = var_3063 / var_3059 \ var_3050 + 1
					var_3067 = var_3063 / (var_3050 * var_3059) + 1
					mes strf("%d:%02d", var_3067, var_3066)
				}
				goto *label_794
				var_3040++
			}
			if ( var_3039 == 2 | var_3040 ) {
				var_3040 = 0
				var_3068 = GetPrjMeasBase(var_67(17))
				var_3069 = 960 * 4 / var_3068
				var_3070 = var_3069 * (var_3063 \ var_3059) / var_3059
				var_3066 = var_3063 / var_3059 \ var_3050 + 1
				var_3067 = var_3063 / (var_3050 * var_3059) + 1
				mes strf("%d:%02d:%03d", var_3067, var_3066, var_3070)
				goto *label_794
			}
*label_794
		loop
		var_3071(0) = 0.01, 0.02, 0.05, 0.1, 0.2, 0.5, 1.0, 2.0, 5.0, 10.0, 20.0
		var_3072(0) = 5, 4, 5, 5, 4, 5, 5, 4, 5, 5, 4
		repeat 11
			var_3073 = var_3072(cnt)
			var_3074 = var_3071(cnt) / var_3073
			if ( var_3074 * var_3073 * var_3046 >= 70 ) {
				break
			}
		loop
		if ( var_67(188) == 0 ) {
			var_3056 = var_3048 / var_3047
		}
		else {
			var_3056 = 0.0
		}
		var_3061 = double(var_3045 - 100) / var_3046 + var_3056
		var_3062 = int(var_3061 / var_3074)
		repeat
			var_3063 = var_3062 + cnt
			var_3064 = var_3074 * var_3063
			var_3065 = int((var_3064 - var_3056) * var_3046 - var_3045 + 0.5)
			if ( var_3065 >= var_67(219) ) {
				break
			}
			if ( var_3063 \ var_3073 == 0 ) {
				color 160, 160, 160
				if ( var_67(98) == 1 ) {
					boxf var_3065, 0, var_3065, 4
					pos var_3065 - 25, 5
				}
				else {
					boxf var_3065, var_67(220) - 6, var_3065, var_67(220) - 2
					pos var_3065 - 25, var_67(220) - 19
				}
				color 208, 208, 208
				var_3075 = int(1000.0 * var_3064)
				mes strf("%02d:%02d.%03d", var_3075 / 60000, var_3075 / 1000 \ 60, var_3075 \ 1000)
			}
			else {
				color 80, 80, 80
				if ( var_67(98) == 1 ) {
					boxf var_3065, 0, var_3065, 4
				}
				else {
					boxf var_3065, var_67(220) - 6, var_3065, var_67(220) - 2
				}
			}
		loop
		if ( var_67(22) < var_67(23) ) {
			var_3052 = 0.001 * var_67(22) - var_3049
			var_3053 = 0.001 * var_67(23) - var_3049
			var_3054 = int(var_3052 * var_3046 - var_3045 + 0.5)
			var_3055 = int(var_3053 * var_3046 - var_3045 + 0.5)
			color 128, 255, 255
			boxf var_3054, 0, var_3054, var_67(220) - 1
			boxf var_3055, 0, var_3055, var_67(220) - 1
		}
		var_3064 = (double(var_67(13)) - var_3048) / var_3047
		var_3076 = int(var_3064 * var_3046 + 0.5) - var_3045
		if ( var_3076 >= 0 & var_3076 < var_67(219) ) {
			var_3077 = var_67(95)
			color var_3077 >> 16 & 255, var_3077 >> 8 & 255, var_3077 & 255
			boxf var_3076, 0, var_3076, var_67(220) - 1
		}
	}
	gsel 12
	pos var_67(217), var_67(218)
	gcopy 8, 0, 0, var_67(219), var_67(220)
	return
*label_795
	goto *label_799
#deffunc initdrawidescalepanel
	var_3078 = "-infdB", "-12dB", "-6.0dB", "-2.5dB", "0.0dB", "1.9dB", "3.5dB", "4.9dB", "6.0dB"
	var_3079 = "-1.00(L)", "-0.75", "-0.50", "-0.25", "0.00(C)", "+0.25", "+0.50", "+0.75", "+1.00(R)"
	var_3080 = "-infdB", "-18dB", "-12dB", "-8.5dB", "-6.0dB", "-4.1dB", "-2.5dB", "-1.2dB", "0.0dB"
	return
#deffunc drawidescalepanel
	if ( var_67(198) == 0 ) {
		return
	}
	if ( var_67(248) == 0 ) {
		return
	}
	var_67(248) = 0
	var_67(259) = 1
	gsel 9
	setfont_normal
	var_3081 = var_67(223)
	var_3082 = var_67(224)
	color 12, 12, 32
	boxf 0, 0, var_3081 - 2, var_3082 - 1
	color 208, 208, 208
	boxf var_3081 - 1, 0, var_3081 - 1, var_3082 - 1
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_3083 = limit(var_67(270), 0, var_67(269) - 1)
		var_3084 = getidetabitemnum(var_3083)
		var_3085 = var_340(var_3083 * 51 + 1)
		var_3086 = 0
		var_3087 = 0
		if ( var_3085 == 0 | var_3085 == 6 ) {
			var_3086 = var_340(var_3083 * 51 + 21)
			var_3087 = var_340(var_3083 * 51 + 22)
		}
		if ( var_3085 == 1 ) {
			var_3086 = var_340(var_3083 * 51 + 23)
			var_3087 = var_340(var_3083 * 51 + 24)
		}
		var_3088 = GetPrjItemTrackNum(var_67(17), var_3084)
		var_3089 = GetTrackMorphingGroup(var_67(17), var_3088)
		var_3090 = GetPrjItem(var_67(17), var_3084)
		var_3091 = GetIP_synthMode(var_3090)
		if ( var_3091 == 8 & var_3089 != 0 ) {
			var_3092 = 1
		}
		else {
			var_3092 = 0
		}
		var_3093 = var_3085
		if ( 0 ) {
			var_3094++
		}
		if ( var_3093 == 0 | var_3094 ) {
			var_3094 = 0
			var_3094++
		}
		if ( var_3093 == 6 | var_3094 ) {
			var_3094 = 0
			var_3095 = vslib_getprjitemfreqa4(var_67(17), var_3084)
			var_3096 = GetPrjItemKey(var_67(17), var_3084)
			var_3097 = GetPrjItemTune(var_67(17), var_3084)
			var_3098 = 128 * var_3087 - 1 - var_3086
			repeat 129
				var_3099 = cnt
				var_3100 = cnvnn2pitch(var_3099, var_3095, var_3096, var_3097, var_3084)
				var_3101 = int(double(var_3098) - 0.01 * var_3100 * var_3087 + 0.5)
				if ( var_67(38) != 0 ) {
					var_3102 = cnvnn2pitch(var_3099 - 1, var_3095, var_3096, var_3097, var_3084)
					var_3103 = cnvnn2pitch(var_3099 + 1, var_3095, var_3096, var_3097, var_3084)
					var_3104 = int(double(var_3098) - 0.01 * (var_3100 + var_3102) / 2 * var_3087 + 0.5)
					var_3105 = int(double(var_3098) - 0.01 * (var_3100 + var_3103) / 2 * var_3087 + 0.5)
					var_3106 = var_3096
					if ( var_3106 == 0 ) {
						var_3106 = 1
					}
					if ( getscaleflg(cnt, var_3106) != 0 ) {
						color 25, 31, 58
						boxf 0, var_3105 + 1, var_3081 - 2, var_3104 - 1
						color 41, 41, 58
						boxf 0, var_3105, var_3081 - 2, var_3105
					}
					else {
						if ( var_3106 == 1 ) {
							color 25, 31, 58
							boxf var_3081 * 2 / 3, var_3105, var_3081 - 2, var_3104
							color 41, 41, 58
							boxf var_3081 * 2 / 3, var_3105, var_3081 * 2 / 3, var_3104
							boxf var_3081 * 2 / 3, var_3101, var_3081 - 2, var_3101
						}
					}
				}
				if ( var_3099 \ 12 == 0 ) {
					color 160, 160, 160
					boxf var_3081 - 9, var_3101, var_3081 - 2, var_3101
					if ( getscaleflg(cnt, var_3096) != 0 ) {
						color 208, 208, 208
					}
					else {
						color 128, 128, 128
					}
					pos var_3081 - 55, var_3101 - 6
					mes getnoteoctname(var_3099, var_3096)
					if ( var_67(193) != 0 ) {
						pos 5, var_3101 - 6
						mes strf("%3.1f", cnvpitch2freqd(var_3100))
					}
				}
				else {
					color 80, 80, 80
					boxf var_3081 - 6, var_3101, var_3081 - 2, var_3101
					if ( var_3087 >= 15 ) {
						if ( getscaleflg(cnt, var_3096) != 0 ) {
							color 208, 208, 208
						}
						else {
							color 128, 128, 128
						}
						pos var_3081 - 55, var_3101 - 6
						mes getnoteoctname(var_3099, var_3096)
						if ( var_67(193) != 0 ) {
							pos 5, var_3101 - 6
							mes strf("%3.1f", cnvpitch2freqd(var_3100))
						}
					}
				}
			loop
			goto *label_798
			var_3094++
		}
		if ( var_3093 == 1 | var_3094 ) {
			var_3094 = 0
			var_3098 = 48 * var_3087 - 1 - var_3086
			repeat 49
				var_3107 = cnt
				var_3101 = int(double(var_3098) - 0.01 * var_3107 * 100 * var_3087 + 0.5)
				if ( var_3107 \ 12 == 0 ) {
					color 160, 160, 160
					boxf var_3081 - 9, var_3101, var_3081 - 2, var_3101
					color 208, 208, 208
					pos var_3081 - 55, var_3101 - 6
					mes str(var_3107 - 24)
				}
				else {
					color 80, 80, 80
					boxf var_3081 - 6, var_3101, var_3081 - 2, var_3101
					if ( var_3087 >= 15 ) {
						color 208, 208, 208
						pos var_3081 - 55, var_3101 - 6
						mes str(var_3107 - 24)
					}
				}
			loop
			goto *label_798
			var_3094++
		}
		if ( var_3093 == 2 | var_3094 ) {
			var_3094 = 0
			var_3098 = var_3082 - 20
			var_3108 = 0.5 * (var_3082 - 40)
			var_3109 = double(var_3082 - 40)
			var_3110 = 12.0
			var_3111 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
			if ( var_67(194) == 0 ) {
				repeat 9
					var_3112 = double(cnt) / 4.0
					var_3101 = int(double(var_3098) - var_3112 * var_3108 + 0.5)
					if ( cnt \ 2 == 0 ) {
						color 160, 160, 160
						boxf var_3081 - 9, var_3101, var_3081 - 2, var_3101
					}
					else {
						color 80, 80, 80
						boxf var_3081 - 6, var_3101, var_3081 - 2, var_3101
					}
					color 208, 208, 208
					pos var_3081 - 55, var_3101 - 6
					mes var_3078(cnt)
				loop
			}
			else {
				repeat 9
					var_3113 = 12.0 * (1 - cnt)
					var_3101 = int(double(var_3098) - (var_3113 - var_3111) / (var_3110 - var_3111) * var_3109 + 0.5)
					if ( (1 - cnt) \ 2 == 0 ) {
						color 160, 160, 160
						boxf var_3081 - 9, var_3101, var_3081 - 2, var_3101
					}
					else {
						color 80, 80, 80
						boxf var_3081 - 6, var_3101, var_3081 - 2, var_3101
					}
					color 208, 208, 208
					pos var_3081 - 55, var_3101 - 6
					mes strf("%ddB", int(var_3113))
				loop
				color 160, 160, 160
				boxf var_3081 - 9, var_3098, var_3081 - 2, var_3098
			}
			goto *label_798
			var_3094++
		}
		if ( var_3093 == 3 | var_3094 ) {
			var_3094 = 0
			var_3098 = var_3082 - 20
			var_3108 = 0.5 * (var_3082 - 40)
			repeat 9
				var_3114 = (-1.0) + double(cnt) / 4.0
				var_3101 = int(double(var_3098) - (var_3114 + 1.0) * var_3108 + 0.5)
				if ( cnt \ 2 == 0 ) {
					color 160, 160, 160
					boxf var_3081 - 9, var_3101, var_3081 - 2, var_3101
				}
				else {
					color 80, 80, 80
					boxf var_3081 - 6, var_3101, var_3081 - 2, var_3101
				}
				color 208, 208, 208
				pos var_3081 - 55, var_3101 - 6
				mes var_3079(cnt)
			loop
			goto *label_798
			var_3094++
		}
		if ( var_3093 == 4 | var_3094 ) {
			var_3094 = 0
			var_3098 = var_3082 - 20
			var_3108 = var_3082 - 40
			var_3109 = double(var_3082 - 40)
			var_3110 = 0.0
			var_3111 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
			if ( var_67(194) == 0 ) {
				repeat 9
					var_3115 = double(cnt) / 8.0
					var_3101 = int(double(var_3098) - var_3115 * var_3108 + 0.5)
					if ( cnt \ 2 == 0 ) {
						color 160, 160, 160
						boxf var_3081 - 9, var_3101, var_3081 - 2, var_3101
					}
					else {
						color 80, 80, 80
						boxf var_3081 - 6, var_3101, var_3081 - 2, var_3101
					}
					color 208, 208, 208
					pos var_3081 - 55, var_3101 - 6
					mes var_3080(cnt)
				loop
			}
			else {
				repeat 8
					var_3113 = 12.0 * (cnt * (-1))
					var_3101 = int(double(var_3098) - (var_3113 - var_3111) / (var_3110 - var_3111) * var_3109 + 0.5)
					if ( cnt * (-1) \ 2 == 0 ) {
						color 160, 160, 160
						boxf var_3081 - 9, var_3101, var_3081 - 2, var_3101
					}
					else {
						color 80, 80, 80
						boxf var_3081 - 6, var_3101, var_3081 - 2, var_3101
					}
					color 208, 208, 208
					pos var_3081 - 55, var_3101 - 6
					mes strf("%ddB", int(var_3113))
				loop
				color 160, 160, 160
				boxf var_3081 - 9, var_3098, var_3081 - 2, var_3098
			}
			goto *label_798
			var_3094++
		}
		if ( var_3093 == 5 | var_3094 ) {
			var_3094 = 0
			goto *label_798
			var_3094++
		}
		if ( var_3093 == 7 | var_3094 ) {
			var_3094 = 0
			var_3094++
		}
		if ( var_3093 == 8 | var_3094 ) {
			var_3094 = 0
			var_3094++
		}
		if ( var_3093 == 9 | var_3094 ) {
			var_3094 = 0
			var_3098 = var_3082 - 20
			var_3108 = var_3082 - 40
			repeat 9
				var_3116 = ((-1.0) + double(cnt) / 4.0) * 100.0
				var_3101 = int(double(var_3098) - (var_3116 + 100.0) / 200.0 * var_3108 + 0.5)
				if ( cnt \ 2 == 0 ) {
					color 160, 160, 160
					boxf var_3081 - 9, var_3101, var_3081 - 2, var_3101
				}
				else {
					color 80, 80, 80
					boxf var_3081 - 6, var_3101, var_3081 - 2, var_3101
				}
				color 208, 208, 208
				pos var_3081 - 55, var_3101 - 6
				mes strf("%3.1f", var_3116)
			loop
			goto *label_798
			var_3094++
		}
		if ( var_3093 == 10 | var_3094 ) {
			var_3094 = 0
			var_3098 = var_3082 - 20
			if ( var_3092 == 0 ) {
				var_3108 = var_3082 - 40
				repeat 9
					var_3116 = ((-1.0) + double(cnt) / 4.0) * 100.0
					var_3101 = int(double(var_3098) - (var_3116 + 100.0) / 200.0 * var_3108 + 0.5)
					if ( cnt \ 2 == 0 ) {
						color 160, 160, 160
						boxf var_3081 - 9, var_3101, var_3081 - 2, var_3101
					}
					else {
						color 80, 80, 80
						boxf var_3081 - 6, var_3101, var_3081 - 2, var_3101
					}
					color 208, 208, 208
					pos var_3081 - 55, var_3101 - 6
					mes strf("%3.1f", var_3116)
				loop
			}
			else {
				var_3108 = var_3082 - 40
				repeat 5
					var_3116 = double(cnt) / 4.0 * 100.0
					var_3101 = int(double(var_3098) - var_3116 / 100.0 * var_3108 + 0.5)
					color 160, 160, 160
					boxf var_3081 - 9, var_3101, var_3081 - 2, var_3101
					color 208, 208, 208
					pos var_3081 - 55, var_3101 - 6
					mes strf("%3.1f", var_3116)
				loop
			}
			goto *label_798
		}
	}
*label_798
	gsel 12
	pos var_67(221), var_67(222)
	gcopy 9, 0, 0, var_67(223), var_67(224)
	return
*label_799
	goto *label_807
#deffunc initdrawidegraphpanel
	buffer 27, 100, 100
	var_3117 = 11
	color 0, 0, 0
	boxf 0, var_3117, 0 + var_3117 * 4 - 1, var_3117 + var_3117 * 4 - 1
	color 255, 255, 255
	circle 0, var_3117, 0 + var_3117 * 4, var_3117 + var_3117 * 4
	color 0, 0, 0
	circle 0 + 4 + 1, var_3117 + 4 + 1, 0 + var_3117 * 4 - 4 - 1, var_3117 + var_3117 * 4 - 4 - 1
	color 255, 255, 255
	boxf 0, 0, var_3117 - 1, var_3117 - 1
	pos var_3117, 0
	gzoom var_3117, var_3117, 27, 0, var_3117, var_3117 * 4, var_3117 * 4, 1
	color 255, 255, 255
	boxf 0, var_3117, var_3117 - 1, var_3117 + var_3117 - 1
	color 255, 255, 255
	boxf var_3117, var_3117, var_3117 + var_3117 - 1, var_3117 + var_3117 - 1
	color 0, 0, 0
	boxf var_3117 + 1, var_3117 + 1, var_3117 + var_3117 - 1 - 1, var_3117 + var_3117 - 1 - 1
	InitializeColorTable
	dim var_3118, 94 - 82 + 1
	repeat 94 - 82 + 1
		var_3119 = 64 + cnt
		var_3118(cnt) = GetColorTable(var_3119)
		if ( var_67(82 + cnt) == 16777216 ) {
			var_67(82 + cnt) = var_3118(cnt)
		}
		else {
			SetColorTable var_3119, var_67(82 + cnt)
		}
	loop
	return
#defcfunc getinitgraphcolor int prm_1333
	return var_3118(prm_1333)
#deffunc setgraphcolor
	repeat 94 - 82 + 1
		var_3119 = 64 + cnt
		SetColorTable var_3119, var_67(82 + cnt)
	loop
	return
#defcfunc getpitgridtype
	var_3120 = 0
	if ( var_67(197) == 2 ) {
		var_3120 = 65536
	}
	if ( var_67(197) == 1 & var_67(185) == 3 ) {
		var_3120 = 65536
	}
	return var_3120
#deffunc drawidegraphpanel
	var_3121 = var_67(37)
	if ( 0 ) {
		var_3122++
	}
	if ( var_3121 == (-1) | var_3122 ) {
		var_3122 = 0
		var_3123 = 2
		goto *label_805
		var_3122++
	}
	if ( var_3121 == 0 | var_3122 ) {
		var_3122 = 0
		var_3123 = 4
		goto *label_805
		var_3122++
	}
	if ( var_3121 == 1 | var_3122 ) {
		var_3122 = 0
		var_3123 = 4
		goto *label_805
	}
	if ( 1 ) {
		var_3123 = 8
		goto *label_805
	}
*label_805
	if ( var_67(9) \ var_3123 == 0 ) {
		if ( var_67(14) != var_3124 ) {
			var_67(250) = 1
			var_3124 = var_67(14)
		}
	}
	if ( var_67(198) == 0 ) {
		return
	}
	if ( var_67(269) > 0 ) {
		var_3125 = limit(var_67(270), 0, var_67(269) - 1)
		var_3126 = var_340(var_3125 * 51 + 19)
	}
	else {
		var_3126 = 0
	}
	var_3127 = 0
	if ( var_67(64) == 1 ) {
		if ( var_3128 < 50 ) {
			var_3128++
		}
		if ( var_3126 >= 150 ) {
			if ( var_3129 == 0 | var_67(249) == 1 ) {
				if ( var_3128 == 50 ) {
					var_67(249) = 1
					var_3127 = 1
					var_3128 = 0
				}
			}
		}
	}
	else {
		if ( var_3126 >= 150 ) {
			var_3127 = 1
		}
	}
	if ( var_67(272) != var_3130 | var_67(273) != var_3131 | var_392(15) != var_3132 ) {
		var_67(250) = 1
		var_3130 = var_67(272)
		var_3131 = var_67(273)
		var_3132 = var_392(15)
	}
	if ( var_67(249) == 1 ) {
		var_3133 = var_67(249)
		var_67(249) = 0
		var_67(250) = 1
		var_67(260) = 1
		gsel 10
		setfont_bold
		color 12, 12, 32
		boxf 0, 0, var_67(227) - 1, var_67(228) - 1
		if ( var_67(17) != 0 & var_67(269) > 0 ) {
			var_3125 = limit(var_67(270), 0, var_67(269) - 1)
			var_3134 = getidetabitemnum(var_3125)
			var_3135 = vslib_getprjitemoffset(var_67(17), var_3134)
			var_3136 = GetPrjSampFreq(var_67(17))
			var_3137(0) = 1.0, 2.0, 3.0, 1.0, 1.5, 2.0, 2.5, 3.0
			var_3138 = var_3137(var_67(42))
			if ( var_67(42) <= 2 ) {
				var_3139 = 0
			}
			else {
				var_3139 = 1
			}
			var_3140 = GetPrjItemTrackNum(var_67(17), var_3134)
			var_3141 = GetTrackMorphingGroup(var_67(17), var_3140)
			var_3142 = GetPrjItem(var_67(17), var_3134)
			var_3143 = GetIP_synthMode(var_3142)
			if ( var_3143 == 8 & var_3141 != 0 ) {
				var_3144 = 1
			}
			else {
				var_3144 = 0
			}
			if ( var_67(181) != 0 ) {
				var_3145 = var_3138
				var_3138 -= 1.0
				if ( var_3138 < 1.0 ) {
					var_3138 = 1.0
					var_3145 = 2.0
				}
				repeat 51
					var_3146(cnt) = var_340(var_3125 * 51 + cnt)
				loop
				var_3147(0) = 1, 0
				var_3148 = vslib_getprjitemfreqa4(var_67(17), var_3134)
				var_3149 = GetPrjItemKey(var_67(17), var_3134)
				var_3150 = GetPrjItemTune(var_67(17), var_3134)
				repeat 12
					var_3146(27 + cnt) = getscaleflg(cnt, var_3149)
					var_3146(39 + cnt) = cnvnn2pitch(cnt, var_3148, var_3149, var_3150, var_3134) - cnt * 100
				loop
				if ( var_67(182) == 0 ) {
					var_3151 = 1 + 1024 + 2048
					var_3151 += 8 * var_3127
					var_3151 += 16 * var_67(98)
					var_3151 += 32 * var_67(188)
					var_3151 += 128 * var_67(38)
					var_3151 += 512 * var_3139
					var_3151 += 8192 * var_67(194)
					var_3151 += 16384 * var_67(195)
					var_3151 += getpitgridtype()
					DrawGraph var_67(17), var_3146, var_3151, 0, 0, var_3145, var_3147
				}
				else {
					var_3152(0) = var_67(269), var_3125
					var_3151 = 1 + 1024
					var_3151 += 8 * var_3127
					var_3151 += 16 * var_67(98)
					var_3151 += 32 * var_67(188)
					var_3151 += 128 * var_67(38)
					var_3151 += 512 * var_3139
					var_3151 += 8192 * var_67(194)
					var_3151 += 16384 * var_67(195)
					var_3151 += getpitgridtype()
					DrawGraph var_67(17), var_3146, var_3151, 0, 0, var_3145, var_3152
					repeat var_67(269)
						var_3153 = var_67(269) - 1 - cnt
						var_3154 = getidetabitemnum(var_3153)
						if ( var_3153 != var_3125 ) {
							repeat 51
								var_3146(cnt) = var_340(var_3153 * 51 + cnt)
							loop
							var_3146(19) = var_340(var_3125 * 51 + 19)
							var_3146(21) = var_340(var_3125 * 51 + 21)
							var_3146(22) = var_340(var_3125 * 51 + 22)
							var_3146(23) = var_340(var_3125 * 51 + 23)
							var_3146(24) = var_340(var_3125 * 51 + 24)
							var_3155 = vslib_getprjitemoffset(var_67(17), var_3154)
							var_3156 = (var_3155 - var_3135) / var_3136
							var_3157 = int(var_3156 * var_3146(19))
							var_3146(18) = var_340(var_3125 * 51 + 18) - var_3157
							var_3152(0) = var_67(269), var_3153
							var_3151 = 1024
							var_3151 += 8 * var_3127
							var_3151 += 16 * var_67(98)
							var_3151 += 32 * var_67(188)
							var_3151 += 128 * var_67(38)
							var_3151 += 512 * var_3139
							var_3151 += 8192 * var_67(194)
							var_3151 += 16384 * var_67(195)
							var_3151 += getpitgridtype()
							DrawGraph var_67(17), var_3146, var_3151, 0, 0, var_3138, var_3152
						}
					loop
					repeat 51
						var_3146(cnt) = var_340(var_3125 * 51 + cnt)
					loop
					repeat 12
						var_3146(27 + cnt) = getscaleflg(cnt, var_3149)
						var_3146(39 + cnt) = cnvnn2pitch(cnt, var_3148, var_3149, var_3150, var_3134) - cnt * 100
					loop
					var_3151 = 2048
					var_3151 += 8 * var_3127
					var_3151 += 16 * var_67(98)
					var_3151 += 32 * var_67(188)
					var_3151 += 128 * var_67(38)
					var_3151 += 512 * var_3139
					var_3151 += 8192 * var_67(194)
					var_3151 += 16384 * var_67(195)
					var_3151 += getpitgridtype()
					DrawGraph var_67(17), var_3146, var_3151, 0, 0, var_3145, var_3147
				}
				if ( var_67(24) == 1 ) {
					gmode 3, 0, 0, 256 * var_67(71) / 100
					pos 0, 0
					gcopy 26, 0, 0, var_67(227), var_67(228)
					gmode 0
				}
				repeat var_67(269)
					var_3153 = var_67(269) - 1 - cnt
					var_3154 = getidetabitemnum(var_3153)
					if ( var_3153 != var_3125 ) {
						repeat 51
							var_3146(cnt) = var_340(var_3153 * 51 + cnt)
						loop
						var_3146(19) = var_340(var_3125 * 51 + 19)
						var_3146(21) = var_340(var_3125 * 51 + 21)
						var_3146(22) = var_340(var_3125 * 51 + 22)
						var_3146(23) = var_340(var_3125 * 51 + 23)
						var_3146(24) = var_340(var_3125 * 51 + 24)
						var_3155 = vslib_getprjitemoffset(var_67(17), var_3154)
						var_3156 = (var_3155 - var_3135) / var_3136
						var_3157 = int(var_3156 * var_3146(19))
						var_3146(18) = var_340(var_3125 * 51 + 18) - var_3157
						var_3151 = 2 + 4
						var_3151 += 512 * var_3139
						if ( var_67(185) == 3 | var_67(41) != 0 ) {
							if ( var_67(183) != 0 ) {
								var_3151 += 256
							}
						}
						if ( var_67(184) == 0 ) {
							var_3151 += 4096
						}
						var_3151 += 8192 * var_67(194)
						var_3151 += 16384 * var_67(195)
						var_3151 += 32768 * var_3144
						DrawGraph var_67(17), var_3146, var_3151, 0, 0, var_3138, var_3147
					}
				loop
				repeat 51
					var_3146(cnt) = var_340(var_3125 * 51 + cnt)
				loop
				var_3151 = 2
				var_3151 += 512 * var_3139
				if ( var_67(185) == 3 | var_67(41) != 0 ) {
					var_3151 += 256
				}
				var_3151 += 8192 * var_67(194)
				var_3151 += 16384 * var_67(195)
				var_3151 += 32768 * var_3144
				var_3151 += getpitgridtype()
				if ( var_67(187) == 1 ) {
					DrawGraph var_67(17), var_3146, var_3151, getidecbdataptr(), getidecbdatasize(), var_3145, var_3147
				}
				else {
					DrawGraph var_67(17), var_3146, var_3151, 0, 0, var_3145, var_3147
				}
			}
			else {
				repeat 51
					var_3146(cnt) = var_340(var_3125 * 51 + cnt)
				loop
				var_3147(0) = 1, 0
				var_3148 = vslib_getprjitemfreqa4(var_67(17), var_3134)
				var_3149 = GetPrjItemKey(var_67(17), var_3134)
				var_3150 = GetPrjItemTune(var_67(17), var_3134)
				repeat 12
					var_3146(27 + cnt) = getscaleflg(cnt, var_3149)
					var_3146(39 + cnt) = cnvnn2pitch(cnt, var_3148, var_3149, var_3150, var_3134) - cnt * 100
				loop
				if ( var_67(24) == 0 ) {
					var_3151 = 1 + 1024 + 2048 + 2
					var_3151 += 8 * var_3127
					var_3151 += 16 * var_67(98)
					var_3151 += 32 * var_67(188)
					var_3151 += 128 * var_67(38)
					var_3151 += 512 * var_3139
					if ( var_67(185) == 3 | var_67(41) != 0 ) {
						var_3151 += 256
					}
					var_3151 += 8192 * var_67(194)
					var_3151 += 16384 * var_67(195)
					var_3151 += 32768 * var_3144
					var_3151 += getpitgridtype()
					if ( var_67(187) == 1 ) {
						DrawGraph var_67(17), var_3146, var_3151, getidecbdataptr(), getidecbdatasize(), var_3138, var_3147
					}
					else {
						DrawGraph var_67(17), var_3146, var_3151, 0, 0, var_3138, var_3147
					}
				}
				else {
					var_3151 = 1 + 1024 + 2048
					var_3151 += 8 * var_3127
					var_3151 += 16 * var_67(98)
					var_3151 += 32 * var_67(188)
					var_3151 += 128 * var_67(38)
					var_3151 += 512 * var_3139
					var_3151 += 8192 * var_67(194)
					var_3151 += 16384 * var_67(195)
					var_3151 += getpitgridtype()
					DrawGraph var_67(17), var_3146, var_3151, 0, 0, var_3138, var_3147
					gmode 3, 0, 0, 256 * var_67(71) / 100
					pos 0, 0
					gcopy 26, 0, 0, var_67(227), var_67(228)
					gmode 0
					var_3151 = 2
					var_3151 += 512 * var_3139
					if ( var_67(185) == 3 | var_67(41) != 0 ) {
						var_3151 += 256
					}
					var_3151 += 8192 * var_67(194)
					var_3151 += 16384 * var_67(195)
					var_3151 += 32768 * var_3144
					var_3151 += getpitgridtype()
					if ( var_67(187) == 1 ) {
						DrawGraph var_67(17), var_3146, var_3151, getidecbdataptr(), getidecbdatasize(), var_3138, var_3147
					}
					else {
						DrawGraph var_67(17), var_3146, var_3151, 0, 0, var_3138, var_3147
					}
				}
			}
			getidelinepos var_3158
			if ( getidelinephase() == 1 ) {
				color 255, 255, 255
				line var_3158(0), var_3158(1), var_3158(2), var_3158(3)
			}
			getbeziereditinfos var_3159, var_3160
			if ( var_3159 == 0 ) {
				getbeziereditinfon var_3159, var_3160
			}
			if ( var_3159 == 1 ) {
				color 255, 255, 255
				pos var_3160(0), var_3160(1)
				line var_3160(2), var_3160(3)
				line var_3160(4), var_3160(5)
				line var_3160(6), var_3160(7)
				var_3117 = 5
				gmode 7
				pos var_3160(0) - var_3117, var_3160(1) - var_3117
				gcopy 27, 0, 11, 11, 11
				pos var_3160(2) - var_3117, var_3160(3) - var_3117
				gcopy 27, 0, 0, 11, 11
				pos var_3160(4) - var_3117, var_3160(5) - var_3117
				gcopy 27, 0, 0, 11, 11
				pos var_3160(6) - var_3117, var_3160(7) - var_3117
				gcopy 27, 0, 11, 11, 11
				gmode 0
				setfont_normal
				var_3161 = var_340(var_3125 * 51 + 1)
				var_3121 = var_3161
				if ( 0 ) {
					var_3122++
				}
				if ( var_3121 == 0 | var_3122 ) {
					var_3122 = 0
					var_3122++
				}
				if ( var_3121 == 1 | var_3122 ) {
					var_3122 = 0
					repeat 4
						pos var_3160(cnt * 2 + 0) + 10, var_3160(cnt * 2 + 1) - 20
						mes strf("%+d", var_3160(8 + cnt))
					loop
					goto *label_806
					var_3122++
				}
				if ( var_3121 == 7 | var_3122 ) {
					var_3122 = 0
					var_3122++
				}
				if ( var_3121 == 8 | var_3122 ) {
					var_3122 = 0
					var_3122++
				}
				if ( var_3121 == 9 | var_3122 ) {
					var_3122 = 0
					var_3122++
				}
				if ( var_3121 == 10 | var_3122 ) {
					var_3122 = 0
					repeat 4
						pos var_3160(cnt * 2 + 0) + 10, var_3160(cnt * 2 + 1) - 20
						mes strf("%+4.2f", 0.01 * var_3160(8 + cnt))
					loop
					goto *label_806
				}
			}
*label_806
			var_3129 = var_3127
		}
		gsel 12
		pos var_67(225), var_67(226)
		gcopy 10, 0, 0, var_67(227), var_67(228)
	}
	if ( var_67(250) == 1 ) {
		var_67(250) = 0
		gsel 12
		if ( var_3162 >= 0 ) {
			pos var_3162 + var_67(225), var_67(226)
			gcopy 10, var_3162, 0, 1, var_67(228)
			var_3163(0) = var_3162 + var_67(225)
			var_3163(1) = var_67(226)
			var_3163(2) = 1
			var_3163(3) = var_67(228)
			addideredrawrect var_3163
			var_3162 = -1
		}
		if ( var_3164(0) > 0 ) {
			pos var_3164(0), var_3164(1)
			gcopy 10, var_3164(0) - var_67(225), var_3164(1) - var_67(226), var_3164(2), var_3164(3)
			addideredrawrect var_3164
			var_3164(0) = 0
		}
		if ( var_3165(0) > 0 ) {
			pos var_3165(0), var_3165(1)
			gcopy 10, var_3165(0) - var_67(225), var_3165(1) - var_67(226), var_3165(2), var_3165(3)
			addideredrawrect var_3165
			var_3165(0) = 0
		}
		if ( var_67(17) != 0 & var_67(269) > 0 ) {
			var_3125 = limit(var_67(270), 0, var_67(269) - 1)
			var_3154 = getidetabitemnum(var_3125)
			var_3166 = var_340(var_3125 * 51 + 18)
			var_3126 = var_340(var_3125 * 51 + 19)
			var_3167 = vslib_getprjitemoffset(var_67(17), var_3154)
			var_3136 = GetPrjSampFreq(var_67(17))
			var_3168 = (double(var_67(13)) - var_3167) / var_3136
			var_3169 = int(var_3168 * var_3126 + 0.5) - var_3166
			if ( var_3169 >= 0 & var_3169 < var_67(227) ) {
				var_3162 = var_3169
				var_3170 = var_67(95)
				color var_3170 >> 16 & 255, var_3170 >> 8 & 255, var_3170 & 255
				boxf var_3169 + var_67(225), var_67(226), var_3169 + var_67(225), var_67(226) + var_67(228) - 1
				var_3163(0) = var_3169 + var_67(225)
				var_3163(1) = var_67(226)
				var_3163(2) = 1
				var_3163(3) = var_67(228)
				addideredrawrect var_3163
			}
			if ( var_67(186) == 1 ) {
				var_3169 = var_67(272)
				var_3171 = var_67(273)
				if ( var_3169 >= 0 & var_3169 < var_67(227) ) {
					if ( var_3171 >= 0 & var_3171 < var_67(228) ) {
						color 208, 208, 208
						var_3117 = 8
						var_3172 = limit(var_3169 - var_3117, 0, var_67(227) - 1) + var_67(225)
						var_3173 = limit(var_3169 + var_3117, 0, var_67(227) - 1) + var_67(225)
						var_3174 = var_3171 + var_67(226)
						boxf var_3172, var_3174, var_3173, var_3174
						var_3165(0) = var_3172
						var_3165(2) = var_3173 - var_3172 + 1
						var_3174 = limit(var_3171 - var_3117, 0, var_67(228) - 1) + var_67(226)
						var_3175 = limit(var_3171 + var_3117, 0, var_67(228) - 1) + var_67(226)
						var_3172 = var_3169 + var_67(225)
						boxf var_3172, var_3174, var_3172, var_3175
						var_3165(1) = var_3174
						var_3165(3) = var_3175 - var_3174 + 1
						addideredrawrect var_3165
						setfont_popup
						var_3176(0) = 0, 0
						GetTextExtentPoint32A hdc, var_392(15), strlen(var_392(15)), var_3176
						var_3177 = var_3176(0) + 5
						var_3178 = var_3176(1) + 5
						var_3179 = var_3169 + 5
						var_3180 = var_3171 - 5 - var_3178
						if ( var_3179 + var_3177 >= var_67(227) ) {
							var_3179 = var_3169 - 5 - var_3177
						}
						if ( var_3180 < 0 ) {
							var_3180 = var_3171 + 5
						}
						var_3179 += var_67(225)
						var_3180 += var_67(226)
						color 208, 208, 208
						boxf var_3179, var_3180, var_3179 + var_3177 - 1, var_3180 + var_3178 - 1
						color 12, 12, 32
						boxf var_3179 + 1, var_3180 + 1, var_3179 + var_3177 - 2, var_3180 + var_3178 - 2
						color 208, 208, 208
						pos var_3179 + 2, var_3180 + 2
						mes var_392(15)
						var_3164(0) = var_3179, var_3180, var_3177, var_3178
						addideredrawrect var_3164
					}
				}
			}
		}
	}
	return
*label_807
	goto *label_810
#deffunc drawidelabelpanel
	var_3181 = var_67(37)
	if ( 0 ) {
		var_3182++
	}
	if ( var_3181 == (-1) | var_3182 ) {
		var_3182 = 0
		var_3183 = 2
		goto *label_809
		var_3182++
	}
	if ( var_3181 == 0 | var_3182 ) {
		var_3182 = 0
		var_3183 = 4
		goto *label_809
		var_3182++
	}
	if ( var_3181 == 1 | var_3182 ) {
		var_3182 = 0
		var_3183 = 4
		goto *label_809
	}
	if ( 1 ) {
		var_3183 = 8
		goto *label_809
	}
*label_809
	if ( var_67(9) \ var_3183 == 0 ) {
		if ( var_67(14) != var_3184 ) {
			var_67(251) = 1
			var_3184 = var_67(14)
		}
	}
	if ( var_67(198) == 0 | var_67(191) == 0 ) {
		return
	}
	if ( var_67(251) == 0 ) {
		return
	}
	var_67(251) = 0
	var_67(261) = 1
	gsel 11
	setfont_normal
	color 12, 12, 32
	boxf 0, 1, var_67(231) - 1, var_67(232) - 1
	color 208, 208, 208
	boxf 0, 0, var_67(231) - 1, 0
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_3185 = limit(var_67(270), 0, var_67(269) - 1)
		var_3186 = getidetabitemnum(var_3185)
		var_3187 = GetPrjItem(var_67(17), var_3186)
		var_3188 = GetII_ctrlPntPs(var_3187)
		var_3189 = var_340(var_3185 * 51 + 18)
		var_3190 = var_340(var_3185 * 51 + 19)
		var_3191 = GetPrjSampFreq(var_67(17))
		var_3192 = vslib_getprjitemoffset(var_67(17), var_3186)
		var_3193 = GetIP_nLabel(var_3187)
		var_3194 = 0
		var_3195 = 0
		var_3196 = 0
		sdim var_3197, 64
		repeat var_3193
			GetIP_label var_3187, cnt, var_3198, var_3199, var_3197, var_3200
			if ( var_3198 >= var_3195 ) {
				var_3194 = 0
				var_3195 = var_3199
			}
			else {
				if ( var_3195 <= var_3196 ) {
					var_3194 = 0
					var_3195 = var_3199
				}
				else {
					var_3194 = 1
					var_3196 = var_3199
				}
			}
			var_3201 = double(var_3198) / var_3188
			var_3202 = double(var_3199) / var_3188
			var_3203 = vslib_getstretchedtsec(var_3187, var_3201, var_3204)
			var_3205 = int(var_3203 * var_3190 + 0.5) - var_3189
			var_3203 = vslib_getstretchedtsec(var_3187, var_3202, var_3204)
			var_3206 = int(var_3203 * var_3190 + 0.5) - var_3189
			if ( var_3205 < var_67(231) & var_3206 >= 0 ) {
				var_3207(0) = 0, 0
				func_36 hdc, var_3197, strlen(var_3197), var_3207
				var_3208 = var_3207(0) + 4
				if ( var_3208 < 16 ) {
					var_3208 = 16
				}
				if ( var_3198 != var_3199 ) {
					var_3209 = (var_3205 + var_3206) / 2 - var_3208 / 2
				}
				else {
					var_3209 = var_3205 + 5
				}
				var_3210 = 22 * var_3194
				if ( var_3200 == 0 ) {
					color 128, 255, 255
					boxf var_3205, var_3210 + 11, var_3206, var_3210 + 11
					color 208, 208, 208
					boxf var_3209, var_3210 + 3, var_3209 + var_3208, var_3210 + 20
					color 12, 12, 32
					boxf var_3209 + 1, var_3210 + 4, var_3209 + var_3208 - 1, var_3210 + 19
					color 208, 208, 208
					pos var_3209 + 2, var_3210 + 4
					mes var_3197
					color 128, 255, 255
					boxf var_3205, var_3210 + 3, var_3205, var_3210 + 20
					boxf var_3206, var_3210 + 3, var_3206, var_3210 + 20
				}
				else {
					color 255, 255, 128
					boxf var_3205, var_3210 + 11, var_3206, var_3210 + 11
					color 255, 255, 128
					boxf var_3209, var_3210 + 3, var_3209 + var_3208, var_3210 + 20
					color 12, 12, 32
					boxf var_3209 + 1, var_3210 + 4, var_3209 + var_3208 - 1, var_3210 + 19
					color 255, 255, 128
					pos var_3209 + 2, var_3210 + 4
					mes var_3197
					color 255, 255, 128
					boxf var_3205, var_3210 + 3, var_3205, var_3210 + 20
					boxf var_3206, var_3210 + 3, var_3206, var_3210 + 20
				}
			}
		loop
		var_3211 = (double(var_67(13)) - var_3192) / var_3191
		var_3212 = int(var_3211 * var_3190 + 0.5) - var_3189
		if ( var_3212 >= 0 & var_3212 < var_67(231) ) {
			var_3213 = var_67(95)
			color var_3213 >> 16 & 255, var_3213 >> 8 & 255, var_3213 & 255
			boxf var_3212, 0, var_3212, var_67(232) - 1
		}
	}
	gsel 12
	pos var_67(229), var_67(230)
	gcopy 11, 0, 0, var_67(231), var_67(232)
	return
*label_810
	goto *label_812
#deffunc drawidecurtime
	if ( var_67(198) == 0 ) {
		return
	}
	gsel 12
	var_3214 = 590
	var_3215 = 3
	var_3216 = 235
	var_3217 = 30
	color 32, 32, 48
	boxf var_3214, var_3215, var_3214 + var_3216 - 1, var_3215 + var_3217 - 1
	color 208, 208, 208
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_3218 = limit(var_67(270), 0, var_67(269) - 1)
		var_3219 = getidetabitemnum(var_3218)
		if ( var_67(188) == 0 ) {
			var_3220 = 0.0
			var_3221 = 0.0
		}
		else {
			var_3220 = vslib_getprjitemoffset(var_67(17), var_3219)
			var_3222 = GetPrjItem(var_67(17), var_3219)
			var_3223 = GetII_sampFreq(var_3222)
			var_3221 = vslib_getprjitemmeasoffset(var_67(17), var_3219) * var_3223
		}
		setfont_time_small
		pos var_3214, var_3215
		mes "M:B:T"
		pos var_3214 + 120, var_3215
		mes "M:S.MS"
		setfont_time_big
		pos var_3214, var_3215 + 10
		mes timesmptostr(var_67(13) - (var_3220 + var_3221), 1)
		pos var_3214 + 120, var_3215 + 10
		mes timesmptostr(var_67(13) - var_3220, 0)
	}
	else {
		setfont_time_small
		pos var_3214, var_3215
		mes "M:B:T"
		pos var_3214 + 120, var_3215
		mes "M:S.MS"
		setfont_time_big
		pos var_3214, var_3215 + 10
		mes "000:00:000"
		pos var_3214 + 120, var_3215 + 10
		mes "00:00.000"
	}
	return
*label_812
	goto *label_814
#deffunc drawidespcscale
	if ( var_67(198) == 0 ) {
		return
	}
	if ( var_67(255) == 0 ) {
		return
	}
	gsel 12
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		var_3224 = limit(var_67(270), 0, var_67(269) - 1)
		var_3225 = getidetabitemnum(var_3224)
		var_3226 = GetPrjItem(var_67(17), var_3225)
		var_3227 = 820
		var_3228 = 17
		var_3229 = 120
		var_3230 = 16
		var_3231 = 20
		color 32, 32, 48
		boxf var_3227, var_3228 - 14, var_3227 + var_3229 - 1, var_3228 + var_3230 - 1
		var_3232 = GetSpcBlock(var_3226)
		if ( var_3232 > 0 ) {
			var_3233 = GetSpcRatio(var_3226)
			var_3234 = limit(int(sqrt(double(var_3233) / 4096.0) * (var_3229 - var_3231)), 0, var_3229 - var_3231)
			pos var_3227, var_3228 - 14
			color 208, 208, 208
			setfont_time_small
			mes "SPECTRUM"
			repeat 5
				var_3235 = var_3227 + (var_3229 - var_3231) * cnt / 4 + var_3231 / 2 - 1
				color 16, 16, 24
				boxf var_3235, var_3228, var_3235, var_3228 + var_3230 - 1
				color 96, 96, 112
				boxf var_3235 + 1, var_3228, var_3235 + 1, var_3228 + var_3230 - 1
			loop
			var_3236 = var_3228 + var_3230 / 2 - 2
			color 32, 32, 48
			boxf var_3227, var_3236 - 2, var_3227 + var_3229 - 1, var_3236 + 5
			color 16, 16, 24
			boxf var_3227, var_3236, var_3227 + var_3229 - 1, var_3236 + 3
			color 96, 96, 112
			boxf var_3227 + 1, var_3236 + 1, var_3227 + var_3229 - 1, var_3236 + 3
			color 32, 32, 48
			boxf var_3227 + 1, var_3236 + 1, var_3227 + var_3229 - 2, var_3236 + 2
			var_3227 += var_3234 + 1
			var_3229 = var_3231 - 2
			var_3228 += 1
			var_3230 -= 2
			var_3237 = getidespcscalestatus()
			if ( var_3237 == 1 ) {
				color 208, 208, 208
				boxf var_3227, var_3228, var_3227 + var_3229 - 1, var_3228 + var_3230 - 1
				color 32, 32, 48
				boxf var_3227 + 1, var_3228 + 1, var_3227 + var_3229 - 2, var_3228 + var_3230 - 2
				color 208, 208, 208
				boxf var_3227 + var_3229 / 2 - 1, var_3228 + 2, var_3227 + var_3229 / 2, var_3228 + var_3230 - 3
			}
			else {
				color 96, 96, 112
				boxf var_3227, var_3228, var_3227 + var_3229 - 1, var_3228 + var_3230 - 1
				color 16, 16, 24
				boxf var_3227 + 1, var_3228 + 1, var_3227 + var_3229 - 1, var_3228 + var_3230 - 1
				color 32, 32, 48
				boxf var_3227 + 1, var_3228 + 1, var_3227 + var_3229 - 2, var_3228 + var_3230 - 2
				color 96, 96, 112
				boxf var_3227 + var_3229 / 2 - 1, var_3228 + 2, var_3227 + var_3229 / 2, var_3228 + var_3230 - 3
			}
		}
	}
	return
*label_814
	goto *label_819
#deffunc clearidestatusstr
	var_392(13) = ""
	var_3238 = 0
	var_392(14) = ""
	var_3239 = 0
	return
#deffunc setidestatusstr str prm_1338, int prm_1339
	if ( prm_1339 >= var_3238 ) {
		var_392(13) = prm_1338
		var_3238 = prm_1339
	}
	return
#deffunc setidestatusstrright str prm_1340, int prm_1341
	if ( prm_1341 >= var_3239 ) {
		var_392(14) = prm_1340
		var_3239 = prm_1341
	}
	return
#deffunc drawidestatus
	var_3240 = var_67(254)
	if ( var_392(13) != var_3241 ) {
		var_3240 = 1
	}
	if ( var_392(14) != var_3242 ) {
		var_3240 = 1
	}
	if ( var_3240 == 1 ) {
		var_3243 = var_67(241)
		var_3244 = var_67(242)
		var_3245 = var_67(243)
		var_3246 = var_67(244)
		gsel 12
		setfont_normal
		pos var_3243 + 8, var_3244 + 4
		mes var_392(14)
		var_3247 = ginfo(14)
		color 32, 32, 48
		boxf var_3243, var_3244, var_3243 + var_3245 - 1, var_3244 + var_3246 - 1
		color 208, 208, 208
		pos var_3243 + 8, var_3244 + 4
		mes var_392(13)
		pos var_3243 + var_3245 - var_3247 - 8, var_3244 + 4
		mes var_392(14)
		var_67(254) = 0
		var_67(264) = 1
		var_3241 = var_392(13)
		var_3242 = var_392(14)
	}
	return
*label_819
	goto *label_824
#deffunc initidecommand
	var_3248 = 1
	var_3249 = 0
	var_3250 = 3
	var_3251 = 6000
	var_3252 = 0
	var_3253 = 5
	var_3254 = 0
	var_3255 = 0
	var_3256 = 50
	var_3257 = 200
	var_3258 = 200
	var_3259 = 200
	var_3260 = 0
	var_3261 = 5
	var_3262 = 0
	var_3263 = 0
	var_3264 = 1.0
	var_3265 = 1.0
	var_3266 = 100.0
	var_3267 = 100.0
	var_3268 = 100.0
	var_3269 = 100.0
	var_3270 = 0.0
	var_3271 = 0.0
	var_3272 = 1.0
	var_3273 = 1.0
	var_3274 = 200
	var_3275 = 200
	var_3276 = 200
	var_3277 = 0
	var_3278 = 100.0
	var_3279 = 0.5
	var_3280 = 4.0
	var_3281 = 0
	var_3282 = 0
	var_3283 = 1.0
	var_3284 = 0.5
	var_3285 = 0
	var_3286 = 0
	var_3287 = 1.0
	var_3288 = 0.5
	var_3289 = 4.0
	var_3290 = 100
	var_3291 = powf(10.0, 3.0 / 20.0)
	var_3292 = powf(10.0, (-3.0) / 20.0)
	var_3293 = 0
	var_3294 = 480
	var_3295 = 0
	var_3296 = 6000
	var_3297 = 0
	var_3298 = 0.0
	var_3299 = 0.0
	var_3300 = 0.0
	var_3301 = 0.0
	var_3302 = 0.0
	var_3303 = 0.0
	var_3304 = 0.0
	var_3305 = 0.0
	return
#deffunc idecommand int prm_1342
	if ( var_67(17) != 0 & var_67(269) > 0 ) {
		if ( var_67(198) == 1 & getactivewindow() == 12 ) {
			var_3306 = limit(var_67(270), 0, var_67(269) - 1)
			var_3307 = getidetabitemnum(var_3306)
			var_3308 = var_340(var_3306 * 51 + 1)
			var_3309 = var_67(185)
			var_3310 = GetPrjItem(var_67(17), var_3307)
			var_3311 = GetII_nCtrlPnt(var_3310)
			var_3312 = GetII_ctrlPntPs(var_3310)
			var_3313 = GetII_sampFreq(var_3310)
			var_3314 = vslib_getprjitemfreqa4(var_67(17), var_3307)
			var_3315 = GetPrjItemKey(var_67(17), var_3307)
			var_3316 = GetPrjItemTune(var_67(17), var_3307)
			var_3317 = GetPrjItemTrackNum(var_67(17), var_3307)
			var_3318 = GetTrackMorphingGroup(var_67(17), var_3317)
			var_3319 = GetIP_synthMode(var_3310)
			if ( var_3319 == 8 & var_3318 != 0 ) {
				var_3320 = 1
			}
			else {
				var_3320 = 0
			}
			var_3321 = var_340(var_3306 * 51 + 25)
			var_3322 = var_340(var_3306 * 51 + 26)
			var_3323 = var_3322 - var_3321
			var_3324 = vslib_getprjitemoffset(var_67(17), var_3307)
			var_3325 = double(var_67(13) - var_3324)
			var_3326 = 0
			var_3327 = vslib_getstretchorgsmp(var_3310, var_3325, var_3326)
			var_3328 = var_3327 / var_3313
			var_3329 = limit(int(var_3328 * var_3312 + 0.5), 0, var_3311)
			var_3330 = 0
			setidewindowtitle tltx("処理中...", "Processing...")
			if ( prm_1342 == 187 ) {
				var_340(var_3306 * 51 + 25) = 0
				var_340(var_3306 * 51 + 26) = var_3311
				if ( var_3309 == 3 ) {
					var_3331 = GetIP_nNote(var_3310)
					repeat var_3331
						GetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
						var_3335 = 1
						SetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
					loop
				}
			}
			if ( prm_1342 == 188 ) {
				var_340(var_3306 * 51 + 25) = 0
				var_340(var_3306 * 51 + 26) = var_3329
			}
			if ( prm_1342 == 189 ) {
				var_340(var_3306 * 51 + 25) = var_3329
				var_340(var_3306 * 51 + 26) = var_3311
			}
			if ( prm_1342 == 190 ) {
				var_340(var_3306 * 51 + 25) = 0
				var_340(var_3306 * 51 + 26) = 0
			}
			if ( prm_1342 == 191 ) {
				var_3336 = vslib_getstretchedtsec(var_3310, double(var_3321) / var_3312, var_3326)
				var_3337 = vslib_getstretchedtsec(var_3310, double(var_3322) / var_3312, var_3326)
				var_3338 = vslib_getprjitemoffset(var_67(17), var_3307)
				var_3339 = var_3338 / var_3313
				var_67(22) = int(1000.0 * (var_3339 + var_3336))
				var_67(23) = int(1000.0 * (var_3339 + var_3337))
				var_67(247) = 1
				var_67(148) = 1
			}
			if ( prm_1342 == 192 ) {
				var_3336 = vslib_getstretchedtsec(var_3310, double(var_3321) / var_3312, var_3326)
				var_3337 = vslib_getstretchedtsec(var_3310, double(var_3322) / var_3312, var_3326)
				var_3338 = vslib_getprjitemoffset(var_67(17), var_3307)
				var_3339 = var_3338 / var_3313
				var_3340 = int(1000.0 * (var_3339 + var_3336))
				var_3341 = int(1000.0 * (var_3339 + var_3337))
				var_3342 = 0
				if ( var_67(22) == var_3340 & var_67(23) == var_3341 ) {
					if ( var_67(97) == 1 & var_67(15) == 1 ) {
						var_3342 = 1
					}
				}
				if ( var_3342 == 0 ) {
					var_67(22) = var_3340
					var_67(23) = var_3341
					var_67(97) = 1
					updatemainwindowmenu
					updateidewindowmenu
					vsplay_seek var_67(17), var_67(22)
					vsplay_play var_67(17)
					var_67(16) = var_67(14)
					var_67(247) = 1
					var_67(148) = 1
				}
				else {
					vsplay_stop var_67(17)
				}
			}
			if ( prm_1342 == 194 & var_3323 > 0 ) {
				dimtype var_3343, 3, 16 * var_3323, 0, 0, 0
				var_3336 = vslib_getstretchedtsec(var_3310, double(var_3321) / var_3312, var_3326)
				repeat var_3323
					var_3344 = var_3321 + cnt
					var_3345 = vslib_getstretchedtsec(var_3310, double(var_3344) / var_3312, var_3326)
					var_3346 = var_3345 - var_3336
					var_3343(cnt * 16 + 0) = var_3346
					var_3343(cnt * 16 + 1) = double(GetICP_fix_edit(var_3310, var_3344))
					var_3343(cnt * 16 + 2) = double(GetICP_pit_edit(var_3310, var_3344))
					var_3343(cnt * 16 + 3) = double(GetICP_frm(var_3310, var_3344))
					var_3343(cnt * 16 + 4) = vslib_geticp_vol(var_3310, var_3344)
					var_3343(cnt * 16 + 5) = vslib_geticp_pan(var_3310, var_3344)
					var_3343(cnt * 16 + 6) = vslib_geticp_dyn_edit(var_3310, var_3344)
					var_3343(cnt * 16 + 7) = double(GetICP_pit_org(var_3310, var_3344))
					var_3343(cnt * 16 + 8) = double(GetICP_breathiness(var_3310, var_3344))
					var_3343(cnt * 16 + 9) = double(GetICP_brightness(var_3310, var_3344))
					var_3343(cnt * 16 + 10) = double(GetICP_clearness(var_3310, var_3344))
					var_3343(cnt * 16 + 11) = double(GetICP_Heq(var_3310, var_3344))
				loop
				var_3347 = var_392(2) + "vocalshifter" + "_id.clb"
				vslibSaveFile var_3347, var_3343, 16 * var_3323 * 8
				if ( stat != 0 ) {
					vserrordialog 326, ""
				}
				dimtype var_3343, 3, 0, 0, 0, 0
				sendupdatecbmsg
			}
			if ( prm_1342 == 195 & var_3323 > 0 ) {
				var_3347 = var_392(2) + "vocalshifter" + "_id.clb"
				exist var_3347
				var_3348 = strsize / (16 * 8)
				if ( var_3348 > 0 ) {
					dimtype var_3343, 3, 16 * var_3348, 0, 0, 0
					bload var_3347, var_3343
					var_3336 = vslib_getstretchedtsec(var_3310, double(var_3321) / var_3312, var_3326)
					var_3349 = 0
					repeat var_3323
						var_3350 = var_3321 + cnt
						var_3345 = vslib_getstretchedtsec(var_3310, double(var_3350) / var_3312, var_3326)
						var_3346 = var_3345 - var_3336
						repeat
							if ( var_3343(var_3349 * 16 + 0) < var_3346 ) {
								var_3349++
								if ( var_3349 == var_3348 ) {
									break
								}
							}
							else {
								break
							}
						loop
						if ( var_3349 == var_3348 ) {
							break
						}
						var_3351 = var_3308
						if ( 0 ) {
							var_3352++
						}
						if ( var_3351 == 0 | var_3352 ) {
							var_3352 = 0
							if ( var_3343(var_3349 * 16 + 1) == 0.0 ) {
								SetICP_pit_edit var_3310, var_3350, int(var_3343(var_3349 * 16 + 2))
							}
							else {
								SetICP_fix_edit var_3310, var_3350, 1
							}
							goto *label_822
							var_3352++
						}
						if ( var_3351 == 1 | var_3352 ) {
							var_3352 = 0
							if ( var_3343(var_3349 * 16 + 1) == 0.0 ) {
								SetICP_frm var_3310, var_3350, int(var_3343(var_3349 * 16 + 3))
							}
							else {
								SetICP_fix_edit var_3310, var_3350, 1
							}
							goto *label_822
							var_3352++
						}
						if ( var_3351 == 2 | var_3352 ) {
							var_3352 = 0
							SetICP_vol var_3310, var_3350, var_3343(var_3349 * 16 + 4)
							goto *label_822
							var_3352++
						}
						if ( var_3351 == 3 | var_3352 ) {
							var_3352 = 0
							SetICP_pan var_3310, var_3350, var_3343(var_3349 * 16 + 5)
							goto *label_822
							var_3352++
						}
						if ( var_3351 == 4 | var_3352 ) {
							var_3352 = 0
							SetICP_dyn_edit var_3310, var_3350, var_3343(var_3349 * 16 + 6)
							goto *label_822
							var_3352++
						}
						if ( var_3351 == 5 | var_3352 ) {
							var_3352 = 0
							goto *label_822
							var_3352++
						}
						if ( var_3351 == 6 | var_3352 ) {
							var_3352 = 0
							if ( var_3343(var_3349 * 16 + 1) == 0.0 ) {
								SetICP_pit_org var_3310, var_3350, int(var_3343(var_3349 * 16 + 7))
								if ( var_67(39) == 1 ) {
									SetICP_pit_edit var_3310, var_3350, int(var_3343(var_3349 * 16 + 7))
								}
							}
							else {
								SetICP_fix_edit var_3310, var_3350, 1
							}
							goto *label_822
							var_3352++
						}
						if ( var_3351 == 7 | var_3352 ) {
							var_3352 = 0
							SetICP_breathiness var_3310, var_3350, int(var_3343(var_3349 * 16 + 8))
							goto *label_822
							var_3352++
						}
						if ( var_3351 == 8 | var_3352 ) {
							var_3352 = 0
							SetICP_brightness var_3310, var_3350, int(var_3343(var_3349 * 16 + 9))
							goto *label_822
							var_3352++
						}
						if ( var_3351 == 9 | var_3352 ) {
							var_3352 = 0
							SetICP_clearness var_3310, var_3350, int(var_3343(var_3349 * 16 + 10))
							goto *label_822
							var_3352++
						}
						if ( var_3351 == 10 | var_3352 ) {
							var_3352 = 0
							SetICP_Heq var_3310, var_3350, int(var_3343(var_3349 * 16 + 11))
							goto *label_822
						}
*label_822
					loop
					dimtype var_3343, 3, 0, 0, 0, 0
					var_3330 = 1
				}
			}
			if ( prm_1342 == 196 ) {
				var_3324 = vslib_getprjitemoffset(var_67(17), var_3307)
				var_3325 = double(var_67(13) - var_3324)
				var_3353 = var_3325 / var_3313
				SetPrjItemMeasOffset var_67(17), var_3307, var_3353
				var_3330 = 1
				var_67(247) = 1
				var_67(150) = 1
			}
			if ( prm_1342 == 197 ) {
				if ( var_67(188) == 0 ) {
					var_3338 = 0.0
					var_3354 = 0.0
				}
				else {
					var_3338 = vslib_getprjitemoffset(var_67(17), var_3307)
					var_3354 = vslib_getprjitemmeasoffset(var_67(17), var_3307) * var_3313
				}
				var_3355 = (double(var_67(13)) - (var_3338 + var_3354)) / var_3313
				timesectomeas var_3355, var_3356, var_3357, var_3358
				if ( var_3357 == 0 ) {
					var_3356--
					var_3355 = timemeastosec(var_3356, 0, 0)
				}
				else {
					var_3355 = timemeastosec(var_3356, 0, 0)
				}
				var_3355 += (var_3338 + var_3354) / var_3313
				var_3359 = int(var_3355 * 1000)
				repeat 2
					timesectomeas double(var_3359) * 0.001, var_3360, var_3357, var_3358
					if ( var_3360 == var_3356 ) {
						break
					}
					else {
						var_3359++
					}
				loop
				if ( var_67(196) != 0 ) {
					var_3359 = limittimeinitem(var_3359)
				}
				vsplay_seek var_67(17), var_3359
				setmtiautoscrollrequest
				setideautoscrollrequest
			}
			if ( prm_1342 == 198 ) {
				if ( var_67(188) == 0 ) {
					var_3338 = 0.0
					var_3354 = 0.0
				}
				else {
					var_3338 = vslib_getprjitemoffset(var_67(17), var_3307)
					var_3354 = vslib_getprjitemmeasoffset(var_67(17), var_3307) * var_3313
				}
				var_3355 = (double(var_67(13)) - (var_3338 + var_3354)) / var_3313
				timesectomeas var_3355, var_3356, var_3357, var_3358
				var_3356++
				var_3355 = timemeastosec(var_3356, 0, 0)
				var_3355 += (var_3338 + var_3354) / var_3313
				var_3359 = int(var_3355 * 1000)
				repeat 2
					timesectomeas double(var_3359) * 0.001, var_3360, var_3357, var_3358
					if ( var_3360 == var_3356 ) {
						break
					}
					else {
						var_3359++
					}
				loop
				if ( var_67(196) != 0 ) {
					var_3359 = limittimeinitem(var_3359)
				}
				vsplay_seek var_67(17), var_3359
				setmtiautoscrollrequest
				setideautoscrollrequest
			}
			if ( prm_1342 == 199 ) {
				var_3361(0) = tltx("小節番号", "Measure number")
				var_3362(0) = ""
				var_3363(0) = 0
				var_3364(0) = double(var_3248)
				var_3365(0) = ""
				ideprmsetting tltx("指定小節へ移動", "Seek measure"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3248 = int(var_3364(0))
					if ( var_67(188) == 0 ) {
						var_3338 = 0.0
						var_3354 = 0.0
					}
					else {
						var_3338 = vslib_getprjitemoffset(var_67(17), var_3307)
						var_3354 = vslib_getprjitemmeasoffset(var_67(17), var_3307) * var_3313
					}
					var_3356 = var_3248 - 1
					var_3355 = timemeastosec(var_3356, 0, 0)
					var_3355 += (var_3338 + var_3354) / var_3313
					var_3359 = int(var_3355 * 1000)
					repeat 2
						timesectomeas double(var_3359) * 0.001, var_3360, var_3357, var_3358
						if ( var_3360 == var_3356 ) {
							break
						}
						else {
							var_3359++
						}
					loop
					if ( var_67(196) != 0 ) {
						var_3359 = limittimeinitem(var_3359)
					}
					vsplay_seek var_67(17), var_3359
					setmtiautoscrollrequest
					setideautoscrollrequest
				}
			}
			if ( prm_1342 == 211 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					var_3366 = GetICP_pit_org(var_3310, cnt)
					SetICP_pit_edit var_3310, cnt, var_3366
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 212 & var_3323 > 0 ) {
				var_3361(0) = tltx("ピッチシフト量", "value")
				var_3362(0) = tltx("セント", "cent")
				var_3363(0) = 0
				var_3364(0) = double(var_3249)
				var_3365(0) = ""
				ideprmsetting tltx("セント指定ピッチシフト", "pitch shift(cent)"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3249 = int(var_3364(0))
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							var_3366 = GetICP_pit_edit(var_3310, cnt)
							SetICP_pit_edit var_3310, cnt, limit(var_3366 + var_3249, 0, 12800)
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 213 & var_3323 > 0 ) {
				var_3367 = var_3315
				if ( var_3315 == 0 ) {
					dimtype var_3368, 3, 12, 0, 0, 0
					var_3367 = analyzekey(var_3368, 1)
				}
				var_3361(0) = tltx("スケール", "Scale"), tltx("ピッチシフト量", "value")
				var_3362(0) = "", tltx("度", "degree")
				var_3363(0) = 3, 0
				var_3364(0) = double(var_3367), double(var_3250)
				var_3365(0) = "-\nC/Am\nDb/Bbm\nD/Bm\nEb/Cm\nE/C#m\nF/Dm\nGb/Ebm\nG/Em\nAb/Fm\nA/F#m\nBb/Gm\nB/G#m", ""
				ideprmsetting tltx("度数指定ピッチシフト", "pitch shift(degree)"), 2, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3367 = limit(int(var_3364(0)), 0, 12)
					var_3250 = limit(int(var_3364(1)), -15, 15)
					var_3369 = 0
					if ( var_3250 >= 1 ) {
						var_3369 = var_3250 - 1
					}
					if ( var_3250 <= (-1) ) {
						var_3369 = var_3250 + 1
					}
					dim var_3370, 8
					var_3371 = 0
					repeat 12
						if ( getscaleflg(60 + cnt, var_3367) == 1 ) {
							var_3370(var_3371) = cnvnn2pitch(60 + cnt, var_3314, var_3367, var_3316, var_3307)
							var_3371++
						}
					loop
					var_3370(7) = var_3370(0) + 1200
					dim var_3372, 8
					repeat 7
						var_3371 = (cnt + var_3369 + 70) \ 7
						var_3373 = (cnt + var_3369 + 70) / 7 - 10
						var_3372(cnt) = var_3370(var_3371) + 1200 * var_3373
					loop
					var_3372(7) = var_3372(0) + 1200
					dim var_3374, 1200
					repeat 7
						var_3375 = var_3370(cnt)
						var_3376 = var_3370(cnt + 1) - var_3375
						var_3377 = var_3372(cnt)
						var_3378 = var_3372(cnt + 1) - var_3377
						repeat var_3376
							var_3379 = var_3375 + cnt
							var_3380 = double(cnt) / var_3376
							var_3381 = var_3377 + int(var_3380 * var_3378)
							var_3374(var_3379 \ 1200) = var_3381 - var_3379
						loop
					loop
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							var_3366 = GetICP_pit_edit(var_3310, cnt)
							var_3382 = var_3374(var_3366 \ 1200)
							SetICP_pit_edit var_3310, cnt, limit(var_3366 + var_3382, 0, 12800)
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 214 & var_3323 > 0 ) {
				var_3361(0) = tltx("ピッチ", "value")
				var_3362(0) = ""
				var_3363(0) = 4
				var_3364(0) = double(var_3251)
				var_3365(0) = ""
				ideprmsettingopt var_3314, var_3315, var_3316, var_3307
				ideprmsetting tltx("ピッチ設定", "Set pitch"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3251 = limit(int(var_3364(0)), 0, 12800)
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							SetICP_pit_edit var_3310, cnt, var_3251
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 216 & var_3323 > 0 ) {
				var_3383 = 0
				var_3384 = 0
				repeat var_3323, var_3321
					if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
						var_3383 += GetICP_pit_edit(var_3310, cnt)
						var_3384++
					}
				loop
				if ( var_3384 > 0 ) {
					var_3385 = var_3383 / var_3384
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							SetICP_pit_edit var_3310, cnt, var_3385
						}
					loop
				}
				var_3330 = 1
			}
			if ( prm_1342 == 215 & var_3323 > 0 ) {
				var_3361(0) = tltx("平滑化モード", "Mode"), tltx("強さ(1〜20)", "Strength(1-20)")
				var_3362(0) = "", ""
				var_3363(0) = 3, 0
				var_3364(0) = double(var_3252), double(var_3253)
				var_3365(0) = tltx("追従モード\nぶれ補正モード", "Mode A\nMode B"), ""
				ideprmsetting tltx("平滑化", "Smoothing"), 2, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3252 = int(var_3364(0))
					var_3253 = limit(int(var_3364(1)), 1, 20)
					if ( var_3252 == 0 ) {
						var_3386 = 1.0 - powf(0.7, double(1.0 + 0.6 * var_3253))
						var_3387 = 1.0 / (1.0 - var_3386)
						dim var_3388, var_3323
						var_3389 = 1
						repeat var_3323, var_3321
							var_3390 = cnt
							if ( GetICP_fix_edit(var_3310, var_3390) == 0 ) {
								var_3391 = GetICP_pit_edit(var_3310, var_3390)
								if ( var_3389 == 1 ) {
									var_3392 = var_3387 * var_3391
									var_3389 = 0
								}
								var_3392 = var_3386 * var_3392 + var_3391
								var_3388(var_3390 - var_3321) = int(var_3392 / var_3387 + 0.5)
							}
							else {
								var_3389 = 1
							}
						loop
					}
					else {
						dim var_3388, var_3323
						repeat var_3323, var_3321
							var_3390 = cnt
							if ( GetICP_fix_edit(var_3310, var_3390) == 0 ) {
								var_3393 = var_3390
								repeat var_3253 * 2
									if ( var_3393 == 0 ) {
										break
									}
									if ( GetICP_fix_edit(var_3310, var_3393 - 1) == 1 ) {
										break
									}
									var_3393--
								loop
								var_3394 = var_3390
								repeat var_3253 * 2
									if ( var_3394 == var_3311 - 1 ) {
										break
									}
									if ( GetICP_fix_edit(var_3310, var_3394 + 1) == 1 ) {
										break
									}
									var_3394++
								loop
								var_3395 = 0.0
								var_3396 = 0.0
								repeat var_3394 - var_3393 + 1, var_3393
									var_3380 = 1.0 - double(abs(cnt - var_3390)) / (var_3253 * 2)
									var_3395 += var_3380 * GetICP_pit_edit(var_3310, cnt)
									var_3396 += var_3380
								loop
								if ( var_3396 > 0.0 ) {
									var_3388(var_3390 - var_3321) = int(var_3395 / var_3396 + 0.5)
								}
								else {
									var_3388(var_3390 - var_3321) = GetICP_pit_edit(var_3310, cnt)
								}
							}
						loop
					}
					repeat var_3323, var_3321
						var_3390 = cnt
						if ( GetICP_fix_edit(var_3310, var_3390) == 0 ) {
							SetICP_pit_edit var_3310, cnt, var_3388(var_3390 - var_3321)
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 217 & var_3323 > 0 ) {
				var_3361(0) = tltx("振幅", "Amplitude"), tltx("周期", "Period"), tltx("アタックタイム", "Attack time"), tltx("リリースタイム", "Release time"), tltx("位相", "Phase")
				var_3362(0) = tltx("セント", "cent"), "ms", "ms", "ms", tltx("度", "degree")
				var_3363(0) = 0, 0, 0, 0, 0
				var_3364(0) = double(var_3256), double(var_3257), double(var_3258), double(var_3259), double(var_3260)
				var_3365(0) = "", "", "", "", ""
				ideprmsetting tltx("ビブラート付加", "Add vibrato"), 5, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3256 = int(var_3364(0))
					var_3257 = limit(int(var_3364(1)), 10, 10000)
					var_3258 = limit(int(var_3364(2)), 0, 10000)
					var_3259 = limit(int(var_3364(3)), 0, 10000)
					var_3260 = int(var_3364(4))
					var_3336 = vslib_getstretchedtsec(var_3310, double(var_3321) / var_3312, var_3326)
					var_3337 = vslib_getstretchedtsec(var_3310, double(var_3322) / var_3312, var_3326)
					var_3397 = var_3337 - var_3336
					repeat var_3323, var_3321
						var_3390 = cnt
						if ( GetICP_fix_edit(var_3310, var_3390) == 0 ) {
							var_3345 = vslib_getstretchedtsec(var_3310, double(var_3390) / var_3312, var_3326)
							var_3346 = var_3345 - var_3336
							var_3380 = 1.0
							if ( var_3258 != 0 ) {
								if ( var_3346 < 0.001 * var_3258 ) {
									var_3380 = var_3346 / (0.001 * var_3258)
								}
							}
							if ( var_3259 != 0 ) {
								if ( var_3397 - var_3346 < 0.001 * var_3259 ) {
									var_3398 = (var_3397 - var_3346) / (0.001 * var_3259)
									if ( var_3398 < var_3380 ) {
										var_3380 = var_3398
									}
								}
							}
							var_3399 = 2.0 * 3.14159265358979 * (var_3346 / (0.001 * var_3257) + double(var_3260) / 360.0)
							var_3400 = var_3380 * var_3256 * sin(var_3399)
							if ( var_3400 >= 0.0 ) {
								var_3401 = int(var_3400 + 0.5)
							}
							else {
								var_3401 = int(var_3400 - 0.5)
							}
							var_3366 = GetICP_pit_edit(var_3310, cnt)
							SetICP_pit_edit var_3310, cnt, limit(var_3366 + var_3401, 0, 12800)
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 218 & var_3323 > 0 ) {
				var_3402 = var_3315
				if ( var_3315 == 0 ) {
					dimtype var_3368, 3, 12, 0, 0, 0
					var_3402 = analyzekey(var_3368, 1)
				}
				var_3361(0) = tltx("スケール", "Scale"), tltx("クオンタイズ単位", "Quantize unit")
				var_3362(0) = "", ""
				var_3363(0) = 3, 3
				var_3364(0) = double(var_3402), double(var_3254)
				var_3365(0) = "-\nC/Am\nDb/Bbm\nD/Bm\nEb/Cm\nE/C#m\nF/Dm\nGb/Ebm\nG/Em\nAb/Fm\nA/F#m\nBb/Gm\nB/G#m", tltx("半音\nスケール", "Semitone\nScale")
				ideprmsetting tltx("クオンタイズ", "Quantize"), 2, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3402 = limit(int(var_3364(0)), 0, 12)
					var_3254 = int(var_3364(1))
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							var_3403 = GetICP_pit_edit(var_3310, cnt)
							var_3404 = var_3403
							if ( var_3254 == 0 ) {
								var_3404 = snappitch(var_3403, var_3314, var_3315, var_3316, var_3307)
							}
							else {
								var_3405 = cnvpitch2nn(var_3403, var_3314, var_3402, var_3316, var_3307)
								var_3405--
								var_3406 = 1200
								repeat 3
									if ( getscaleflg(var_3405, var_3402) ) {
										var_3366 = cnvnn2pitch(var_3405, var_3314, var_3402, var_3316, var_3307)
										if ( abs(var_3366 - var_3403) < var_3406 ) {
											var_3404 = var_3366
											var_3406 = abs(var_3366 - var_3403)
										}
									}
									var_3405++
								loop
							}
							SetICP_pit_edit var_3310, cnt, var_3404
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 219 & var_3323 > 0 ) {
				var_3402 = var_3315
				if ( var_3315 == 0 ) {
					dimtype var_3368, 3, 12, 0, 0, 0
					var_3402 = analyzekey(var_3368, 1)
				}
				var_3361(0) = tltx("スケール", "Scale"), tltx("クオンタイズ単位", "Quantize unit")
				var_3362(0) = "", ""
				var_3363(0) = 3, 3
				var_3364(0) = double(var_3402), double(var_3255)
				var_3365(0) = "-\nC/Am\nDb/Bbm\nD/Bm\nEb/Cm\nE/C#m\nF/Dm\nGb/Ebm\nG/Em\nAb/Fm\nA/F#m\nBb/Gm\nB/G#m", tltx("半音\nスケール", "Semitone\nScale")
				ideprmsetting tltx("平均値をクオンタイズ", "Quantize Average"), 2, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3402 = limit(int(var_3364(0)), 0, 12)
					var_3255 = int(var_3364(1))
					var_3383 = 0
					var_3384 = 0
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							var_3383 += GetICP_pit_edit(var_3310, cnt)
							var_3384++
						}
					loop
					if ( var_3384 > 0 ) {
						var_3403 = var_3383 / var_3384
						if ( var_3255 == 0 ) {
							var_3404 = snappitch(var_3403, var_3314, var_3315, var_3316, var_3307)
						}
						else {
							var_3405 = cnvpitch2nn(var_3403, var_3314, var_3402, var_3316, var_3307)
							var_3405--
							var_3406 = 1200
							repeat 3
								if ( getscaleflg(var_3405, var_3402) ) {
									var_3366 = cnvnn2pitch(var_3405, var_3314, var_3402, var_3316, var_3307)
									if ( abs(var_3366 - var_3403) < var_3406 ) {
										var_3404 = var_3366
										var_3406 = abs(var_3366 - var_3403)
									}
								}
								var_3405++
							loop
						}
						var_3407 = var_3404 - var_3403
						repeat var_3323, var_3321
							if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
								var_3366 = GetICP_pit_edit(var_3310, cnt)
								SetICP_pit_edit var_3310, cnt, var_3366 + var_3407
							}
						loop
					}
					var_3330 = 1
				}
			}
			if ( prm_1342 == 220 & var_3323 > 0 ) {
				var_3402 = var_3315
				if ( var_3315 == 0 ) {
					dimtype var_3368, 3, 12, 0, 0, 0
					var_3402 = analyzekey(var_3368, 1)
				}
				var_3361(0) = tltx("スケール", "Scale")
				var_3362(0) = ""
				var_3363(0) = 3
				var_3364(0) = double(var_3402)
				var_3365(0) = "-\nC/Am\nDb/Bbm\nD/Bm\nEb/Cm\nE/C#m\nF/Dm\nGb/Ebm\nG/Em\nAb/Fm\nA/F#m\nBb/Gm\nB/G#m"
				ideprmsetting tltx("自動補正", "Auto correction"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3402 = limit(int(var_3364(0)), 0, 12)
					var_3408 = 30
					dimtype var_3409, 3, var_3323, 0, 0, 0
					repeat var_3323, var_3321
						var_3390 = cnt
						var_3393 = limit(var_3390 - var_3408, 0, var_3311 - 1)
						var_3394 = limit(var_3390 + var_3408, 0, var_3311 - 1)
						var_3395 = 0.0
						var_3396 = 0.0
						repeat var_3394 - var_3393 + 1, var_3393
							if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
								var_3380 = 1.0 - double(abs(cnt - var_3390)) / var_3408
								var_3395 += var_3380 * GetICP_pit_edit(var_3310, cnt)
								var_3396 += var_3380
							}
						loop
						if ( var_3396 > 0.0 ) {
							var_3410 = var_3395 / var_3396
							var_3411 = int(var_3410 + 0.5)
							var_3412 = snappitch(var_3411, var_3314, var_3402, var_3316, var_3307)
							var_3409(var_3390 - var_3321) = double(var_3412) - var_3410
						}
						if ( cnt \ 2000 == 0 ) {
							redraw 2
							var_3413 = (cnt - var_3321) * 60 / var_3323
							drawprogress var_3413, tltx("処理中", "Processing...") + strf(" %d%%", var_3413)
							redraw 1
							waittaskdispatch
						}
					loop
					var_3408 = 20
					repeat var_3323
						var_3414 = cnt
						var_3395 = 0.0
						var_3396 = 0.0
						var_3415 = limit(var_3414 - var_3408, 0, var_3323 - 1)
						var_3416 = limit(var_3414 + var_3408, 0, var_3323 - 1)
						repeat var_3416 - var_3415 + 1, var_3415
							if ( GetICP_fix_edit(var_3310, var_3321 + cnt) == 0 ) {
								var_3380 = 1.0 - double(abs(cnt - var_3414)) / var_3408
								var_3395 += var_3380 * var_3409(cnt)
								var_3396 += var_3380
							}
						loop
						if ( var_3396 > 0.0 ) {
							if ( GetICP_fix_edit(var_3310, var_3321 + var_3414) == 0 ) {
								var_3366 = GetICP_pit_edit(var_3310, var_3321 + var_3414)
								var_3400 = var_3395 / var_3396
								if ( var_3400 >= 0.0 ) {
									var_3401 = int(var_3400 + 0.5)
								}
								else {
									var_3401 = int(var_3400 - 0.5)
								}
								SetICP_pit_edit var_3310, var_3321 + var_3414, limit(var_3366 + var_3401, 0, 12800)
							}
						}
						if ( cnt \ 2000 == 0 ) {
							redraw 2
							var_3413 = cnt * 40 / var_3323 + 60
							drawprogress var_3413, tltx("処理中", "Processing...") + strf(" %d%%", var_3413)
							redraw 1
							waittaskdispatch
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 221 & var_3323 > 0 ) {
				var_3402 = var_3315
				if ( var_3315 == 0 ) {
					dimtype var_3368, 3, 12, 0, 0, 0
					var_3402 = analyzekey(var_3368, 1)
				}
				var_3361(0) = tltx("スケール", "Scale"), tltx("強さ(1〜10)", "Strength(1-10)")
				var_3362(0) = "", ""
				var_3363(0) = 3, 0
				var_3364(0) = double(var_3402), double(var_3261)
				var_3365(0) = "-\nC/Am\nDb/Bbm\nD/Bm\nEb/Cm\nE/C#m\nF/Dm\nGb/Ebm\nG/Em\nAb/Fm\nA/F#m\nBb/Gm\nB/G#m", ""
				ideprmsetting tltx("ケロケロボイス", "Kerokero voice"), 2, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3402 = limit(int(var_3364(0)), 0, 12)
					var_3261 = limit(int(var_3364(1)), 1, 10)
					var_3253 = 10
					var_3386 = 1.0 - powf(0.7, double(1.0 + 0.6 * var_3253))
					var_3387 = 1.0 / (1.0 - var_3386)
					dim var_3388, var_3323
					var_3389 = 1
					repeat var_3323, var_3321
						var_3390 = cnt
						if ( GetICP_fix_edit(var_3310, var_3390) == 0 ) {
							var_3391 = GetICP_pit_edit(var_3310, var_3390)
							if ( var_3389 == 1 ) {
								var_3392 = var_3387 * var_3391
								var_3389 = 0
							}
							if ( abs(int(var_3392 / var_3387 + 0.5) - var_3391) > 400 ) {
								var_3392 = var_3387 * var_3391
								var_3389 = 0
							}
							var_3392 = var_3386 * var_3392 + var_3391
							var_3388(var_3390 - var_3321) = int(var_3392 / var_3387 + 0.5)
						}
						else {
						}
					loop
					repeat var_3323, var_3321
						var_3390 = cnt
						if ( GetICP_fix_edit(var_3310, var_3390) == 0 ) {
							SetICP_pit_edit var_3310, cnt, var_3388(var_3390 - var_3321)
						}
					loop
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							var_3403 = GetICP_pit_edit(var_3310, cnt)
							var_3404 = var_3403
							var_3406 = 1200
							var_3405 = cnvpitch2nn(var_3403, var_3314, var_3402, var_3316, var_3307)
							var_3405--
							repeat 3
								if ( getscaleflg(var_3405, var_3402) ) {
									var_3366 = cnvnn2pitch(var_3405, var_3314, var_3402, var_3316, var_3307)
									if ( abs(var_3366 - var_3403) < var_3406 ) {
										var_3404 = var_3366
										var_3406 = abs(var_3366 - var_3403)
									}
								}
								var_3405++
							loop
							SetICP_pit_edit var_3310, cnt, var_3404
						}
						if ( cnt \ 2000 == 0 ) {
							redraw 2
							var_3413 = (cnt - var_3321) * 40 / var_3323
							drawprogress var_3413, tltx("処理中", "Processing...") + strf(" %d%%", var_3413)
							redraw 1
							waittaskdispatch
						}
					loop
					var_3417 = var_3312 * 300 / 1000
					var_3418 = var_3321
					repeat
						if ( var_3418 > var_3321 + var_3323 - 1 - var_3417 ) {
							break
						}
						var_3419 = GetICP_fix_edit(var_3310, var_3418)
						var_3420 = GetICP_pit_edit(var_3310, var_3418)
						var_3421 = GetICP_fix_edit(var_3310, var_3418 + 1)
						var_3422 = GetICP_pit_edit(var_3310, var_3418 + 1)
						if ( (var_3419 | var_3421) == 0 & var_3420 != var_3422 ) {
							var_3423 = 0
							repeat var_3417
								var_3424 = GetICP_fix_edit(var_3310, var_3418 + 1 + cnt)
								var_3425 = GetICP_pit_edit(var_3310, var_3418 + 1 + cnt)
								if ( var_3424 == 1 | var_3425 != var_3422 ) {
									var_3423 = 1
									break
								}
							loop
							if ( var_3423 == 0 ) {
								if ( var_3261 - 1 > rnd(10) ) {
									var_3426 = rnd(3)
									if ( var_3261 - 1 < rnd(10) ) {
										var_3426 = 0
									}
									var_3351 = var_3426
									if ( 0 ) {
										var_3352++
									}
									if ( var_3351 == 0 | var_3352 ) {
										var_3352 = 0
										var_3427 = 0
										var_3428 = var_3312 * 150 / 1000
										var_3429 = -125
										goto *label_823
										var_3352++
									}
									if ( var_3351 == 1 | var_3352 ) {
										var_3352 = 0
										var_3427 = 0
										var_3428 = var_3312 * 75 / 1000
										var_3429 = 125
										goto *label_823
										var_3352++
									}
									if ( var_3351 == 2 | var_3352 ) {
										var_3352 = 0
										var_3427 = var_3312 * 75 / 1000
										var_3428 = var_3312 * 150 / 1000
										var_3429 = -125
										goto *label_823
									}
*label_823
									if ( var_3425 < var_3422 ) {
										var_3429 = -var_3429
									}
									repeat var_3428 - var_3427 + 1, var_3427
										var_3425 = GetICP_pit_edit(var_3310, var_3418 + 1 + cnt)
										SetICP_pit_edit var_3310, var_3418 + 1 + cnt, var_3425 + var_3429
									loop
								}
							}
							var_3418 += var_3417
						}
						else {
							var_3418++
						}
						if ( cnt \ 2000 == 0 ) {
							redraw 2
							var_3413 = (var_3418 - var_3321) * 20 / var_3323 + 40
							drawprogress var_3413, tltx("処理中", "Processing...") + strf(" %d%%", var_3413)
							redraw 1
							waittaskdispatch
						}
					loop
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							var_3403 = GetICP_pit_edit(var_3310, cnt)
							var_3404 = var_3403
							var_3406 = 1200
							var_3405 = cnvpitch2nn(var_3403, var_3314, var_3402, var_3316, var_3307)
							var_3405--
							repeat 3
								if ( getscaleflg(var_3405, var_3402) ) {
									var_3366 = cnvnn2pitch(var_3405, var_3314, var_3402, var_3316, var_3307)
									if ( abs(var_3366 - var_3403) < var_3406 ) {
										var_3404 = var_3366
										var_3406 = abs(var_3366 - var_3403)
									}
								}
								var_3405++
							loop
							SetICP_pit_edit var_3310, cnt, var_3404
						}
						if ( cnt \ 2000 == 0 ) {
							redraw 2
							var_3413 = (cnt - var_3321) * 40 / var_3323 + 60
							drawprogress var_3413, tltx("処理中", "Processing...") + strf(" %d%%", var_3413)
							redraw 1
							waittaskdispatch
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 231 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
						SetICP_frm var_3310, cnt, 0
					}
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 232 & var_3323 > 0 ) {
				var_3361(0) = tltx("フォルマントシフト量", "value")
				var_3362(0) = tltx("セント", "cent")
				var_3363(0) = 0
				var_3364(0) = double(var_3262)
				var_3365(0) = ""
				ideprmsetting tltx("フォルマントシフト", "Change formant"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3262 = int(var_3364(0))
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							var_3430 = GetICP_frm(var_3310, cnt)
							SetICP_frm var_3310, cnt, limit(var_3430 + var_3262, -2400, 2400)
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 233 & var_3323 > 0 ) {
				var_3361(0) = tltx("フォルマント", "value")
				var_3362(0) = tltx("セント", "cent")
				var_3363(0) = 0
				var_3364(0) = double(var_3263)
				var_3365(0) = ""
				ideprmsetting tltx("フォルマント設定", "Set formant"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3263 = int(var_3364(0))
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							SetICP_frm var_3310, cnt, limit(var_3263, -2400, 2400)
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 234 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					SetICP_vol var_3310, cnt, 1.0
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 235 & var_3323 > 0 ) {
				var_3361(0) = tltx("ボリューム", "value")
				var_3362(0) = "dB"
				var_3363(0) = 1
				var_3364(0) = var_3264
				var_3365(0) = ""
				ideprmsetting tltx("ボリューム変更", "Change Volume"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3264 = var_3364(0)
					repeat var_3323, var_3321
						var_3431 = vslib_geticp_vol(var_3310, cnt)
						SetICP_vol var_3310, cnt, limitf(var_3431 * var_3264, 0.0, 2.0)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 236 & var_3323 > 0 ) {
				var_3361(0) = tltx("ボリューム", "value")
				var_3362(0) = "dB"
				var_3363(0) = 1
				var_3364(0) = var_3265
				var_3365(0) = ""
				ideprmsetting tltx("ボリューム設定", "Set Volume"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3265 = var_3364(0)
					repeat var_3323, var_3321
						SetICP_vol var_3310, cnt, limitf(var_3265, 0.0, 2.0)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 237 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					SetICP_vol var_3310, cnt, 0.0
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 238 & var_3323 > 0 ) {
				var_3336 = vslib_getstretchedtsec(var_3310, double(var_3321) / var_3312, var_3326)
				var_3337 = vslib_getstretchedtsec(var_3310, double(var_3322) / var_3312, var_3326)
				var_3397 = var_3337 - var_3336
				repeat var_3323, var_3321
					var_3390 = cnt
					var_3345 = vslib_getstretchedtsec(var_3310, double(var_3390) / var_3312, var_3326)
					var_3346 = var_3345 - var_3336
					if ( var_67(194) == 0 ) {
						var_3431 = var_3346 / var_3397
					}
					else {
						var_3432 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
						var_3431 = powf(10.0, (1.0 - var_3346 / var_3397) * var_3432 / 20.0)
					}
					SetICP_vol var_3310, cnt, limitf(var_3431, 0.0, 1.0)
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 239 & var_3323 > 0 ) {
				var_3336 = vslib_getstretchedtsec(var_3310, double(var_3321) / var_3312, var_3326)
				var_3337 = vslib_getstretchedtsec(var_3310, double(var_3322) / var_3312, var_3326)
				var_3397 = var_3337 - var_3336
				repeat var_3323, var_3321
					var_3390 = cnt
					var_3345 = vslib_getstretchedtsec(var_3310, double(var_3390) / var_3312, var_3326)
					var_3346 = var_3345 - var_3336
					if ( var_67(194) == 0 ) {
						var_3431 = 1.0 - var_3346 / var_3397
					}
					else {
						var_3432 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
						var_3431 = powf(10.0, var_3346 / var_3397 * var_3432 / 20.0)
					}
					SetICP_vol var_3310, cnt, limitf(var_3431, 0.0, 1.0)
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 240 & var_3323 > 0 ) {
				var_3361(0) = tltx("フェードイン", "Fade-in"), tltx("フェードアウト", "Fade-out")
				var_3362(0) = "ms", "ms"
				var_3363(0) = 0, 0
				var_3364(0) = double(var_3266), double(var_3267)
				var_3365(0) = "", ""
				ideprmsetting tltx("フェードイン→フェードアウト", "Fade-in/Fade-out"), 2, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3266 = limit(int(var_3364(0)), 0, 10000)
					var_3267 = limit(int(var_3364(1)), 0, 10000)
					var_3336 = vslib_getstretchedtsec(var_3310, double(var_3321) / var_3312, var_3326)
					var_3337 = vslib_getstretchedtsec(var_3310, double(var_3322) / var_3312, var_3326)
					var_3397 = var_3337 - var_3336
					repeat var_3323, var_3321
						var_3390 = cnt
						var_3345 = vslib_getstretchedtsec(var_3310, double(var_3390) / var_3312, var_3326)
						var_3346 = var_3345 - var_3336
						var_3431 = 1.0
						if ( var_3266 != 0 ) {
							if ( var_3346 < 0.001 * var_3266 ) {
								var_3431 = var_3346 / (0.001 * var_3266)
							}
						}
						if ( var_3267 != 0 ) {
							if ( var_3397 - var_3346 < 0.001 * var_3267 ) {
								var_3433 = (var_3397 - var_3346) / (0.001 * var_3267)
								if ( var_3433 < var_3431 ) {
									var_3431 = var_3433
								}
							}
						}
						if ( var_67(194) == 0 ) {
						}
						else {
							var_3432 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
							var_3431 = powf(10.0, (1.0 - var_3431) * var_3432 / 20.0)
						}
						SetICP_vol var_3310, cnt, limitf(var_3431, 0.0, 1.0)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 241 & var_3323 > 0 ) {
				var_3361(0) = tltx("フェードアウト", "Fade-out"), tltx("フェードイン", "Fade-in")
				var_3362(0) = "ms", "ms"
				var_3363(0) = 0, 0
				var_3364(0) = double(var_3268), double(var_3269)
				var_3365(0) = "", ""
				ideprmsetting tltx("フェードアウト→フェードイン", "Fade-out/Fade-in"), 2, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3268 = limit(int(var_3364(0)), 0, 10000)
					var_3269 = limit(int(var_3364(1)), 0, 10000)
					var_3336 = vslib_getstretchedtsec(var_3310, double(var_3321) / var_3312, var_3326)
					var_3337 = vslib_getstretchedtsec(var_3310, double(var_3322) / var_3312, var_3326)
					var_3397 = var_3337 - var_3336
					repeat var_3323, var_3321
						var_3390 = cnt
						var_3345 = vslib_getstretchedtsec(var_3310, double(var_3390) / var_3312, var_3326)
						var_3346 = var_3345 - var_3336
						var_3431 = 0.0
						if ( var_3268 != 0 ) {
							if ( var_3346 < 0.001 * var_3268 ) {
								var_3431 = 1.0 - var_3346 / (0.001 * var_3268)
							}
						}
						if ( var_3269 != 0 ) {
							if ( var_3397 - var_3346 < 0.001 * var_3269 ) {
								var_3433 = 1.0 - (var_3397 - var_3346) / (0.001 * var_3269)
								if ( var_3433 > var_3431 ) {
									var_3431 = var_3433
								}
							}
						}
						if ( var_67(194) == 0 ) {
						}
						else {
							var_3432 = 20.0 * logf(1.0 / 32768.0) / logf(10.0)
							var_3431 = powf(10.0, (1.0 - var_3431) * var_3432 / 20.0)
						}
						SetICP_vol var_3310, cnt, limitf(var_3431, 0.0, 1.0)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 242 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					var_3434 = vslib_geticp_dyn_edit(var_3310, cnt)
					var_3431 = vslib_geticp_vol(var_3310, cnt)
					SetICP_dyn_edit var_3310, cnt, limitf(var_3434 * var_3431, 0.0, 1.0)
					SetICP_vol var_3310, cnt, 1.0
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 243 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					SetICP_pan var_3310, cnt, 0.0
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 244 & var_3323 > 0 ) {
				var_3361(0) = tltx("パン変更量", "value")
				var_3362(0) = ""
				var_3363(0) = 2
				var_3364(0) = var_3270
				var_3365(0) = ""
				ideprmsetting tltx("パン変更", "Change Pan"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3270 = var_3364(0)
					repeat var_3323, var_3321
						var_3435 = vslib_geticp_pan(var_3310, cnt)
						SetICP_pan var_3310, cnt, limitf(var_3435 + var_3270, -1.0, 1.0)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 245 & var_3323 > 0 ) {
				var_3361(0) = tltx("パン", "value")
				var_3362(0) = ""
				var_3363(0) = 2
				var_3364(0) = var_3271
				var_3365(0) = ""
				ideprmsetting tltx("パン設定", "Set Pan"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3271 = var_3364(0)
					repeat var_3323, var_3321
						SetICP_pan var_3310, cnt, limitf(var_3271, -1.0, 1.0)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 246 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					var_3434 = vslib_geticp_dyn_org(var_3310, cnt)
					SetICP_dyn_edit var_3310, cnt, var_3434
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 247 & var_3323 > 0 ) {
				var_3436 = 0.0
				repeat var_3323, var_3321
					var_3434 = vslib_geticp_dyn_edit(var_3310, cnt)
					if ( var_3434 > var_3436 ) {
						var_3436 = var_3434
					}
				loop
				if ( var_3436 > 0.0 ) {
					var_3437 = 1.0 / var_3436
					repeat var_3323, var_3321
						var_3434 = vslib_geticp_dyn_edit(var_3310, cnt)
						SetICP_dyn_edit var_3310, cnt, var_3434 * var_3437
					loop
				}
				var_3330 = 1
			}
			if ( prm_1342 == 248 & var_3323 > 0 ) {
				var_3361(0) = tltx("ダイナミクス変更量", "value")
				var_3362(0) = "dB"
				var_3363(0) = 1
				var_3364(0) = var_3272
				var_3365(0) = ""
				ideprmsetting tltx("ダイナミクス変更", "Change Dynamics"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3272 = var_3364(0)
					repeat var_3323, var_3321
						var_3434 = vslib_geticp_dyn_edit(var_3310, cnt)
						SetICP_dyn_edit var_3310, cnt, limitf(var_3434 * var_3272, 0.0, 1.0)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 249 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					SetICP_dyn_edit var_3310, cnt, 0.0
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 250 & var_3323 > 0 ) {
				var_3361(0) = tltx("振幅", "Amplitude"), tltx("周期", "Period"), tltx("アタックタイム", "Attack time"), tltx("リリースタイム", "Release time"), tltx("位相", "Phase")
				var_3362(0) = "dB", "ms", "ms", "ms", tltx("度", "degree")
				var_3363(0) = 1, 0, 0, 0, 0
				var_3364(0) = var_3273, double(var_3274), double(var_3275), double(var_3276), double(var_3277)
				var_3365(0) = "", "", "", "", ""
				ideprmsetting tltx("ビブラート付加", "Add vibrato"), 5, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3273 = var_3364(0)
					var_3274 = limit(int(var_3364(1)), 10, 10000)
					var_3275 = limit(int(var_3364(2)), 0, 10000)
					var_3276 = limit(int(var_3364(3)), 0, 10000)
					var_3277 = int(var_3364(4))
					var_3336 = vslib_getstretchedtsec(var_3310, double(var_3321) / var_3312, var_3326)
					var_3337 = vslib_getstretchedtsec(var_3310, double(var_3322) / var_3312, var_3326)
					var_3397 = var_3337 - var_3336
					var_3438 = 20.0 * logf(var_3273) / logf(10.0)
					repeat var_3323, var_3321
						var_3390 = cnt
						if ( GetICP_fix_edit(var_3310, var_3390) == 0 ) {
							var_3345 = vslib_getstretchedtsec(var_3310, double(var_3390) / var_3312, var_3326)
							var_3346 = var_3345 - var_3336
							var_3380 = 1.0
							if ( var_3275 != 0 ) {
								if ( var_3346 < 0.001 * var_3275 ) {
									var_3380 = var_3346 / (0.001 * var_3275)
								}
							}
							if ( var_3276 != 0 ) {
								if ( var_3397 - var_3346 < 0.001 * var_3276 ) {
									var_3398 = (var_3397 - var_3346) / (0.001 * var_3276)
									if ( var_3398 < var_3380 ) {
										var_3380 = var_3398
									}
								}
							}
							var_3399 = 2.0 * 3.14159265358979 * (var_3346 / (0.001 * var_3274) + double(var_3277) / 360.0)
							var_3439 = var_3380 * var_3438 * sin(var_3399)
							var_3437 = powf(10.0, var_3439 / 20.0)
							var_3434 = vslib_geticp_dyn_edit(var_3310, cnt)
							SetICP_dyn_edit var_3310, cnt, limitf(var_3434 * var_3437, 0.0, 1.0)
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 251 & var_3323 > 0 ) {
				var_3361(0) = tltx("スレッショルド", "Threshold"), tltx("レシオ", "Ratio"), tltx("アタックタイム", "Attack time"), tltx("リリースタイム", "Release time"), tltx("ゲイン", "Gain")
				var_3362(0) = "dB", "", "ms", "ms", "dB"
				var_3363(0) = 1, 2, 0, 0, 1
				var_3364(0) = var_3279, var_3280, double(var_3281), double(var_3282), var_3283
				var_3365(0) = "", "", "", "", ""
				ideprmsetting tltx("コンプレッサー", "Compressor"), 5, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3279 = limitf(var_3364(0), 0.0, 1.0)
					var_3280 = limitf(var_3364(1), 1.0, 100.0)
					var_3281 = limit(int(var_3364(2)), 0, 5000)
					var_3282 = limit(int(var_3364(3)), 0, 5000)
					var_3283 = limitf(var_3364(4), 0.0, 10000.0)
					var_3440 = var_3279
					var_3441 = limitf(20.0 * logf(var_3440) / logf(10.0), -360.0, 0.0)
					var_3442 = 0.001 * var_3281
					var_3443 = 0.001 * var_3282
					var_3444 = var_3283
					var_3445 = 1.0
					var_3446 = 1.0
					repeat var_3323, var_3321
						var_3390 = cnt
						var_3447 = vslib_getstretchedtsec(var_3310, double(var_3390 - 1.0) / var_3312, var_3326)
						var_3345 = vslib_getstretchedtsec(var_3310, double(var_3390) / var_3312, var_3326)
						var_3448 = var_3345 - var_3447
						var_3449 = vslib_geticp_dyn_edit(var_3310, cnt)
						if ( var_3449 > var_3440 ) {
							var_3450 = limitf(20.0 * logf(var_3449) / logf(10.0), -360.0, 0.0)
							var_3451 = var_3441 + (var_3450 - var_3441) / var_3280
							var_3452 = powf(10.0, var_3451 / 20.0)
							var_3453 = var_3452 / var_3449
						}
						else {
							var_3453 = 1.0
						}
						if ( var_3453 == var_3445 ) {
							if ( var_3449 <= var_3440 ) {
								var_3446 = 1.0
							}
						}
						else {
							if ( var_3453 < var_3445 ) {
								if ( var_3442 == 0.0 ) {
									var_3445 = var_3453
								}
								else {
									var_3445 = limitf(var_3445 - (1.0 - var_3453) * var_3448 / var_3442, var_3453, 1.0)
								}
								if ( var_3453 < var_3446 ) {
									var_3446 = var_3453
								}
							}
							else {
								if ( var_3443 == 0.0 ) {
									var_3445 = var_3453
								}
								else {
									var_3445 = limitf(var_3445 + (1.0 - var_3446) * var_3448 / var_3443, 0.0, var_3453)
								}
							}
						}
						SetICP_dyn_edit var_3310, cnt, limitf(var_3449 * var_3445 * var_3444, 0.0, 1.0)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 252 & var_3323 > 0 ) {
				var_3361(0) = tltx("スレッショルド", "Threshold"), tltx("アタックタイム", "Attack time"), tltx("リリースタイム", "Release time"), tltx("ゲイン", "Gain")
				var_3362(0) = "dB", "ms", "ms", "dB"
				var_3363(0) = 1, 0, 0, 1
				var_3364(0) = var_3284, double(var_3285), double(var_3286), var_3287
				var_3365(0) = "", "", "", ""
				ideprmsetting tltx("リミッター", "Limiter"), 4, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3284 = limitf(var_3364(0), 0.0, 1.0)
					var_3285 = limit(int(var_3364(1)), 0, 5000)
					var_3286 = limit(int(var_3364(2)), 0, 5000)
					var_3287 = limitf(var_3364(3), 0.0, 10000.0)
					var_3440 = var_3284
					var_3441 = limitf(20.0 * logf(var_3440) / logf(10.0), -360.0, 0.0)
					var_3442 = 0.001 * var_3285
					var_3443 = 0.001 * var_3286
					var_3444 = var_3287
					var_3445 = 1.0
					var_3446 = 1.0
					repeat var_3323, var_3321
						var_3390 = cnt
						var_3447 = vslib_getstretchedtsec(var_3310, double(var_3390 - 1.0) / var_3312, var_3326)
						var_3345 = vslib_getstretchedtsec(var_3310, double(var_3390) / var_3312, var_3326)
						var_3448 = var_3345 - var_3447
						var_3449 = vslib_geticp_dyn_edit(var_3310, cnt)
						if ( var_3449 > var_3440 ) {
							var_3453 = var_3440 / var_3449
						}
						else {
							var_3453 = 1.0
						}
						if ( var_3453 == var_3445 ) {
							if ( var_3449 <= var_3440 ) {
								var_3446 = 1.0
							}
						}
						else {
							if ( var_3453 < var_3445 ) {
								if ( var_3442 == 0.0 ) {
									var_3445 = var_3453
								}
								else {
									var_3445 = limitf(var_3445 - (1.0 - var_3453) * var_3448 / var_3442, var_3453, 1.0)
								}
								if ( var_3453 < var_3446 ) {
									var_3446 = var_3453
								}
							}
							else {
								if ( var_3443 == 0.0 ) {
									var_3445 = var_3453
								}
								else {
									var_3445 = limitf(var_3445 + (1.0 - var_3446) * var_3448 / var_3443, 0.0, var_3453)
								}
							}
						}
						SetICP_dyn_edit var_3310, cnt, limitf(var_3449 * var_3445 * var_3444, 0.0, 1.0)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 253 & var_3323 > 0 ) {
				var_3361(0) = tltx("最大増幅率", "value")
				var_3362(0) = "dB"
				var_3363(0) = 1
				var_3364(0) = var_3278
				var_3365(0) = ""
				ideprmsetting tltx("増幅率制限", "Limit DYN gain"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3278 = var_3364(0)
					repeat var_3323, var_3321
						var_3454 = vslib_geticp_dyn_org(var_3310, cnt)
						var_3455 = vslib_geticp_dyn_edit(var_3310, cnt)
						var_3456 = var_3454 * var_3278
						if ( var_3455 > var_3456 ) {
							var_3455 = var_3456
						}
						SetICP_dyn_edit var_3310, cnt, var_3455
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 254 & var_3323 > 0 ) {
				var_3457 = GetPrjItemNum(var_67(17))
				var_3458 = var_3307
				var_3459 = ""
				repeat var_3457
					if ( cnt == var_3307 ) {
						var_3459 += "---\n"
					}
					else {
						var_3460 = GetPrjItem(var_67(17), cnt)
						var_3461 = vslib_getii_filename(var_3460)
						var_3459 += getpath(var_3461, 8) + "\n"
					}
				loop
				var_3361(0) = tltx("ターゲットアイテム", "Target item"), tltx("ターゲット音量", "Target dynamics"), tltx("レシオ", "Ratio"), tltx("アタック/リリースタイム", "Attack/Release time"), tltx("最大ゲイン", "Maximum gain"), tltx("最小ゲイン", "Minimum gain")
				var_3362(0) = "", "dB", "", "ms", "dB", "dB"
				var_3363(0) = 5, 1, 2, 0, 1, 1
				var_3364(0) = double(var_3458), var_3288, var_3289, double(var_3290), var_3291, var_3292
				var_3365(0) = var_3459, "", "", "", "", ""
				ideprmsetting tltx("ダイナミクス自動調整", "Auto correction"), 6, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3458 = limit(int(var_3364(0)), 0, var_3457 - 1)
					var_3288 = limitf(var_3364(1), 0.0, 1.0)
					var_3289 = limitf(var_3364(2), 1.0, 100.0)
					var_3290 = limit(int(var_3364(3)), 0, 5000)
					var_3291 = limitf(var_3364(4), 0.0, 10000.0)
					var_3292 = limitf(var_3364(5), 0.0, 10000.0)
					dimtype var_3462, 3, var_3323, 0, 0, 0
					dimtype var_3463, 3, var_3323, 0, 0, 0
					repeat var_3323, var_3321
						var_3390 = cnt
						var_3449 = vslib_geticp_dyn_edit(var_3310, var_3390)
						if ( var_3449 != 0.0 ) {
							if ( var_3458 != var_3307 ) {
								var_3464 = GetPrjItem(var_67(17), var_3458)
								var_3465 = double(var_3390) / var_3312
								var_3466 = vslib_getstretchedtsec(var_3310, var_3465, var_3326)
								var_3466 += double(vslib_getprjitemoffset(var_67(17), var_3307)) / var_3313
								var_3466 -= double(vslib_getprjitemoffset(var_67(17), var_3458)) / var_3313
								var_3467 = double(GetII_editSample(var_3464)) / var_3313
								if ( var_3466 >= 0.0 & var_3466 < var_3467 ) {
									var_3465 = vslib_getstretchorgsec(var_3464, var_3466, var_3326)
									var_3468 = GetII_nCtrlPnt(var_3464)
									var_3469 = limit(int(var_3465 * var_3312), 0, var_3468 - 1)
									var_3470 = vslib_geticp_dyn_edit(var_3464, var_3469) * var_3288
								}
								else {
									var_3470 = var_3288
								}
							}
							else {
								var_3470 = var_3288
							}
							var_3471 = limitf(20.0 * logf(var_3470) / logf(10.0), -360.0, 0.0)
							var_3450 = limitf(20.0 * logf(var_3449) / logf(10.0), -360.0, 0.0)
							var_3451 = var_3471 + (var_3450 - var_3471) / var_3289
							var_3452 = powf(10.0, var_3451 / 20.0)
							var_3462(var_3390 - var_3321) = var_3452 / var_3449
						}
						else {
							var_3462(var_3390 - var_3321) = 1.0
						}
					loop
					repeat var_3323, var_3321
						var_3390 = cnt
						var_3462(var_3390 - var_3321) = limitf(var_3462(var_3390 - var_3321), var_3292, var_3291)
					loop
					repeat var_3323, var_3321
						var_3390 = cnt
						var_3472 = var_3290 / 5
						if ( var_3472 == 0 ) {
							var_3472 = 1
						}
						var_3394 = var_3390 - var_3472 * 3
						var_3473 = var_3390 + var_3472 * 3
						if ( var_3394 < var_3321 ) {
							var_3394 = var_3321
						}
						if ( var_3473 >= var_3322 ) {
							var_3473 = var_3322 - 1
						}
						var_3474 = 0.0
						var_3475 = 0.0
						repeat var_3473 - var_3394 + 1, var_3394
							var_3476 = (cnt - var_3390) / var_3472 * 2.0 * 3.14159265358979
							if ( var_3476 != 0.0 ) {
								var_3477 = sin(var_3476) / var_3476
							}
							else {
								var_3477 = 1.0
							}
							var_3474 += var_3462(cnt - var_3321) * var_3477
							var_3475 += var_3477
						loop
						var_3463(var_3390 - var_3321) = var_3474 / var_3475
					loop
					repeat var_3323, var_3321
						var_3390 = cnt
						var_3449 = vslib_geticp_dyn_edit(var_3310, var_3390)
						SetICP_dyn_edit var_3310, var_3390, limitf(var_3449 * var_3463(var_3390 - var_3321), 0.0, 1.0)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 255 ) {
				var_3324 = vslib_getprjitemoffset(var_67(17), var_3307)
				var_3325 = double(var_67(13) - var_3324)
				var_3327 = vslib_getstretchorgsmp(var_3310, var_3325, var_3326)
				AddIP_tctrlTime var_3310, var_3327, var_3325
				UpdateRhythmTimeCtrl var_3310
				var_3330 = 1
				var_67(150) = 1
			}
			if ( prm_1342 == 256 ) {
				var_3327 = double(var_3313) * var_3321 / var_3312
				var_3325 = vslib_getstretchedtsmp(var_3310, var_3327, var_3326)
				AddIP_tctrlTime var_3310, var_3327, var_3325
				var_3327 = double(var_3313) * var_3322 / var_3312
				var_3325 = vslib_getstretchedtsmp(var_3310, var_3327, var_3326)
				AddIP_tctrlTime var_3310, var_3327, var_3325
				UpdateRhythmTimeCtrl var_3310
				var_340(var_3306 * 51 + 25) = 0
				var_340(var_3306 * 51 + 26) = 0
				var_3330 = 1
				var_67(150) = 1
			}
			if ( prm_1342 == 259 ) {
				var_3325 = 0.0
				var_3327 = 0.0
				var_3478 = GetII_nTctrlPrm(var_3310)
				repeat var_3478 - 2
					var_3479 = var_3478 - 2 - cnt
					GetIP_tctrlTime var_3310, var_3479, var_3327, var_3325
					var_3344 = int(var_3327 / var_3313 * var_3312 + 0.5)
					if ( var_3344 >= var_3321 & var_3344 <= var_3322 ) {
						DelIP_tctrlTime var_3310, var_3479
						var_3330 = 1
						var_67(150) = 1
					}
				loop
				UpdateRhythmTimeCtrl var_3310
			}
			if ( prm_1342 == 260 | prm_1342 == 261 ) {
				var_3361(0) = tltx("クオンタイズ単位", "Quantize unit"), tltx("カスタム", "Custum")
				var_3362(0) = "", tltx("tick(4分音符=480)", "(Quarter note=480)")
				var_3363(0) = 5, 0
				var_3364(0) = double(var_3293), double(var_3294)
				var_3365(0) = tltx("4分音符\n8分音符\n16分音符\n32分音符\n64分音符\nカスタム", "Quarter note\nEighth note\nSixteenth note\nThirty-second note\nSixty-fourth note\ncustum")
				if ( prm_1342 == 260 ) {
					ideprmsetting tltx("編集前制御点クオンタイズ", "Quantize control points(before editing)"), 2, var_3361, var_3362, var_3363, var_3364, var_3365
				}
				if ( stat == 0 | prm_1342 == 261 ) {
					var_3293 = limit(int(var_3364(0)), 0, 5)
					var_3294 = limit(int(var_3364(1)), 1, 960)
					if ( var_3293 != 5 ) {
						var_3480 = 960
						repeat var_3293
							var_3480 = var_3480 / 2
						loop
					}
					else {
						var_3480 = var_3294 * 2
					}
					var_3325 = 0.0
					var_3327 = 0.0
					var_3481 = 0.0
					var_3482 = 0.0
					var_3478 = GetII_nTctrlPrm(var_3310)
					dimtype var_3483, 3, var_3478 * 2, 0, 0, 0
					dimtype var_3484, 3, var_3478 * 2, 0, 0, 0
					repeat var_3478 - 1, 1
						GetIP_tctrlTime var_3310, cnt, var_3327, var_3325
						var_3483(cnt * 2 + 0) = var_3327
						var_3483(cnt * 2 + 1) = var_3325
					loop
					repeat var_3478
						var_3484(cnt * 2 + 0) = var_3483(cnt * 2 + 0)
						var_3484(cnt * 2 + 1) = var_3483(cnt * 2 + 1)
					loop
					repeat var_3478 - 2, 1
						var_3327 = var_3483(cnt * 2 + 0)
						var_3325 = var_3483(cnt * 2 + 1)
						var_3344 = int(var_3327 / var_3313 * var_3312 + 0.5)
						if ( var_3344 >= var_3321 & var_3344 <= var_3322 ) {
							if ( var_67(188) == 0 ) {
								var_3485 = var_3338
							}
							else {
								var_3486 = vslib_getprjitemmeasoffset(var_67(17), var_3307)
								var_3485 = -var_3486 * var_3313
							}
							var_3487 = var_3327
							var_3327 += var_3485
							var_3327 = getqtsample2(var_3327, var_3480)
							var_3327 -= var_3485
							if ( var_3327 - var_3487 > 0.0 ) {
								var_3481 = var_3483((cnt + 1) * 2 + 0)
								var_3482 = var_3483((cnt + 1) * 2 + 1)
								var_3380 = (var_3481 - var_3327) / (var_3481 - var_3487)
								var_3325 += (1.0 - var_3380) * (var_3482 - var_3325)
							}
							else {
								var_3481 = var_3483((cnt - 1) * 2 + 0)
								var_3482 = var_3483((cnt - 1) * 2 + 1)
								var_3380 = (var_3327 - var_3481) / (var_3487 - var_3481)
								var_3325 -= (1.0 - var_3380) * (var_3325 - var_3482)
							}
							var_3484(cnt * 2 + 0) = var_3327
							var_3484(cnt * 2 + 1) = var_3325
						}
					loop
					repeat var_3478 - 2
						var_3479 = var_3478 - 2 - cnt
						if ( var_3484(var_3479 * 2 + 0) >= var_3484((var_3479 + 1) * 2 + 0) ) {
							var_3484(var_3479 * 2 + 0) = var_3484((var_3479 + 1) * 2 + 0) - 1.0
						}
					loop
					repeat var_3478 - 1
						var_3479 = 1 + cnt
						if ( var_3484(var_3479 * 2 + 0) <= var_3484((var_3479 - 1) * 2 + 0) ) {
							var_3484(var_3479 * 2 + 0) = var_3484((var_3479 - 1) * 2 + 0) + 1.0
						}
					loop
					repeat var_3478 - 2
						var_3479 = var_3478 - 2 - cnt
						if ( var_3484(var_3479 * 2 + 1) >= var_3484((var_3479 + 1) * 2 + 1) ) {
							var_3484(var_3479 * 2 + 1) = var_3484((var_3479 + 1) * 2 + 1) - 1.0
						}
					loop
					repeat var_3478 - 1
						var_3479 = 1 + cnt
						if ( var_3484(var_3479 * 2 + 1) <= var_3484((var_3479 - 1) * 2 + 1) ) {
							var_3484(var_3479 * 2 + 1) = var_3484((var_3479 - 1) * 2 + 1) + 1.0
						}
					loop
					repeat var_3478 - 2, 1
						var_3327 = var_3484(cnt * 2 + 0)
						var_3325 = var_3484(cnt * 2 + 1)
						SetIP_tctrlTime var_3310, cnt, var_3327, var_3325
					loop
					UpdateRhythmTimeCtrl var_3310
					var_3330 = 1
					var_67(150) = 1
				}
			}
			if ( prm_1342 == 262 | prm_1342 == 263 ) {
				var_3361(0) = tltx("クオンタイズ単位", "Quantize unit"), tltx("カスタム", "Custum")
				var_3362(0) = "", tltx("tick(4分音符=480)", "(Quarter note=480)")
				var_3363(0) = 5, 0
				var_3364(0) = double(var_3293), double(var_3294)
				var_3365(0) = tltx("4分音符\n8分音符\n16分音符\n32分音符\n64分音符\nカスタム", "Quarter note\nEighth note\nSixteenth note\nThirty-second note\nSixty-fourth note\ncustum")
				if ( prm_1342 == 262 ) {
					ideprmsetting tltx("編集後制御点クオンタイズ", "Quantize control points(after editing)"), 2, var_3361, var_3362, var_3363, var_3364, var_3365
				}
				if ( stat == 0 | prm_1342 == 263 ) {
					var_3293 = limit(int(var_3364(0)), 0, 5)
					var_3294 = limit(int(var_3364(1)), 1, 960)
					if ( var_3293 != 5 ) {
						var_3480 = 960
						repeat var_3293
							var_3480 = var_3480 / 2
						loop
					}
					else {
						var_3480 = var_3294 * 2
					}
					var_3325 = 0.0
					var_3327 = 0.0
					var_3481 = 0.0
					var_3482 = 0.0
					var_3478 = GetII_nTctrlPrm(var_3310)
					dimtype var_3483, 3, var_3478 * 2, 0, 0, 0
					dimtype var_3484, 3, var_3478 * 2, 0, 0, 0
					repeat var_3478 - 1, 1
						GetIP_tctrlTime var_3310, cnt, var_3327, var_3325
						var_3483(cnt * 2 + 0) = var_3327
						var_3483(cnt * 2 + 1) = var_3325
					loop
					repeat var_3478
						var_3484(cnt * 2 + 0) = var_3483(cnt * 2 + 0)
						var_3484(cnt * 2 + 1) = var_3483(cnt * 2 + 1)
					loop
					repeat var_3478 - 2, 1
						var_3327 = var_3483(cnt * 2 + 0)
						var_3325 = var_3483(cnt * 2 + 1)
						var_3344 = int(var_3327 / var_3313 * var_3312 + 0.5)
						if ( var_3344 >= var_3321 & var_3344 <= var_3322 ) {
							if ( var_67(188) == 0 ) {
								var_3488 = var_3338
							}
							else {
								var_3486 = vslib_getprjitemmeasoffset(var_67(17), var_3307)
								var_3488 = -var_3486 * var_3313
							}
							var_3489 = var_3325
							var_3325 += var_3488
							var_3325 = getqtsample2(var_3325, var_3480)
							var_3325 -= var_3488
							var_3484(cnt * 2 + 0) = var_3327
							var_3484(cnt * 2 + 1) = var_3325
						}
					loop
					repeat var_3478 - 2
						var_3479 = var_3478 - 2 - cnt
						if ( var_3484(var_3479 * 2 + 1) >= var_3484((var_3479 + 1) * 2 + 1) ) {
							var_3484(var_3479 * 2 + 1) = var_3484((var_3479 + 1) * 2 + 1) - 1.0
						}
					loop
					repeat var_3478 - 1
						var_3479 = 1 + cnt
						if ( var_3484(var_3479 * 2 + 1) <= var_3484((var_3479 - 1) * 2 + 1) ) {
							var_3484(var_3479 * 2 + 1) = var_3484((var_3479 - 1) * 2 + 1) + 1.0
						}
					loop
					repeat var_3478 - 2, 1
						var_3327 = var_3484(cnt * 2 + 0)
						var_3325 = var_3484(cnt * 2 + 1)
						SetIP_tctrlTime var_3310, cnt, var_3327, var_3325
					loop
					UpdateRhythmTimeCtrl var_3310
					var_3330 = 1
					var_67(150) = 1
				}
			}
			if ( prm_1342 == 264 ) {
				var_3490 = -1
				var_3491 = -1
				var_3325 = 0.0
				var_3327 = 0.0
				var_3478 = GetII_nTctrlPrm(var_3310)
				dimtype var_3483, 3, var_3478 * 2, 0, 0, 0
				dimtype var_3484, 3, var_3478 * 2, 0, 0, 0
				repeat var_3478 - 1, 1
					GetIP_tctrlTime var_3310, cnt, var_3327, var_3325
					var_3483(cnt * 2 + 0) = var_3327
					var_3483(cnt * 2 + 1) = var_3325
					var_3344 = limit(int(var_3327 / var_3313 * var_3312 + 0.5), 0, var_3311 - 1)
					if ( var_3321 <= var_3344 & var_3344 <= var_3321 + var_3323 ) {
						if ( var_3490 == (-1) ) {
							var_3490 = cnt
						}
						var_3491 = cnt
					}
				loop
				if ( var_3490 >= 0 ) {
					var_3478 = GetII_nTctrlPrm(var_3310)
					repeat var_3478
						var_3484(cnt * 2 + 0) = var_3483(cnt * 2 + 0)
						var_3484(cnt * 2 + 1) = var_3483(cnt * 2 + 1)
					loop
					repeat var_3491 - var_3490 + 1, var_3490
						var_3484(cnt * 2 + 1) = var_3484(cnt * 2 + 0)
					loop
					repeat var_3478 - 2
						var_3479 = var_3478 - 2 - cnt
						if ( var_3479 >= var_3490 & var_3479 <= var_3491 ) {
							if ( var_3484(var_3479 * 2 + 1) >= var_3484((var_3479 + 1) * 2 + 1) ) {
								var_3484(var_3479 * 2 + 1) = var_3484((var_3479 + 1) * 2 + 1) - 1.0
							}
						}
					loop
					repeat var_3478 - 1
						var_3479 = 1 + cnt
						if ( var_3479 >= var_3490 & var_3479 <= var_3491 ) {
							if ( var_3484(var_3479 * 2 + 1) <= var_3484((var_3479 - 1) * 2 + 1) ) {
								var_3484(var_3479 * 2 + 1) = var_3484((var_3479 - 1) * 2 + 1) + 1.0
							}
						}
					loop
					repeat var_3491 - var_3490 + 1, var_3490
						var_3327 = var_3484(cnt * 2 + 0)
						var_3325 = var_3484(cnt * 2 + 1)
						SetIP_tctrlTime var_3310, cnt, var_3327, var_3325
					loop
					UpdateRhythmTimeCtrl var_3310
					var_3330 = 1
					var_67(150) = 1
				}
			}
			if ( prm_1342 == 257 ) {
				var_3331 = GetIP_nNote(var_3310)
				repeat var_3331
					GetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
					var_3327 = double(var_3313) * var_3332 / var_3312
					var_3325 = vslib_getstretchedtsmp(var_3310, var_3327, var_3326)
					AddIP_tctrlTime var_3310, var_3327, var_3325
					var_3327 = double(var_3313) * (var_3332 + var_3333) / var_3312
					var_3325 = vslib_getstretchedtsmp(var_3310, var_3327, var_3326)
					AddIP_tctrlTime var_3310, var_3327, var_3325
				loop
				var_3478 = GetII_nTctrlPrm(var_3310)
				var_3492 = 0
				var_3493 = -1.0
				repeat
					if ( var_3492 == var_3478 ) {
						break
					}
					GetIP_tctrlTime var_3310, var_3492, var_3327, var_3325
					if ( var_3327 == var_3493 ) {
						DelIP_tctrlTime var_3310, var_3492
						var_3478--
					}
					else {
						var_3493 = var_3327
						var_3492++
					}
				loop
				UpdateRhythmTimeCtrl var_3310
				var_3330 = 1
				var_67(150) = 1
			}
			if ( prm_1342 == 265 & var_3323 > 0 ) {
				var_3494 = double(var_3313) * var_3321 / var_3312
				var_3495 = vslib_getstretchedtsmp(var_3310, var_3494, var_3326)
				AddIP_tctrlTime var_3310, var_3494, var_3495
				var_3496 = double(var_3313) * var_3322 / var_3312
				var_3497 = vslib_getstretchedtsmp(var_3310, var_3496, var_3326)
				AddIP_tctrlTime var_3310, var_3496, var_3497
				var_3478 = GetII_nTctrlPrm(var_3310)
				repeat var_3478
					GetIP_tctrlTime var_3310, cnt, var_3327, var_3325
					var_3325 = limitf(var_3325 - var_3495, 0.0, var_3497 - var_3495)
					SetIP_tctrlTime var_3310, cnt, var_3327, var_3325
				loop
				UpdateRhythmTimeCtrl var_3310
				var_340(var_3306 * 51 + 25) = 0
				var_340(var_3306 * 51 + 26) = 0
				var_3330 = 1
				var_67(150) = 1
			}
			if ( prm_1342 == 266 & var_3323 > 0 ) {
				var_3494 = double(var_3313) * var_3321 / var_3312
				var_3495 = vslib_getstretchedtsmp(var_3310, var_3494, var_3326)
				AddIP_tctrlTime var_3310, var_3494, var_3495
				var_3496 = double(var_3313) * var_3322 / var_3312
				var_3497 = vslib_getstretchedtsmp(var_3310, var_3496, var_3326)
				AddIP_tctrlTime var_3310, var_3496, var_3497
				var_3478 = GetII_nTctrlPrm(var_3310)
				repeat var_3478
					GetIP_tctrlTime var_3310, cnt, var_3327, var_3325
					if ( var_3325 > var_3495 ) {
						if ( var_3325 < var_3497 ) {
							var_3325 = var_3495
						}
						else {
							var_3325 -= var_3497 - var_3495
						}
					}
					SetIP_tctrlTime var_3310, cnt, var_3327, var_3325
				loop
				UpdateRhythmTimeCtrl var_3310
				var_340(var_3306 * 51 + 25) = 0
				var_340(var_3306 * 51 + 26) = 0
				var_3330 = 1
				var_67(150) = 1
			}
			if ( prm_1342 == 258 ) {
				var_3330 = detectattack()
			}
			if ( prm_1342 == 267 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					var_3366 = GetICP_pit_analyze(var_3310, cnt, 0)
					SetICP_pit_org var_3310, cnt, var_3366
					if ( var_67(39) == 1 ) {
						SetICP_pit_edit var_3310, cnt, var_3366
					}
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 268 & var_3323 > 0 ) {
				var_3361(0) = tltx("ピッチ変更量", "value")
				var_3362(0) = tltx("セント", "cent")
				var_3363(0) = 0
				var_3364(0) = double(var_3295)
				var_3365(0) = ""
				ideprmsetting tltx("変更", "Change *PIT parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3295 = int(var_3364(0))
					repeat var_3323, var_3321
						var_3366 = GetICP_pit_org(var_3310, cnt)
						var_3366 = limit(var_3366 + var_3295, 0, 12800)
						SetICP_pit_org var_3310, cnt, var_3366
						if ( var_67(39) == 1 ) {
							SetICP_pit_edit var_3310, cnt, var_3366
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 269 & var_3323 > 0 ) {
				var_3361(0) = tltx("ピッチ", "value")
				var_3362(0) = ""
				var_3363(0) = 4
				var_3364(0) = double(var_3296)
				var_3365(0) = ""
				ideprmsettingopt var_3314, var_3315, var_3316, var_3307
				ideprmsetting tltx("設定", "Set *PIT parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3296 = limit(int(var_3364(0)), 0, 12800)
					repeat var_3323, var_3321
						SetICP_pit_org var_3310, cnt, var_3296
						if ( var_67(39) == 1 ) {
							SetICP_pit_edit var_3310, cnt, var_3296
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 270 & var_3323 > 0 ) {
				var_3383 = 0
				var_3384 = 0
				repeat var_3323, var_3321
					if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
						var_3383 += GetICP_pit_org(var_3310, cnt)
						var_3384++
					}
				loop
				if ( var_3384 > 0 ) {
					var_3385 = var_3383 / var_3384
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							SetICP_pit_org var_3310, cnt, var_3385
							if ( var_67(39) == 1 ) {
								SetICP_pit_edit var_3310, cnt, var_3385
							}
						}
					loop
				}
				var_3330 = 1
			}
			if ( prm_1342 == 271 & var_3323 > 0 ) {
				var_3402 = var_3315
				if ( var_3315 == 0 ) {
					dimtype var_3368, 3, 12, 0, 0, 0
					var_3402 = analyzekey(var_3368, 1)
				}
				var_3361(0) = tltx("スケール", "Scale"), tltx("クオンタイズ単位", "Quantize unit")
				var_3362(0) = "", ""
				var_3363(0) = 3, 3
				var_3364(0) = double(var_3402), double(var_3297)
				var_3365(0) = "-\nC/Am\nDb/Bbm\nD/Bm\nEb/Cm\nE/C#m\nF/Dm\nGb/Ebm\nG/Em\nAb/Fm\nA/F#m\nBb/Gm\nB/G#m", tltx("半音\nスケール", "Semitone\nScale")
				ideprmsetting tltx("クオンタイズ", "Quantize"), 2, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3402 = limit(int(var_3364(0)), 0, 12)
					var_3297 = int(var_3364(1))
					repeat var_3323, var_3321
						if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
							var_3403 = GetICP_pit_org(var_3310, cnt)
							var_3404 = var_3403
							if ( var_3297 == 0 ) {
								var_3404 = snappitch(var_3403, var_3314, var_3315, var_3316, var_3307)
							}
							else {
								var_3405 = cnvpitch2nn(var_3403, var_3314, var_3402, var_3316, var_3307)
								var_3405--
								var_3406 = 1200
								repeat 3
									if ( getscaleflg(var_3405, var_3402) ) {
										var_3366 = cnvnn2pitch(var_3405, var_3314, var_3402, var_3316, var_3307)
										if ( abs(var_3366 - var_3403) < var_3406 ) {
											var_3404 = var_3366
											var_3406 = abs(var_3366 - var_3403)
										}
									}
									var_3405++
								loop
							}
							SetICP_pit_org var_3310, cnt, var_3404
							if ( var_67(39) == 1 ) {
								SetICP_pit_edit var_3310, cnt, var_3404
							}
						}
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 272 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					SetICP_fix_edit var_3310, cnt, 0
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 273 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					SetICP_fix_edit var_3310, cnt, 1
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 274 & var_3323 > 0 ) {
				var_3330 = analyzefixflg()
			}
			if ( prm_1342 == 275 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					SetICP_breathiness var_3310, cnt, 0
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 276 & var_3323 > 0 ) {
				var_3361(0) = tltx("ブレス変更量", "value")
				var_3362(0) = ""
				var_3363(0) = 2
				var_3364(0) = var_3298
				var_3365(0) = ""
				ideprmsetting tltx("ブレス変更", "Change BRE parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3298 = var_3364(0)
					repeat var_3323, var_3321
						var_3498 = GetICP_breathiness(var_3310, cnt)
						SetICP_breathiness var_3310, cnt, limit(var_3498 + int(100.0 * var_3298), -10000, 10000)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 277 & var_3323 > 0 ) {
				var_3361(0) = tltx("ブレス", "value")
				var_3362(0) = ""
				var_3363(0) = 2
				var_3364(0) = var_3299
				var_3365(0) = ""
				ideprmsetting tltx("ブレス設定", "Set BRE parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3299 = var_3364(0)
					repeat var_3323, var_3321
						SetICP_breathiness var_3310, cnt, limit(int(100.0 * var_3299), -10000, 10000)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 278 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					SetICP_brightness var_3310, cnt, 0
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 279 & var_3323 > 0 ) {
				var_3361(0) = tltx("EQ1変更量", "value")
				var_3362(0) = ""
				var_3363(0) = 2
				var_3364(0) = var_3300
				var_3365(0) = ""
				ideprmsetting tltx("EQ1変更", "Change EQ1 parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3300 = var_3364(0)
					var_3499 = 0
					var_3500 = -10000
					var_3501 = 10000
					repeat var_3323, var_3321
						var_3502 = GetICP_brightness(var_3310, cnt)
						SetICP_brightness var_3310, cnt, limit(var_3502 + int(100.0 * var_3300), var_3500, var_3501)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 280 & var_3323 > 0 ) {
				var_3361(0) = "EQ1"
				var_3362(0) = ""
				var_3363(0) = 2
				var_3364(0) = var_3301
				var_3365(0) = ""
				ideprmsetting tltx("EQ1設定", "Set EQ1 parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3301 = var_3364(0)
					var_3499 = 0
					var_3500 = -10000
					var_3501 = 10000
					repeat var_3323, var_3321
						SetICP_brightness var_3310, cnt, limit(int(100.0 * var_3301) + var_3499, var_3500, var_3501)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 281 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					SetICP_clearness var_3310, cnt, 0
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 282 & var_3323 > 0 ) {
				var_3361(0) = tltx("EQ2変更量", "value")
				var_3362(0) = ""
				var_3363(0) = 2
				var_3364(0) = var_3302
				var_3365(0) = ""
				ideprmsetting tltx("EQ2変更", "Change EQ2 parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3302 = var_3364(0)
					var_3499 = 0
					var_3500 = -10000
					var_3501 = 10000
					repeat var_3323, var_3321
						var_3503 = GetICP_clearness(var_3310, cnt)
						SetICP_clearness var_3310, cnt, limit(var_3503 + int(100.0 * var_3302), var_3500, var_3501)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 283 & var_3323 > 0 ) {
				var_3361(0) = "EQ2"
				var_3362(0) = ""
				var_3363(0) = 2
				var_3364(0) = var_3303
				var_3365(0) = ""
				ideprmsetting tltx("EQ2設定", "Set EQ2 parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3303 = var_3364(0)
					var_3499 = 0
					var_3500 = -10000
					var_3501 = 10000
					repeat var_3323, var_3321
						SetICP_clearness var_3310, cnt, limit(int(100.0 * var_3303) + var_3499, var_3500, var_3501)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 284 & var_3323 > 0 ) {
				repeat var_3323, var_3321
					SetICP_Heq var_3310, cnt, 0
				loop
				var_3330 = 1
			}
			if ( prm_1342 == 285 & var_3323 > 0 ) {
				var_3362(0) = ""
				var_3363(0) = 2
				var_3364(0) = var_3304
				var_3365(0) = ""
				if ( var_3320 == 0 ) {
					var_3361(0) = tltx("HEQ変更量", "value")
					ideprmsetting tltx("HEQ変更", "Change HEQ parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				}
				else {
					var_3361(0) = tltx("MRP変更量", "value")
					ideprmsetting tltx("MRP変更", "Change MRP parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				}
				if ( stat == 0 ) {
					var_3304 = var_3364(0)
					var_3499 = 0
					var_3500 = -10000
					var_3501 = 10000
					if ( var_3320 ) {
						var_3501 = 0
						var_3499 = -10000
					}
					repeat var_3323, var_3321
						var_3504 = GetICP_Heq(var_3310, cnt)
						SetICP_Heq var_3310, cnt, limit(var_3504 + int(100.0 * var_3304), var_3500, var_3501)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 286 & var_3323 > 0 ) {
				var_3362(0) = ""
				var_3363(0) = 2
				var_3364(0) = var_3305
				var_3365(0) = ""
				if ( var_3320 == 0 ) {
					var_3361(0) = "HEQ"
					ideprmsetting tltx("HEQ設定", "Set HEQ parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				}
				else {
					var_3361(0) = "MRP"
					ideprmsetting tltx("MRP設定", "Set MRP parameter"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				}
				if ( stat == 0 ) {
					var_3305 = var_3364(0)
					var_3499 = 0
					var_3500 = -10000
					var_3501 = 10000
					if ( var_3320 ) {
						var_3501 = 0
						var_3499 = -10000
					}
					repeat var_3323, var_3321
						SetICP_Heq var_3310, cnt, limit(int(100.0 * var_3305) + var_3499, var_3500, var_3501)
					loop
					var_3330 = 1
				}
			}
			if ( prm_1342 == 222 ) {
				var_3331 = GetIP_nNote(var_3310)
				var_3505 = -1
				var_3506 = -1
				var_3507 = -1
				var_3508 = -1
				repeat var_3331
					GetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
					if ( var_3335 == 1 ) {
						if ( var_3505 == (-1) ) {
							var_3505 = cnt
							var_3507 = var_3332
						}
						var_3506 = cnt
						var_3508 = var_3332 + var_3333
					}
				loop
				if ( var_3505 < var_3506 ) {
					repeat var_3506 - var_3505
						DelIP_noteData var_3310, var_3505 + 1
					loop
					GetIP_noteData var_3310, var_3505, var_3332, var_3333, var_3334, var_3335
					var_3333 = var_3508 - var_3507
					SetIP_noteData var_3310, var_3505, var_3332, var_3333, var_3334, var_3335
					var_3330 = 1
				}
				else {
					msgdialog tltx("連結する複数のノートが選択されていません。\n複数のノートを選択してから実行してください。", "Target notes are not selected.")
				}
			}
			if ( prm_1342 == 223 ) {
				var_3331 = GetIP_nNote(var_3310)
				var_3509 = -1
				repeat var_3331
					GetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
					if ( var_3329 > var_3332 & var_3329 < var_3332 + var_3333 ) {
						var_3509 = cnt
						break
					}
				loop
				if ( var_3509 != (-1) ) {
					var_3510 = var_3329
					repeat
						if ( GetICP_fix_edit(var_3310, var_3510 - 1) == 1 ) {
							var_3510--
							if ( var_3510 == var_3332 ) {
								break
							}
						}
						else {
							break
						}
					loop
					var_3511 = var_3329
					repeat
						if ( GetICP_fix_edit(var_3310, var_3511) == 1 ) {
							var_3511++
							if ( var_3511 == var_3332 + var_3333 ) {
								break
							}
						}
						else {
							break
						}
					loop
					DelIP_noteData var_3310, var_3509
					if ( var_3510 - var_3332 > 0 ) {
						AddIP_noteData var_3310, var_3332, var_3510 - var_3332, var_3334
					}
					if ( var_3332 + var_3333 - var_3511 > 0 ) {
						AddIP_noteData var_3310, var_3511, var_3332 + var_3333 - var_3511, var_3334
					}
					var_3330 = 1
				}
				else {
					msgdialog tltx("再生位置にノートがありません。\n再生位置を分割する位置に移動してから実行してください。", "Note does not exist at playback position.")
				}
			}
			if ( prm_1342 == 224 ) {
				var_3331 = GetIP_nNote(var_3310)
				repeat var_3331
					GetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
					var_3335 = 1
					SetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
					if ( cnt == 0 ) {
						var_340(var_3306 * 51 + 25) = var_3332
					}
					if ( cnt == var_3331 - 1 ) {
						var_340(var_3306 * 51 + 26) = var_3332 + var_3333
					}
				loop
			}
			if ( prm_1342 == 225 ) {
				var_3331 = GetIP_nNote(var_3310)
				repeat var_3331
					GetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
					var_3335 = 0
					SetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
				loop
				var_340(var_3306 * 51 + 25) = 0
				var_340(var_3306 * 51 + 26) = 0
			}
			if ( prm_1342 == 226 & var_3323 > 0 ) {
				var_3361(0) = tltx("ピッチシフト量", "value")
				var_3362(0) = tltx("セント", "cent")
				var_3363(0) = 0
				var_3364(0) = double(var_3249)
				var_3365(0) = ""
				ideprmsetting tltx("ピッチシフト(セント指定)", "pitch shift(cent)"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3249 = int(var_3364(0))
					var_3331 = GetIP_nNote(var_3310)
					repeat var_3331
						GetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
						if ( var_3335 == 1 ) {
							var_3407 = var_3249
							dimtype var_3512, 3, var_3311, 0, 0, 0
							dim var_3513, 2
							CreateNoteWeight var_3310, var_3512, cnt, cnt, var_3513
							var_3514 = var_3513(0)
							var_3515 = var_3513(1)
							repeat var_3515 - var_3514, var_3514
								if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
									var_3380 = var_3512(cnt)
									var_3366 = GetICP_pit_edit(var_3310, cnt)
									var_3366 += int(var_3380 * var_3407)
									SetICP_pit_edit var_3310, cnt, var_3366
								}
							loop
							var_3330 = 1
						}
					loop
				}
			}
			if ( prm_1342 == 227 & var_3323 > 0 ) {
				var_3367 = var_3315
				if ( var_3315 == 0 ) {
					dimtype var_3368, 3, 12, 0, 0, 0
					var_3367 = analyzekey(var_3368, 1)
				}
				var_3361(0) = tltx("スケール", "Scale"), tltx("ピッチシフト量", "value")
				var_3362(0) = "", tltx("度", "degree")
				var_3363(0) = 3, 0
				var_3364(0) = double(var_3367), double(var_3250)
				var_3365(0) = "-\nC/Am\nDb/Bbm\nD/Bm\nEb/Cm\nE/C#m\nF/Dm\nGb/Ebm\nG/Em\nAb/Fm\nA/F#m\nBb/Gm\nB/G#m", ""
				ideprmsetting tltx("ピッチシフト(度数指定)", "pitch shift(degree)"), 2, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3367 = limit(int(var_3364(0)), 0, 12)
					var_3250 = limit(int(var_3364(1)), -15, 15)
					var_3369 = 0
					if ( var_3250 >= 1 ) {
						var_3369 = var_3250 - 1
					}
					if ( var_3250 <= (-1) ) {
						var_3369 = var_3250 + 1
					}
					dim var_3370, 8
					var_3371 = 0
					repeat 12
						if ( getscaleflg(60 + cnt, var_3367) == 1 ) {
							var_3370(var_3371) = cnvnn2pitch(60 + cnt, var_3314, var_3367, var_3316, var_3307)
							var_3371++
						}
					loop
					var_3370(7) = var_3370(0) + 1200
					dim var_3372, 8
					repeat 7
						var_3371 = (cnt + var_3369 + 70) \ 7
						var_3373 = (cnt + var_3369 + 70) / 7 - 10
						var_3372(cnt) = var_3370(var_3371) + 1200 * var_3373
					loop
					var_3372(7) = var_3372(0) + 1200
					dim var_3374, 1200
					repeat 7
						var_3375 = var_3370(cnt)
						var_3376 = var_3370(cnt + 1) - var_3375
						var_3377 = var_3372(cnt)
						var_3378 = var_3372(cnt + 1) - var_3377
						repeat var_3376
							var_3379 = var_3375 + cnt
							var_3380 = double(cnt) / var_3376
							var_3381 = var_3377 + int(var_3380 * var_3378)
							var_3374(var_3379 \ 1200) = var_3381 - var_3379
						loop
					loop
					var_3331 = GetIP_nNote(var_3310)
					repeat var_3331
						GetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
						if ( var_3335 == 1 ) {
							var_3407 = var_3374(var_3334 \ 1200)
							dimtype var_3512, 3, var_3311, 0, 0, 0
							dim var_3513, 2
							CreateNoteWeight var_3310, var_3512, cnt, cnt, var_3513
							var_3514 = var_3513(0)
							var_3515 = var_3513(1)
							repeat var_3515 - var_3514, var_3514
								if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
									var_3380 = var_3512(cnt)
									var_3366 = GetICP_pit_edit(var_3310, cnt)
									var_3366 += int(var_3380 * var_3407)
									SetICP_pit_edit var_3310, cnt, var_3366
								}
							loop
							var_3330 = 1
						}
					loop
				}
			}
			if ( prm_1342 == 228 & var_3323 > 0 ) {
				var_3402 = var_3315
				if ( var_3315 == 0 ) {
					dimtype var_3368, 3, 12, 0, 0, 0
					var_3402 = analyzekey(var_3368, 1)
				}
				var_3361(0) = tltx("スケール", "Scale")
				var_3362(0) = ""
				var_3363(0) = 3
				var_3364(0) = double(var_3402)
				var_3365(0) = "-\nC/Am\nDb/Bbm\nD/Bm\nEb/Cm\nE/C#m\nF/Dm\nGb/Ebm\nG/Em\nAb/Fm\nA/F#m\nBb/Gm\nB/G#m"
				ideprmsetting tltx("自動補正", "Auto correction"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3402 = limit(int(var_3364(0)), 0, 12)
					var_3331 = GetIP_nNote(var_3310)
					repeat var_3331
						GetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
						if ( var_3335 == 1 ) {
							var_3412 = snappitch(var_3334, var_3314, var_3402, var_3316, var_3307)
							var_3407 = var_3412 - var_3334
							dimtype var_3512, 3, var_3311, 0, 0, 0
							dim var_3513, 2
							CreateNoteWeight var_3310, var_3512, cnt, cnt, var_3513
							var_3514 = var_3513(0)
							var_3515 = var_3513(1)
							repeat var_3515 - var_3514, var_3514
								if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
									var_3380 = var_3512(cnt)
									var_3366 = GetICP_pit_edit(var_3310, cnt)
									var_3366 += int(var_3380 * var_3407)
									SetICP_pit_edit var_3310, cnt, var_3366
								}
							loop
							var_3330 = 1
						}
					loop
				}
			}
			if ( prm_1342 == 229 & var_3323 > 0 ) {
				var_3402 = var_3315
				if ( var_3315 == 0 ) {
					dimtype var_3368, 3, 12, 0, 0, 0
					var_3402 = analyzekey(var_3368, 1)
				}
				var_3361(0) = tltx("スケール", "Scale")
				var_3362(0) = ""
				var_3363(0) = 3
				var_3364(0) = double(var_3402)
				var_3365(0) = "-\nC/Am\nDb/Bbm\nD/Bm\nEb/Cm\nE/C#m\nF/Dm\nGb/Ebm\nG/Em\nAb/Fm\nA/F#m\nBb/Gm\nB/G#m"
				ideprmsetting tltx("ケロケロボイス", "Kerokero voice"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				if ( stat == 0 ) {
					var_3402 = limit(int(var_3364(0)), 0, 12)
					var_3331 = GetIP_nNote(var_3310)
					repeat var_3331
						GetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
						if ( var_3335 == 1 ) {
							var_3412 = snappitch(var_3334, var_3314, var_3402, var_3316, var_3307)
							repeat var_3333, var_3332
								if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
									SetICP_pit_edit var_3310, cnt, var_3412
								}
							loop
							var_3330 = 1
						}
					loop
				}
			}
			if ( prm_1342 == 230 & var_3323 > 0 ) {
				var_3457 = GetPrjItemNum(var_67(17))
				var_3458 = 0
				var_3459 = ""
				repeat var_3457
					if ( cnt == var_3307 ) {
						var_3459 += "---\n"
					}
					else {
						var_3460 = GetPrjItem(var_67(17), cnt)
						var_3461 = vslib_getii_filename(var_3460)
						var_3459 += getpath(var_3461, 8) + "\n"
					}
				loop
				var_3361(0) = tltx("ターゲットアイテム", "Target item")
				var_3362(0) = ""
				var_3363(0) = 5
				var_3364(0) = double(var_3458)
				var_3365(0) = var_3459
				ideprmsetting tltx("他のアイテムに合わせて補正", "Fitting to other item"), 1, var_3361, var_3362, var_3363, var_3364, var_3365
				var_3458 = limit(int(var_3364(0)), 0, var_3457 - 1)
				if ( stat == 0 & var_3458 != var_3307 ) {
					var_3331 = GetIP_nNote(var_3310)
					repeat var_3331
						GetIP_noteData var_3310, cnt, var_3332, var_3333, var_3334, var_3335
						if ( var_3335 == 1 ) {
							var_3464 = GetPrjItem(var_67(17), var_3458)
							var_3516 = convertctrlpnt(var_3307, var_3458, var_3332)
							var_3517 = convertctrlpnt(var_3307, var_3458, var_3332 + var_3333)
							var_3518 = 0.0
							var_3475 = 0.0
							repeat var_3517 - var_3516, var_3516
								if ( GetICP_fix_edit(var_3464, cnt) == 0 ) {
									var_3366 = GetICP_pit_edit(var_3464, cnt)
									var_3434 = vslib_geticp_dyn_edit(var_3464, cnt)
									var_3518 += var_3434 * var_3366
									var_3475 += var_3434
								}
							loop
							if ( var_3475 > 0.0 ) {
								var_3519 = int(var_3518 / var_3475)
								var_3407 = var_3519 - var_3334
								dimtype var_3512, 3, var_3311, 0, 0, 0
								dim var_3513, 2
								CreateNoteWeight var_3310, var_3512, cnt, cnt, var_3513
								var_3514 = var_3513(0)
								var_3515 = var_3513(1)
								repeat var_3515 - var_3514, var_3514
									if ( GetICP_fix_edit(var_3310, cnt) == 0 ) {
										var_3380 = var_3512(cnt)
										var_3366 = GetICP_pit_edit(var_3310, cnt)
										var_3366 += int(var_3380 * var_3407)
										SetICP_pit_edit var_3310, cnt, var_3366
									}
								loop
								var_3330 = 1
							}
						}
					loop
				}
			}
			if ( prm_1342 == 287 ) {
				var_3520 = GetIP_nLabel(var_3310)
				sdim var_3521, 64
				var_3522 = -1
				repeat var_3520
					GetIP_label var_3310, cnt, var_3523, var_3524, var_3521, var_3525
					if ( var_3525 != 0 ) {
						var_3522 = cnt
						break
					}
				loop
				if ( var_3522 >= 0 ) {
					sdim var_3526, 64, 3
					var_3527 = int(1000.0 * var_3523 / var_3312)
					var_3528 = int(1000.0 * var_3524 / var_3312)
					var_3529 = strf("%02d:%02d.%03d", var_3527 / 60000, var_3527 / 1000 \ 60, var_3527 \ 1000)
					var_3530 = strf("%02d:%02d.%03d", var_3528 / 60000, var_3528 / 1000 \ 60, var_3528 \ 1000)
					var_3361(0) = tltx("開始時間(M:S.MS)", "Start time(M:S.MS)"), tltx("終了時間(M:S.MS)", "End time(M:S.MS)"), tltx("ラベル名", "Label name")
					var_3362(0) = "", "", ""
					var_3363(0) = 6, 6, 7
					var_3526(0) = var_3529, var_3530, var_3521
					var_3365(0) = ""
					ideprmsetting tltx("ラベル編集", "Edit label"), 3, var_3361, var_3362, var_3363, var_3526, var_3365, 2
					if ( stat == 0 ) {
						sdim var_3531, 64
						repeat 2
							var_3531 = var_3526(cnt)
							var_3532 = 0
							repeat strlen(var_3531)
								var_3533 = peek(var_3531, cnt)
								if ( var_3533 == 58 | var_3533 == 46 ) {
									var_3534(var_3532) = cnt
									var_3532++
								}
							loop
							if ( var_3532 == 2 ) {
								var_3535 = int(strmid(var_3531, 0, var_3534(0)))
								var_3536 = int(strmid(var_3531, var_3534(0) + 1, var_3534(1) - var_3534(0) - 1))
								var_3537 = int(strmid(var_3531, var_3534(1) + 1, 3))
								var_3538 = (var_3535 * 60 + var_3536) * 1000 + var_3537
								var_3344 = int(double(var_3538) * var_3312 / 1000)
								var_3344 = limit(var_3344, 0, var_3311)
							}
							else {
								var_3344 = 0
							}
							if ( cnt == 0 ) {
								var_3523 = var_3344
							}
							else {
								var_3524 = var_3344
							}
						loop
						if ( var_3523 > var_3524 ) {
							var_3388 = var_3523
							var_3523 = var_3524
							var_3524 = var_3388
						}
						var_3521 = var_3526(2)
						SetIP_label var_3310, var_3522, var_3523, var_3524, var_3521, var_3525
						SortIP_label var_3310
						var_3330 = 1
					}
				}
			}
			if ( prm_1342 == 288 ) {
				var_3520 = GetIP_nLabel(var_3310)
				sdim var_3521, 64
				repeat var_3520
					var_3479 = var_3520 - 1 - cnt
					GetIP_label var_3310, var_3479, var_3523, var_3524, var_3521, var_3525
					if ( var_3525 != 0 ) {
						DelIP_label var_3310, var_3479
						var_3330 = 1
						var_67(251) = 1
					}
				loop
			}
			if ( var_3330 == 1 ) {
				SetNotePitch var_3310
				oneditproject
			}
			setidealldrawflg
			setidewindowtitle ""
		}
	}
	return
*label_824
	goto *label_826
#defcfunc convertctrlpnt int prm_1343, int prm_1344, int prm_1345
	var_3539 = GetPrjItem(var_67(17), prm_1343)
	var_3540 = GetPrjItem(var_67(17), prm_1344)
	var_3541 = GetII_nCtrlPnt(var_3539)
	var_3542 = GetII_nCtrlPnt(var_3540)
	var_3543 = GetII_ctrlPntPs(var_3539)
	var_3544 = GetII_sampFreq(var_3539)
	var_3545 = double(prm_1345) / var_3543
	var_3546 = vslib_getstretchedtsec(var_3539, var_3545, var_3547)
	var_3546 += double(vslib_getprjitemoffset(var_67(17), prm_1343)) / var_3544
	var_3546 -= double(vslib_getprjitemoffset(var_67(17), prm_1344)) / var_3544
	var_3548 = double(GetII_editSample(var_3540)) / var_3544
	var_3546 = limitf(var_3546, 0.0, var_3548)
	var_3545 = vslib_getstretchorgsec(var_3540, var_3546, var_3547)
	var_3549 = limit(int(var_3545 * var_3543), 0, var_3542 - 1)
	return var_3549
*label_826
	goto *label_835
#deffunc ideprmsettingopt double prm_1346, int prm_1347, int prm_1348, int prm_1349
	var_3550 = prm_1346
	var_3551 = prm_1347
	var_3552 = prm_1348
	var_3553 = prm_1349
	return
#deffunc ideprmsetting str prm_1350, int prm_1351, array prm_1352, array prm_1353, array prm_1354, array prm_1355, array prm_1356, int prm_1357
	var_3554 = prm_1351
	screen_nomin 17, 320, 50 + 28 * var_3554, 2 | 4
	title prm_1350
	syscolor 15
	boxf
	var_3555 = "0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10"
	var_3556 = ""
	repeat 12
		var_3556 += getnotename(cnt, var_3551)
		if ( cnt != 11 ) {
			var_3556 += "\n"
		}
	loop
	sdim var_3557, 64, var_3554
	dim var_3558, var_3554
	dim var_3559, var_3554
	dim var_3560, var_3554
	dim var_3561, var_3554
	dim var_3562, var_3554
	repeat var_3554
		var_3563 = prm_1354(cnt)
		if ( 0 ) {
			var_3564++
		}
		if ( var_3563 == 0 | var_3564 ) {
			var_3564 = 0
			var_3557(cnt) = str(int(prm_1355(cnt)))
			goto *label_829
			var_3564++
		}
		if ( var_3563 == 1 | var_3564 ) {
			var_3564 = 0
			if ( prm_1355(cnt) == 0.0 ) {
				var_3557(cnt) = "-inf"
			}
			else {
				var_3557(cnt) = strf("%3.1f", 20.0 * logf(prm_1355(cnt)) / logf(10.0))
			}
			goto *label_829
			var_3564++
		}
		if ( var_3563 == 2 | var_3564 ) {
			var_3564 = 0
			var_3557(cnt) = strf("%4.2f", prm_1355(cnt))
			goto *label_829
			var_3564++
		}
		if ( var_3563 == 3 | var_3564 ) {
			var_3564 = 0
			var_3564++
		}
		if ( var_3563 == 5 | var_3564 ) {
			var_3564 = 0
			var_3558(cnt) = int(prm_1355(cnt))
			goto *label_829
			var_3564++
		}
		if ( var_3563 == 4 | var_3564 ) {
			var_3564 = 0
			var_3565 = int(prm_1355(cnt))
			var_3566 = cnvpitch2nn(var_3565, var_3550, var_3551, var_3552, var_3553)
			var_3567 = cnvnn2pitch(var_3566, var_3550, var_3551, var_3552, var_3553)
			var_3559(cnt) = var_3566 \ 12
			var_3560(cnt) = (var_3566 - 12) / 12
			var_3561(cnt) = var_3565 - var_3567
			goto *label_829
			var_3564++
		}
		if ( var_3563 == 6 | var_3564 ) {
			var_3564 = 0
			var_3564++
		}
		if ( var_3563 == 7 | var_3564 ) {
			var_3564 = 0
			var_3557(cnt) = prm_1355(cnt)
			goto *label_829
		}
*label_829
	loop
	syscolor 8
	setfont_normal
	objmode 2
	var_3568 = 10
	repeat var_3554
		pos 10, var_3568 + 4
		mes prm_1352(cnt)
		var_3563 = prm_1354(cnt)
		if ( 0 ) {
			var_3564++
		}
		if ( var_3563 == 0 | var_3564 ) {
			var_3564 = 0
			var_3564++
		}
		if ( var_3563 == 1 | var_3564 ) {
			var_3564 = 0
			var_3564++
		}
		if ( var_3563 == 2 | var_3564 ) {
			var_3564 = 0
			pos 140, var_3568
			input var_3557(cnt), 60, 22
			var_3562(cnt) = stat
			if ( cnt == prm_1357 ) {
				var_3569 = stat
			}
			pos 205, var_3568 + 4
			mes prm_1353(cnt)
			var_3568 += 28
			goto *label_830
			var_3564++
		}
		if ( var_3563 == 3 | var_3564 ) {
			var_3564 = 0
			pos 140, var_3568
			objsize 120, 22
			combox var_3558(cnt), 100, prm_1356(cnt)
			if ( cnt == prm_1357 ) {
				var_3569 = stat
			}
			pos 225, var_3568 + 4
			mes prm_1353(cnt)
			var_3568 += 28
			goto *label_830
			var_3564++
		}
		if ( var_3563 == 4 | var_3564 ) {
			var_3564 = 0
			pos 120, var_3568
			objsize 45, 22
			combox var_3559(cnt), 100, var_3556
			pos 175, var_3568
			objsize 45, 22
			combox var_3560(cnt), 100, var_3555
			pos 230, var_3568
			input var_3561(cnt), 45, 22
			pos 285, var_3568 + 4
			mes tltx("セント", "cent")
			var_3568 += 28
			goto *label_830
			var_3564++
		}
		if ( var_3563 == 5 | var_3564 ) {
			var_3564 = 0
			pos 140, var_3568
			objsize 170, 22
			combox var_3558(cnt), 100, prm_1356(cnt)
			if ( cnt == prm_1357 ) {
				var_3569 = stat
			}
			var_3568 += 28
			goto *label_830
			var_3564++
		}
		if ( var_3563 == 6 | var_3564 ) {
			var_3564 = 0
			pos 140, var_3568
			input var_3557(cnt), 100, 22
			var_3562(cnt) = stat
			if ( cnt == prm_1357 ) {
				var_3569 = stat
			}
			var_3568 += 28
			goto *label_830
			var_3564++
		}
		if ( var_3563 == 7 | var_3564 ) {
			var_3564 = 0
			pos 140, var_3568
			input var_3557(cnt), 170, 22
			var_3562(cnt) = stat
			if ( cnt == prm_1357 ) {
				var_3569 = stat
			}
			var_3568 += 28
			goto *label_830
		}
*label_830
	loop
	var_3568 += 5
	pos 140, var_3568
	objsize 80, 22
	button gosub tltx("OK", "OK"), *label_833
	pos 230, var_3568
	button gosub tltx("キャンセル", "Cancel"), *label_832
	selectinputtext var_3569
	waitobjectupdate
	gsel 17, 2
	var_3570 = -1
	var_3571 = getkeyflg(27)
	var_3572 = getkeyflg(13)
	onkey gosub *label_834
	repeat
		gsel 17
		var_3573 = var_3571
		var_3574 = var_3572
		var_3571 = getkeyflg(27)
		var_3572 = getkeyflg(13)
		var_3575 = getkeyflg(244)
		if ( var_67(20) == 17 ) {
			var_67(20) = 0
			var_3570 = 1
		}
		if ( getactivewindow() == 17 ) {
			if ( var_3574 == 0 & var_3572 == 1 & var_3575 == 0 ) {
				var_3570 = 0
			}
			if ( var_3573 == 0 & var_3571 == 1 ) {
				var_3570 = 1
			}
		}
		if ( var_3570 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	onkey 0
	gsel 17, -1
	gsel 12
	repeat var_3554
		var_3563 = prm_1354(cnt)
		if ( 0 ) {
			var_3564++
		}
		if ( var_3563 == 0 | var_3564 ) {
			var_3564 = 0
			if ( vartype(prm_1355) == vartype("int") ) {
				prm_1355(cnt) = int(var_3557(cnt))
			}
			else {
				prm_1355(cnt) = double(var_3557(cnt))
			}
			goto *label_831
			var_3564++
		}
		if ( var_3563 == 1 | var_3564 ) {
			var_3564 = 0
			if ( var_3557(cnt) == "-inf" | double(var_3557(cnt)) <= (-200.0) ) {
				prm_1355(cnt) = 0.0
			}
			else {
				prm_1355(cnt) = powf(10.0, double(var_3557(cnt)) / 20.0)
			}
			goto *label_831
			var_3564++
		}
		if ( var_3563 == 2 | var_3564 ) {
			var_3564 = 0
			prm_1355(cnt) = double(var_3557(cnt))
			goto *label_831
			var_3564++
		}
		if ( var_3563 == 3 | var_3564 ) {
			var_3564 = 0
			var_3564++
		}
		if ( var_3563 == 5 | var_3564 ) {
			var_3564 = 0
			prm_1355(cnt) = double(var_3558(cnt))
			goto *label_831
			var_3564++
		}
		if ( var_3563 == 4 | var_3564 ) {
			var_3564 = 0
			var_3566 = (var_3560(cnt) + 1) * 12 + var_3559(cnt)
			var_3565 = cnvnn2pitch(var_3566, var_3550, var_3551, var_3552, var_3553) + var_3561(cnt)
			prm_1355(cnt) = double(var_3565)
			goto *label_831
			var_3564++
		}
		if ( var_3563 == 6 | var_3564 ) {
			var_3564 = 0
			var_3564++
		}
		if ( var_3563 == 7 | var_3564 ) {
			var_3564 = 0
			prm_1355(cnt) = var_3557(cnt)
			goto *label_831
		}
*label_831
	loop
	return var_3570
*label_832
	var_3570 = 1
	return
*label_833
	var_3570 = 0
	return
*label_834
	if ( iparam == 13 & getactivewindow() == 17 ) {
		objsel -1
		repeat var_3554
			if ( var_3562(cnt) != 0 & var_3562(cnt) == stat ) {
				gosub *label_833
			}
		loop
	}
	return
*label_835
	goto *label_839
#defcfunc analyzefixflg
	var_3576 = limit(var_67(270), 0, var_67(269) - 1)
	var_3577 = getidetabitemnum(var_3576)
	var_3578 = GetPrjItem(var_67(17), var_3577)
	var_3579 = GetII_nCtrlPnt(var_3578)
	var_3580 = var_340(var_3576 * 51 + 25)
	var_3581 = var_340(var_3576 * 51 + 26)
	var_3582 = var_3581 - var_3580
	GetIP_fixThrDyn var_3578, var_3583, var_3584
	if ( var_3583 == 0 & var_3584 == 0 ) {
		var_3583 = -40
		var_3584 = 0
	}
	var_3585 = var_3583
	var_3586 = var_3584
	var_3587 = var_3583 - 1
	var_3588 = var_3584 - 1
	dim var_3589, var_3579
	repeat var_3579
		var_3589(cnt) = GetICP_fix_edit(var_3578, cnt)
	loop
	screen_nomin 17, 320, 200, 2 | 4
	title tltx("ピッチ有無検出", "Detect pitch flag")
	syscolor 15
	boxf
	syscolor 8
	setfont_normal
	objmode 2
	pos 10, 10 + 4
	mes tltx("音量閾値", "Volume threshold")
	pos 90, 10
	trackbox 220, 30, 1
	var_3590 = stat
	trackrng -80, 0
	trackmrk 4, 2
	trackpos var_3583
	pos 90, 40
	mes tltx("音量が小さい\n部分も検出", "Small")
	pos 220, 40
	mes tltx("音量が大きい\n部分のみ検出", "Large")
	pos 10, 80 + 4
	mes tltx("雑音閾値", "Noise threshold")
	pos 90, 80
	trackbox 220, 30, 1
	var_3591 = stat
	trackrng 0, 10000
	trackmrk 1000, 2
	trackpos var_3584
	pos 90, 120
	mes tltx("雑音が含まれる\n部分も検出", "Noisy")
	pos 220, 120
	mes tltx("雑音が含まれない\n部分のみ検出", "Clear")
	var_3592 = 170
	pos 140, var_3592
	objsize 80, 22
	button gosub tltx("OK", "OK"), *label_838
	pos 230, var_3592
	button gosub tltx("キャンセル", "Cancel"), *label_837
	waitobjectupdate
	gsel 17, 2
	var_3593 = -1
	var_3594 = getkeyflg(27)
	var_3595 = getkeyflg(13)
	repeat
		gsel 17
		var_3596 = var_3594
		var_3597 = var_3595
		var_3594 = getkeyflg(27)
		var_3595 = getkeyflg(13)
		var_3598 = getkeyflg(244)
		if ( var_67(20) == 17 ) {
			var_67(20) = 0
			var_3593 = 1
		}
		if ( getactivewindow() == 17 ) {
			if ( var_3597 == 0 & var_3595 == 1 & var_3598 == 0 ) {
				var_3593 = 0
			}
			if ( var_3596 == 0 & var_3594 == 1 ) {
				var_3593 = 1
			}
		}
		if ( var_3593 != (-1) ) {
			break
		}
		sel_trackbox var_3590
		trackpos 0, 1
		var_3583 = stat
		sel_trackbox var_3591
		trackpos 0, 1
		var_3584 = stat
		if ( var_3583 != var_3587 | var_3584 != var_3588 ) {
			SetIP_fixThrDyn var_3578, limit(var_3583, -80, -1), limit(var_3584, 0, 10000)
			var_3587 = var_3583
			var_3588 = var_3584
			func_13 var_3578, var_3580, var_3581
			var_67(249) = 1
			drawidegraphpanel
			updateidewindow
		}
		waitinputpolling
	loop
	gsel 17, -1
	clrobj var_3590
	clrobj var_3591
	gsel 12
	if ( var_3593 == 0 ) {
		SetIP_fixThrDyn var_3578, limit(var_3583, -80, -1), limit(var_3584, 0, 10000)
		var_3599 = 1
	}
	else {
		SetIP_fixThrDyn var_3578, var_3585, var_3586
		repeat var_3579
			SetICP_fix_edit var_3578, cnt, var_3589(cnt)
		loop
		var_3599 = 0
	}
	return var_3599
*label_837
	var_3593 = 1
	return
*label_838
	var_3593 = 0
	return
*label_839
	goto *label_843
#defcfunc detectattack
	var_3600 = limit(var_67(270), 0, var_67(269) - 1)
	var_3601 = getidetabitemnum(var_3600)
	var_3602 = GetPrjItem(var_67(17), var_3601)
	var_3603 = GetIP_attackThr(var_3602)
	if ( var_3603 == 0 ) {
		var_3603 = 60
	}
	var_3604 = var_3603
	var_3605 = var_3603 - 1
	var_3606 = GetII_nTctrlPrm(var_3602)
	dimtype var_3607, 3, var_3606, 0, 0, 0
	dimtype var_3608, 3, var_3606, 0, 0, 0
	var_3609 = 0.0
	var_3610 = 0.0
	repeat var_3606 - 2, 1
		GetIP_tctrlTime var_3602, cnt, var_3610, var_3609
		var_3607(cnt) = var_3610
		var_3608(cnt) = var_3609
	loop
	screen_nomin 17, 320, 130, 2 | 4
	title tltx("アタック検出", "Detect attack")
	syscolor 15
	boxf
	syscolor 8
	setfont_normal
	objmode 2
	pos 10, 10 + 4
	mes tltx("閾値", "threshold")
	pos 90, 10
	trackbox 220, 30, 1
	var_3611 = stat
	trackrng 1, 100
	trackmrk 10, 2
	trackpos var_3603
	pos 90, 40
	mes tltx("アタックが弱い\n部分も検出", "Weak")
	pos 220, 40
	mes tltx("アタックが強い\n部分のみ検出", "Strong")
	var_3612 = 100
	pos 140, var_3612
	objsize 80, 22
	button gosub tltx("OK", "OK"), *label_842
	pos 230, var_3612
	button gosub tltx("キャンセル", "Cancel"), *label_841
	waitobjectupdate
	gsel 17, 2
	var_3613 = -1
	var_3614 = getkeyflg(27)
	var_3615 = getkeyflg(13)
	repeat
		gsel 17
		var_3616 = var_3614
		var_3617 = var_3615
		var_3614 = getkeyflg(27)
		var_3615 = getkeyflg(13)
		var_3618 = getkeyflg(244)
		if ( var_67(20) == 17 ) {
			var_67(20) = 0
			var_3613 = 1
		}
		if ( getactivewindow() == 17 ) {
			if ( var_3617 == 0 & var_3615 == 1 & var_3618 == 0 ) {
				var_3613 = 0
			}
			if ( var_3616 == 0 & var_3614 == 1 ) {
				var_3613 = 1
			}
		}
		if ( var_3613 != (-1) ) {
			break
		}
		sel_trackbox var_3611
		trackpos 0, 1
		var_3603 = stat
		if ( var_3603 != var_3605 ) {
			SetIP_attackThr var_3602, limit(var_3603, 1, 100)
			var_3605 = var_3603
			DetectAttackTctrl var_3602, 1
			var_67(150) = 1
			var_67(249) = 1
			drawidegraphpanel
			updateidewindow
		}
		waitinputpolling
	loop
	gsel 17, -1
	clrobj var_3611
	gsel 12
	if ( var_3613 == 0 ) {
		SetIP_attackThr var_3602, limit(var_3603, 1, 100)
		var_3619 = 1
	}
	else {
		SetIP_attackThr var_3602, limit(var_3604, 1, 100)
		var_3620 = GetII_nTctrlPrm(var_3602)
		repeat var_3620 - 2
			var_3621 = var_3620 - 2 - cnt
			DelIP_tctrlTime var_3602, var_3621
		loop
		repeat var_3606 - 2, 1
			AddIP_tctrlTime var_3602, var_3607(cnt), var_3608(cnt)
		loop
		UpdateRhythmTimeCtrl var_3602
		var_3619 = 0
	}
	return var_3619
*label_841
	var_3613 = 1
	return
*label_842
	var_3613 = 0
	return
*label_843
	goto *label_852
#deffunc createidewindow
	GetSystemMetrics 15
	var_3622 = stat
	if ( var_67(203) >= 400 & var_67(204) >= 300 ) {
		var_67(201) = var_67(203)
		var_67(202) = var_67(204)
	}
	else {
		var_67(201) = 820
		var_67(202) = 500
	}
	screen_max 12, 0, 0, 2, var_67(199), var_67(200), var_67(201), var_67(202) + var_3622
	title "VocalShifter"
	syscolor 8
	setfont_normal
	objmode 2
	color 32, 32, 48
	var_3623 = CreateSolidBrush(ginfo(18) << 16 | ginfo(17) << 8 | ginfo(16))
	oncmd gosub *label_851, 307
	createidewindowmenu
	updateidewindowmenu
	sdim var_3624, 64
	sdim var_3625, 64
	pos 110, 39
	input var_3624, 80, 20
	var_2164 = stat
	var_3626 = objinfo(var_2164, 2)
	SetWindowLongA objinfo(var_2164, 2), -20, 0
	func_37 objinfo(var_2164, 2), 2 | 1 | 4 | 32
	pos 210, 39
	input var_3625, 80, 20
	var_2165 = stat
	var_3627 = objinfo(var_2165, 2)
	SetWindowLongA objinfo(var_2165, 2), -20, 0
	func_37 objinfo(var_2165, 2), 2 | 1 | 4 | 32
	color 32, 32, 48
	boxf
	resizeidewindow 1
	oncmd gosub *label_938, 273
	oncmd gosub *label_845, 522
	oncmd gosub *label_846, 526
	return
	dupptr var_3628, lparam, 4 * 10, vartype("int")
	var_3628(6) = limit(800, 0, ginfo(20))
	var_3628(7) = limit(550, 0, ginfo(21))
	return
*label_845
	var_3629 = wparam / 65536
	return
*label_846
	var_3630 = wparam / 65536
	return
#defcfunc getidevwheel
	var_3631 = var_3629
	var_3629 = 0
	return var_3631
#defcfunc getidehwheel
	var_3632 = var_3630
	var_3630 = 0
	return var_3632
#defcfunc getselareastr int prm_1375
	if ( prm_1375 == 0 ) {
		return var_3624
	}
	else {
		return var_3625
	}
#deffunc setselareastr int prm_1376, str prm_1377
	if ( prm_1376 == 0 ) {
		var_3624 = prm_1377
		gsel 12
		objprm var_2164, var_3624
	}
	else {
		var_3625 = prm_1377
		gsel 12
		objprm var_2165, var_3625
	}
*label_851
	var_3633 = ginfo(3)
	gsel 12
	if ( lparam == var_3626 | lparam == var_3627 ) {
		color 208, 208, 208
		SetTextColor wparam, ginfo(18) << 16 | ginfo(17) << 8 | ginfo(16)
		color 32, 32, 48
		SetBkColor wparam, ginfo(18) << 16 | ginfo(17) << 8 | ginfo(16)
		gsel var_3633
		return var_3623
	}
	gsel var_3633
	return 0
*label_852
	goto *label_854
#deffunc setidewindowtitle str prm_1378
	var_3634 = ginfo(3)
	gsel 12
	if ( prm_1378 != "" ) {
		title "VocalShifter" + " - " + prm_1378
	}
	else {
		if ( var_67(17) != 0 & var_67(269) > 0 ) {
			var_3635 = getidetabitemnum(var_67(270))
			sdim var_3636, 260
			var_3637 = GetPrjItem(var_67(17), var_3635)
			var_3636 = vslib_getii_filename(var_3637)
			var_3636 = getpath(var_3636, 8)
			title "VocalShifter" + " - " + var_3636
		}
		else {
			title "VocalShifter"
		}
	}
	gsel var_3634
	return
*label_854
	goto *label_858
#deffunc createidewindowmenu
	CreatePopupMenu
	var_3638 = stat
	AppendMenuA var_3638, 0, 183, tltx("アイテムをWaveファイルに出力(&E)...", "Export item...")
	AppendMenuA var_3638, 0, 185, tltx("選択範囲をWaveファイルに出力(&S)...", "Export selection range...")
	CreatePopupMenu
	var_3639 = stat
	AppendMenuA var_3639, 0, 150, tltx("0(無効)", "0(Disable)")
	AppendMenuA var_3639, 0, 151, tltx("1(弱い)", "1(Weak)")
	AppendMenuA var_3639, 0, 152, tltx("2", "2")
	AppendMenuA var_3639, 0, 153, tltx("3", "3")
	AppendMenuA var_3639, 0, 154, tltx("4", "4")
	AppendMenuA var_3639, 0, 155, tltx("5(強い)", "5(Strong)")
	CreatePopupMenu
	var_3640 = stat
	AppendMenuA var_3640, 0, 23, tltx("元に戻す(&U)", "Undo")
	AppendMenuA var_3640, 0, 24, tltx("やり直し(&R)", "Redo")
	AppendMenuA var_3640, 2048, 0, ""
	AppendMenuA var_3640, 0, 194, tltx("コピー(&C)", "Copy")
	AppendMenuA var_3640, 0, 195, tltx("貼り付け(&P)", "Paste")
	AppendMenuA var_3640, 2048, 0, ""
	AppendMenuA var_3640, 0, 187, tltx("すべて選択(&A)", "Select all")
	AppendMenuA var_3640, 0, 190, tltx("選択解除(&L)", "Deselect")
	AppendMenuA var_3640, 0, 180, tltx("選択範囲にラベルを付ける(&B)", "Label the selected section")
	AppendMenuA var_3640, 0, 196, tltx("小節オフセット設定(&O)", "Set measure offset")
	AppendMenuA var_3640, 2048, 0, ""
	AppendMenuA var_3640, 0, 146, tltx("選択ツール(&S)", "Selection tool")
	AppendMenuA var_3640, 0, 147, tltx("ペンツール(&E)", "Pen tool")
	AppendMenuA var_3640, 0, 148, tltx("直線ツール(&I)", "Line tool")
	AppendMenuA var_3640, 0, 149, tltx("ノート編集ツール(&T)", "Note tool")
	AppendMenuA var_3640, 2048, 0, ""
	AppendMenuA var_3640, 0, 139, tltx("半音単位で描画(&N)", "Draw in semitone increments")
	AppendMenuA var_3640, 16, var_3639, tltx("ペンツール手振れ補正(&Z)", "Pen tool stabilization")
	if ( var_67(66) == 1 ) {
		AppendMenuA var_3640, 0, 179, tltx("スクリーンショット(&H)...", "Screen shot...")
	}
	CreatePopupMenu
	var_3641 = stat
	AppendMenuA var_3641, 0, 129, tltx("横に拡大(&E)", "Expand horizontally")
	AppendMenuA var_3641, 0, 130, tltx("横に縮小(&C)", "Contract horizontally")
	AppendMenuA var_3641, 0, 131, tltx("1sample/pixel(&1)", "1sample/pixel")
	AppendMenuA var_3641, 0, 132, tltx("縦に拡大(&X)", "Expand vertically")
	AppendMenuA var_3641, 0, 133, tltx("縦に縮小(&N)", "Contract vertically")
	AppendMenuA var_3641, 2048, 0, ""
	AppendMenuA var_3641, 0, 61, tltx("小節単位(&M)", "Measure grid")
	AppendMenuA var_3641, 0, 62, tltx("秒単位(&S)", "Second grid")
	AppendMenuA var_3641, 0, 157, tltx("トラック内時間(&T)", "Track time")
	AppendMenuA var_3641, 0, 158, tltx("アイテム内時間(&I)", "Item time")
	AppendMenuA var_3641, 2048, 0, ""
	AppendMenuA var_3641, 0, 138, tltx("オートスクロール(&A)", "Auto scroll")
	AppendMenuA var_3641, 0, 161, tltx("シンクロスクロール(&Y)", "Synchronization scroll")
	AppendMenuA var_3641, 0, 145, tltx("クリップボードのデータ表示(&B)", "Show clip board data")
	AppendMenuA var_3641, 0, 144, tltx("パラメータのポップアップ表示(&P)", "Popup parameter")
	AppendMenuA var_3641, 0, 162, tltx("ラベル表示(&L)", "Show label")
	AppendMenuA var_3641, 0, 163, tltx("周波数スケール表示(&F)", "Show frequency scale")
	AppendMenuA var_3641, 0, 164, tltx("VOL,DYNを対数で表示(&V)", "Show VOL,DYN on logarithmic axis")
	AppendMenuA var_3641, 0, 165, tltx("Wave波形を対数で表示(&U)", "Show wave on logarithmic axis")
	AppendMenuA var_3641, 2048, 0, ""
	AppendMenuA var_3641, 0, 140, tltx("レイヤー表示(&R)", "Display layers")
	AppendMenuA var_3641, 0, 141, tltx("Wave波形をレイヤー表示(&W)", "Display wave on layers")
	AppendMenuA var_3641, 0, 142, tltx("ノートをレイヤー表示(&O)", "Display note on layers")
	AppendMenuA var_3641, 0, 143, tltx("編集前グラフをレイヤー表示(&G)", "Display original graph on layers")
	AppendMenuA var_3641, 2048, 0, ""
	AppendMenuA var_3641, 0, 166, tltx("スケール上の音階を強調表示(&D)", "Display scale")
	CreatePopupMenu
	var_3642 = stat
	AppendMenuA var_3642, 0, 42, tltx("再生位置を左に移動(&L)", "Seek backward")
	AppendMenuA var_3642, 0, 43, tltx("停止(&S)", "Stop")
	AppendMenuA var_3642, 0, 44, tltx("最初から再生(&Y)", "Playback from the beginning")
	AppendMenuA var_3642, 0, 45, tltx("再生/停止(&P)", "Start/Stop playing")
	AppendMenuA var_3642, 0, 48, tltx("再生位置を右に移動(&R)", "Seek forward")
	AppendMenuA var_3642, 2048, 0, ""
	AppendMenuA var_3642, 0, 197, tltx("前の小節へ移動(&V)", "Seek backward measure")
	AppendMenuA var_3642, 0, 198, tltx("次の小節へ移動(&N)", "Seek forward measure")
	AppendMenuA var_3642, 0, 199, tltx("指定小節へ移動(&I)", "Seek measure")
	AppendMenuA var_3642, 2048, 0, ""
	AppendMenuA var_3642, 0, 59, tltx("メトロノーム", "Metronome")
	AppendMenuA var_3642, 0, 58, tltx("リピート再生(&E)", "Repeat")
	AppendMenuA var_3642, 0, 191, tltx("選択区間をリピート区間に設定(&A)", "Set repeat section")
	AppendMenuA var_3642, 0, 192, tltx("選択区間をリピート再生(&T)", "Repeat playback the selected section")
	AppendMenuA var_3642, 0, 193, tltx("リピート区間解除(&C)", "Clear repeat section")
	AppendMenuA var_3642, 0, 159, tltx("アイテムソロ再生(&O)", "Solo")
	AppendMenuA var_3642, 0, 160, tltx("再生時間をアイテム内に制限(&M)", "Limit play time in the item")
	CreatePopupMenu
	var_3643 = stat
	AppendMenuA var_3643, 0, 167, tltx("アイテム設定(&S)...", "Item settings...")
	AppendMenuA var_3643, 0, 168, tltx("アイテムEQ設定(&Q)...", "Item EQ settings...")
	AppendMenuA var_3643, 0, 169, tltx("アイテムHEQ設定(&H)...", "Item HEQ settings...")
	AppendMenuA var_3643, 0, 170, tltx("アイテムのプロパティ(&Y)", "Item properties")
	AppendMenuA var_3643, 2048, 0, ""
	AppendMenuA var_3643, 0, 171, tltx("キー解析(&K)", "Analyze key")
	AppendMenuA var_3643, 0, 172, tltx("音域解析(&R)", "Analyze pitch range")
	AppendMenuA var_3643, 0, 173, tltx("基準周波数解析(&F)", "Analyze base frequency")
	AppendMenuA var_3643, 0, 174, tltx("スペクトラム解析(&P)", "Analyze spectrum")
	AppendMenuA var_3643, 0, 175, tltx("スペクトラム解析データ削除(&D)", "Delete spectrum data")
	AppendMenuA var_3643, 2048, 0, ""
	AppendMenuA var_3643, 0, 176, tltx("ノート自動検出(&A)", "Detect notes")
	AppendMenuA var_3643, 0, 177, tltx("ノートのインポート(&I)...", "Import notes...")
	AppendMenuA var_3643, 0, 178, tltx("ノートのエクスポート(&E)...", "Export notes...")
	AppendMenuA var_3643, 2048, 0, ""
	AppendMenuA var_3643, 0, 181, tltx("ラベルのインポート(&L)...", "Import labels...")
	AppendMenuA var_3643, 0, 182, tltx("ラベルのエクスポート(&B)...", "Export labels...")
	CreatePopupMenu
	var_3644 = stat
	AppendMenuA var_3644, 0, 27, tltx("設定(&S)...", "Settings...")
	if ( var_67(63) == 1 ) {
		AppendMenuA var_3644, 0, 28, tltx("拡張設定(&A)...", "Advanced settings...")
	}
	if ( var_67(80) == 1 ) {
		AppendMenuA var_3644, 0, 29, tltx("エンジン設定(&E)...", "Engine settings...")
	}
	AppendMenuA var_3644, 0, 30, tltx("グラフの色設定(&O)...", "Color settings...")
	AppendMenuA var_3644, 0, 31, tltx("ショートカットキー設定(&K)...", "Shortcut key settings...")
	AppendMenuA var_3644, 0, 32, tltx("スクロール設定(&C)...", "Scroll settings...")
	AppendMenuA var_3644, 0, 33, tltx("ボリュームコントロールを開く(&V)", "Open volume control")
	CreatePopupMenu
	var_3645 = stat
	AppendMenuA var_3645, 0, 36, tltx("バージョン情報(&I)", "About")
	CreateMenu
	var_3646 = stat
	AppendMenuA var_3646, 16, var_3638, tltx("ファイル(&F)", "File")
	AppendMenuA var_3646, 16, var_3640, tltx("編集(&E)", "Edit")
	AppendMenuA var_3646, 16, var_3641, tltx("表示(&V)", "View")
	AppendMenuA var_3646, 16, var_3642, tltx("トランスポート(&R)", "Transport")
	AppendMenuA var_3646, 16, var_3643, tltx("アイテム(&I)", "Item")
	AppendMenuA var_3646, 16, var_3644, tltx("オプション(&O)", "Options")
	AppendMenuA var_3646, 16, var_3645, tltx("ヘルプ(&H)", "Help")
	SetMenu hwnd, var_3646
	DrawMenuBar hwnd
	return
#deffunc updateidewindowmenu
	var_3647 = ginfo(3)
	if ( var_67(185) == 0 ) {
		var_3648 = 8
	}
	else {
		var_3648 = 0
	}
	CheckMenuItem var_3640, 146, var_3648
	if ( var_67(185) == 1 ) {
		var_3648 = 8
	}
	else {
		var_3648 = 0
	}
	CheckMenuItem var_3640, 147, var_3648
	if ( var_67(185) == 2 ) {
		var_3648 = 8
	}
	else {
		var_3648 = 0
	}
	CheckMenuItem var_3640, 148, var_3648
	if ( var_67(185) == 3 ) {
		var_3648 = 8
	}
	else {
		var_3648 = 0
	}
	CheckMenuItem var_3640, 149, var_3648
	var_3648 = 8 * var_67(180)
	CheckMenuItem var_3640, 139, var_3648
	CheckMenuItem var_3639, 150, 0
	CheckMenuItem var_3639, 151, 0
	CheckMenuItem var_3639, 152, 0
	CheckMenuItem var_3639, 153, 0
	CheckMenuItem var_3639, 154, 0
	CheckMenuItem var_3639, 155, 0
	var_3649 = var_67(192)
	if ( 0 ) {
		var_3650++
	}
	if ( var_3649 == 0 | var_3650 ) {
		var_3650 = 0
		CheckMenuItem var_3639, 150, 8
		goto *label_857
		var_3650++
	}
	if ( var_3649 == 1 | var_3650 ) {
		var_3650 = 0
		CheckMenuItem var_3639, 151, 8
		goto *label_857
		var_3650++
	}
	if ( var_3649 == 2 | var_3650 ) {
		var_3650 = 0
		CheckMenuItem var_3639, 152, 8
		goto *label_857
		var_3650++
	}
	if ( var_3649 == 3 | var_3650 ) {
		var_3650 = 0
		CheckMenuItem var_3639, 153, 8
		goto *label_857
		var_3650++
	}
	if ( var_3649 == 4 | var_3650 ) {
		var_3650 = 0
		CheckMenuItem var_3639, 154, 8
		goto *label_857
		var_3650++
	}
	if ( var_3649 == 5 | var_3650 ) {
		var_3650 = 0
		CheckMenuItem var_3639, 155, 8
		goto *label_857
	}
*label_857
	if ( var_67(98) == 1 ) {
		var_3648 = 8
	}
	else {
		var_3648 = 0
	}
	CheckMenuItem var_3641, 61, var_3648
	if ( var_67(98) == 0 ) {
		var_3648 = 8
	}
	else {
		var_3648 = 0
	}
	CheckMenuItem var_3641, 62, var_3648
	if ( var_67(188) == 0 ) {
		var_3648 = 8
	}
	else {
		var_3648 = 0
	}
	CheckMenuItem var_3641, 157, var_3648
	if ( var_67(188) == 1 ) {
		var_3648 = 8
	}
	else {
		var_3648 = 0
	}
	CheckMenuItem var_3641, 158, var_3648
	var_3648 = 8 * var_67(179)
	CheckMenuItem var_3641, 138, var_3648
	var_3648 = 8 * var_67(181)
	CheckMenuItem var_3641, 140, var_3648
	var_3648 = 8 * var_67(182)
	CheckMenuItem var_3641, 141, var_3648
	var_3648 = 8 * var_67(183)
	CheckMenuItem var_3641, 142, var_3648
	var_3648 = 8 * var_67(184)
	CheckMenuItem var_3641, 143, var_3648
	var_3648 = 8 * var_67(187)
	CheckMenuItem var_3641, 145, var_3648
	var_3648 = 8 * var_67(186)
	CheckMenuItem var_3641, 144, var_3648
	var_3648 = 8 * var_67(190)
	CheckMenuItem var_3641, 161, var_3648
	var_3648 = 8 * var_67(191)
	CheckMenuItem var_3641, 162, var_3648
	var_3648 = 8 * var_67(193)
	CheckMenuItem var_3641, 163, var_3648
	var_3648 = 8 * var_67(194)
	CheckMenuItem var_3641, 164, var_3648
	var_3648 = 8 * var_67(195)
	CheckMenuItem var_3641, 165, var_3648
	var_3648 = 8 * var_67(38)
	CheckMenuItem var_3641, 166, var_3648
	var_3648 = 8 * var_67(33)
	CheckMenuItem var_3642, 59, var_3648
	var_3648 = 8 * var_67(97)
	CheckMenuItem var_3642, 58, var_3648
	var_3648 = 8 * var_67(189)
	CheckMenuItem var_3642, 159, var_3648
	var_3648 = 8 * var_67(196)
	CheckMenuItem var_3642, 160, var_3648
	if ( getundoflg() == 1 ) {
		EnableMenuItem var_3640, 23, 0
	}
	else {
		EnableMenuItem var_3640, 23, 1
	}
	if ( getredoflg() == 1 ) {
		EnableMenuItem var_3640, 24, 0
	}
	else {
		EnableMenuItem var_3640, 24, 1
	}
	gsel 12
	DrawMenuBar hwnd
	gsel var_3647
	return
*label_858
	goto *label_861
#deffunc resizeidewindow int prm_1379
	gsel 12
	redraw 2
	var_3651 = ginfo(12)
	var_3652 = ginfo(13)
	if ( var_3651 < 400 ) {
		var_3651 = 400
	}
	if ( var_3652 < 300 ) {
		var_3652 = 300
	}
	if ( var_67(201) == var_3651 & var_67(202) == var_3652 & prm_1379 == 0 ) {
		return
	}
	var_67(201) = var_3651
	var_67(202) = var_3652
	color 32, 32, 48
	boxf
	var_3653 = 68
	var_3654 = 28
	var_3655 = 90
	var_3656 = 60
	var_3657 = 44
	var_3658 = 17
	var_3659 = 22
	var_3660 = 44
	if ( var_67(193) != 0 ) {
		var_3656 = 120
	}
	var_67(205) = 0
	var_67(206) = 0
	var_67(207) = var_3651
	var_67(208) = var_3653
	var_67(209) = 0
	var_67(210) = var_3653
	var_67(211) = var_3651
	var_67(212) = var_3654
	var_67(213) = 0
	var_67(214) = var_3653 + var_3654 + var_3657
	var_67(215) = var_3655
	var_67(216) = var_3652 - var_3653 - var_3654 - var_3657 - var_3658 - var_3659
	var_67(217) = var_3655 + var_3656
	var_67(218) = var_3653 + var_3654
	var_67(219) = var_3651 - var_3655 - var_3656 - var_3658
	var_67(220) = var_3657
	var_67(221) = var_3655
	var_67(222) = var_3653 + var_3654 + var_3657
	var_67(223) = var_3656
	var_67(224) = var_3652 - var_3653 - var_3654 - var_3657 - var_3658 - var_3659
	var_67(225) = var_3655 + var_3656
	var_67(226) = var_3653 + var_3654 + var_3657
	var_67(227) = var_3651 - var_3655 - var_3656 - var_3658
	var_67(228) = var_3652 - var_3653 - var_3654 - var_3657 - var_3658 - var_3659
	var_67(229) = var_3655 + var_3656
	var_67(230) = var_3652 - var_3658 - var_3659
	var_67(231) = var_3651 - var_3655 - var_3656 - var_3658
	var_67(232) = 0
	if ( var_67(191) != 0 ) {
		var_67(224) -= var_3660
		var_67(228) -= var_3660
		var_67(230) -= var_3660
		var_67(232) = var_3660
	}
	var_67(233) = var_3651 - var_3658
	var_67(234) = var_3653 + var_3654
	var_67(235) = var_3658
	var_67(236) = var_3652 - var_3653 - var_3654 - var_3658 - var_3659
	var_67(237) = 0
	var_67(238) = var_3652 - var_3658 - var_3659
	var_67(239) = var_3651 - var_3658
	var_67(240) = var_3658
	var_67(241) = 0
	var_67(242) = var_3652 - var_3659
	var_67(243) = var_3651
	var_67(244) = var_3659
	var_3661 = var_67(205)
	var_3662 = var_67(206)
	var_3663 = var_67(207)
	var_3664 = var_67(208)
	color 16, 16, 24
	boxf var_3661, var_3662 + var_3664 - 1, var_3661 + var_3663 - 1, var_3662 + var_3664 - 1
	var_3661 = var_67(221)
	var_3662 = var_67(218)
	var_3663 = var_67(223)
	var_3664 = var_67(220)
	color 12, 12, 32
	boxf var_3661, var_3662, var_3661 + var_3663 - 2, var_3662 + var_3664 - 2
	color 208, 208, 208
	boxf var_3661 + var_3663 - 1, var_3662, var_3661 + var_3663 - 1, var_3662 + var_3664 - 1
	boxf var_3661, var_3662 + var_3664 - 1, var_3661 + var_3663 - 1, var_3662 + var_3664 - 1
	if ( var_67(191) == 1 ) {
		var_3661 = var_67(221)
		var_3662 = var_67(230)
		var_3663 = var_67(223)
		var_3664 = var_67(232)
		color 12, 12, 32
		boxf var_3661, var_3662, var_3661 + var_3663 - 2, var_3662 + var_3664 - 2
		color 208, 208, 208
		boxf var_3661 + var_3663 - 1, var_3662, var_3661 + var_3663 - 1, var_3662 + var_3664 - 1
		boxf var_3661, var_3662, var_3661 + var_3663 - 1, var_3662
	}
	var_3661 = var_67(205) + 10
	var_3662 = var_67(206) + 8
	var_3665 = 26
	var_3666 = 8
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 21, 0, 66 * 0, 22 * 1, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 22, 0, 66 * 1, 22 * 1, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	if ( var_67(17) == 0 ) {
		var_3667 = 0
	}
	else {
		var_3667 = vsplay_getstatus(var_67(17))
	}
	createbutton 23, 0, 66 * var_3667, 22 * 2, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 20, 0, 66 * 0, 22 * 0, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 24, 0, 66 * 1, 22 * 0, 22, 22
	var_3661 += var_3666
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 25, 0, 66 * 0, 22 * 3, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 26, 0, 66 * 1, 22 * 3, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 27, 0, 66 * 0, 22 * 4, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 28, 0, 66 * 1, 22 * 4, 22, 22
	var_3661 += var_3666
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 29, 0, 66 * var_67(179), 22 * 7, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 30, 0, 132 + 66 * var_67(97), 22 * 15, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 31, 0, 66 * var_67(180), 22 * 14, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 32, 0, 66 * var_67(181), 22 * 15, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 35, 0, 132 + 66 * var_67(187), 22 * 10, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 33, 0, 66 * var_67(186), 22 * 16, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 34, 0, 132 + 66 * var_67(189), 22 * 16, 22, 22
	var_3661 += var_3666
	pos var_3661, var_3662
	var_3661 += var_3665
	var_3668 = 0
	if ( var_67(185) == 0 ) {
		var_3668 = 1
	}
	createbutton 38, 0, 66 * var_3668, 22 * 10, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	var_3668 = 0
	if ( var_67(185) == 1 ) {
		var_3668 = 1
	}
	createbutton 39, 0, 66 * var_3668, 22 * 11, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	var_3668 = 0
	if ( var_67(185) == 2 ) {
		var_3668 = 1
	}
	createbutton 40, 0, 66 * var_3668, 22 * 12, 22, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	var_3668 = 0
	if ( var_67(185) == 3 ) {
		var_3668 = 1
	}
	createbutton 41, 0, 66 * var_3668, 22 * 13, 22, 22
	var_3661 = var_67(205) + 10
	var_3662 = var_67(206) + 38
	var_3665 = 26
	pos var_3661, var_3662
	var_3661 += var_3665 + 18
	createbutton 36, 0, 132, 22 * (11 + var_67(98)), 40, 22
	pos var_3661, var_3662
	var_3661 += var_3665
	createbutton 37, 0, 132, 22 * (13 + var_67(188)), 40, 22
	drawbutton 1
	color 208, 208, 208
	boxf 110 - 1, 39 - 1, 110 + 80, 39 + 20
	boxf 210 - 1, 39 - 1, 210 + 80, 39 + 20
	boxf 196, 49, 202, 49
	gsel 12
	var_3661 = var_67(237)
	var_3662 = var_67(238)
	var_3663 = var_67(239)
	var_3664 = var_67(240)
	createscrollbar 2, 12, 1, var_3661, var_3662, var_3663, var_3664
	var_3661 = var_67(233)
	var_3662 = var_67(234)
	var_3663 = var_67(235)
	var_3664 = var_67(236)
	createscrollbar 3, 12, 2, var_3661, var_3662, var_3663, var_3664
	buffer 7, var_67(215), var_67(216)
	buffer 8, var_67(219), var_67(220)
	buffer 9, var_67(223), var_67(224)
	buffer 10, var_67(227), var_67(228)
	var_3664 = var_67(232)
	if ( var_3664 == 0 ) {
		var_3664 = 1
	}
	buffer 11, var_67(231), var_3664
	if ( var_67(24) == 1 ) {
		gsel 24
		var_3669 = ginfo(26)
		var_3670 = ginfo(27)
		var_3671 = var_67(227)
		var_3672 = var_67(228)
		var_3661 = 0
		var_3662 = 0
		var_3663 = var_3669
		var_3664 = var_3670
		buffer 26, var_3671, var_3672
		color 12, 12, 32
		boxf
		var_3673 = var_67(72)
		if ( 0 ) {
			var_3674++
		}
		if ( var_3673 == 0 | var_3674 ) {
			var_3674 = 0
			if ( var_3671 * var_3670 <= var_3672 * var_3669 ) {
				var_3663 = var_3671
				var_3664 = var_3670 * var_3671 / var_3669
				var_3662 = (var_3672 - var_3664) / 2
			}
			else {
				var_3664 = var_3672
				var_3663 = var_3669 * var_3672 / var_3670
				var_3661 = (var_3671 - var_3663) / 2
			}
			goto *label_860
			var_3674++
		}
		if ( var_3673 == 1 | var_3674 ) {
			var_3674 = 0
			var_3661 = 0
			var_3662 = 0
			goto *label_860
			var_3674++
		}
		if ( var_3673 == 2 | var_3674 ) {
			var_3674 = 0
			var_3661 = (var_3671 - var_3669) / 2
			var_3662 = 0
			goto *label_860
			var_3674++
		}
		if ( var_3673 == 3 | var_3674 ) {
			var_3674 = 0
			var_3661 = var_3671 - var_3669
			var_3662 = 0
			goto *label_860
			var_3674++
		}
		if ( var_3673 == 4 | var_3674 ) {
			var_3674 = 0
			var_3661 = var_3671 - var_3669
			var_3662 = (var_3672 - var_3670) / 2
			goto *label_860
			var_3674++
		}
		if ( var_3673 == 5 | var_3674 ) {
			var_3674 = 0
			var_3661 = var_3671 - var_3669
			var_3662 = var_3672 - var_3670
			goto *label_860
			var_3674++
		}
		if ( var_3673 == 6 | var_3674 ) {
			var_3674 = 0
			var_3661 = (var_3671 - var_3669) / 2
			var_3662 = var_3672 - var_3670
			goto *label_860
			var_3674++
		}
		if ( var_3673 == 7 | var_3674 ) {
			var_3674 = 0
			var_3661 = 0
			var_3662 = var_3672 - var_3670
			goto *label_860
			var_3674++
		}
		if ( var_3673 == 8 | var_3674 ) {
			var_3674 = 0
			var_3661 = 0
			var_3662 = (var_3672 - var_3670) / 2
			goto *label_860
			var_3674++
		}
		if ( var_3673 == 9 | var_3674 ) {
			var_3674 = 0
			var_3661 = (var_3671 - var_3669) / 2
			var_3662 = (var_3672 - var_3670) / 2
			goto *label_860
		}
*label_860
		pos var_3661, var_3662
		gzoom var_3663, var_3664, 24, 0, 0, var_3669, var_3670, 1
	}
	gsel 12
	setidealldrawflg
	return
*label_861
	goto *label_863
#defcfunc analyzekey array prm_1380, int prm_1381
	if ( var_67(17) == 0 | var_67(269) == 0 ) {
		return
	}
	var_3675 = limit(var_67(270), 0, var_67(269) - 1)
	var_3676 = getidetabitemnum(var_3675)
	var_3677 = GetPrjItem(var_67(17), var_3676)
	var_3678 = GetII_nCtrlPnt(var_3677)
	var_3679 = GetII_ctrlPntPs(var_3677)
	var_3680 = vslib_getprjitemfreqa4(var_67(17), var_3676)
	var_3681 = GetPrjItemTune(var_67(17), var_3676)
	var_3682 = var_340(var_3675 * 51 + 25)
	var_3683 = var_340(var_3675 * 51 + 26)
	var_3684 = var_3683 - var_3682
	if ( var_3684 == 0 | prm_1381 == 1 ) {
		var_3682 = 0
		var_3684 = var_3678
	}
	dimtype var_3685, 3, 12, 0, 0, 0
	repeat var_3684, var_3682
		if ( GetICP_fix_edit(var_3677, cnt) == 0 ) {
			var_3686 = GetICP_pit_org(var_3677, cnt)
			var_3687 = cnvpitch2nn(var_3686, var_3680, 0, 0, var_3676)
			var_3688 = vslib_geticp_dyn_org(var_3677, cnt)
			var_3685(var_3687 \ 12) += var_3688
		}
	loop
	dimtype prm_1380, 3, 12, 0, 0, 0
	var_3689 = 0.0
	var_3690 = 0.0
	var_3691 = 0
	repeat 12
		var_3692 = 0.0
		var_3692 += var_3685((0 + cnt) \ 12) / 7.0
		var_3692 += var_3685((2 + cnt) \ 12) / 7.0
		var_3692 += var_3685((4 + cnt) \ 12) / 7.0
		var_3692 += var_3685((5 + cnt) \ 12) / 7.0
		var_3692 += var_3685((7 + cnt) \ 12) / 7.0
		var_3692 += var_3685((9 + cnt) \ 12) / 7.0
		var_3692 += var_3685((11 + cnt) \ 12) / 7.0
		var_3692 -= var_3685((1 + cnt) \ 12) / 5.0
		var_3692 -= var_3685((3 + cnt) \ 12) / 5.0
		var_3692 -= var_3685((6 + cnt) \ 12) / 5.0
		var_3692 -= var_3685((8 + cnt) \ 12) / 5.0
		var_3692 -= var_3685((10 + cnt) \ 12) / 5.0
		prm_1380(cnt) = var_3692
		if ( var_3692 < var_3689 | cnt == 0 ) {
			var_3689 = var_3692
		}
		if ( var_3692 > var_3690 | cnt == 0 ) {
			var_3690 = var_3692
			var_3691 = cnt + 1
		}
	loop
	var_3693 = var_3690 - var_3689
	if ( var_3693 == 0.0 ) {
		var_3693 = 1.0
	}
	repeat 12
		prm_1380(cnt) = (prm_1380(cnt) - var_3689) / var_3693
	loop
	return var_3691
*label_863
	goto *label_867
#deffunc analyzeitemkey
	if ( var_67(17) == 0 | var_67(269) == 0 ) {
		return
	}
	var_3694 = limit(var_67(270), 0, var_67(269) - 1)
	var_3695 = getidetabitemnum(var_3694)
	dimtype var_3696, 3, 12, 0, 0, 0
	var_3697 = analyzekey(var_3696, 0)
	screen_nomin 18, 320, 280, 2 | 4
	title tltx("キー解析", "Analyze key")
	syscolor 15
	boxf
	var_3698 = 10
	syscolor 8
	setfont_normal
	objmode 2
	var_3699 = 70
	var_3700 = 240
	var_3698 = 15
	var_3701 = 18 * 12 + 8
	color 0, 0, 0
	boxf var_3699, var_3698, var_3699 + var_3700, var_3698 + var_3701
	color 255, 255, 255
	boxf var_3699 + 1, var_3698 + 1, var_3699 + var_3700 - 1, var_3698 + var_3701 - 1
	color 0, 0, 0
	repeat 4, 1
		boxf var_3699 + 50 * cnt, var_3698 + 1, var_3699 + 50 * cnt, var_3698 + var_3701 - 1
	loop
	repeat 12
		var_3702 = var_3699
		var_3703 = int(var_3696(cnt) * 200.0)
		var_3704 = var_3698 + 5 + 18 * cnt
		var_3705 = 14
		color 0, 0, 0
		boxf var_3702, var_3704, var_3702 + var_3703, var_3704 + var_3705
		if ( var_3703 >= 3 ) {
			if ( var_3696(cnt) == 1.0 ) {
				color 255, 128, 128
			}
			else {
				color 128, 128, 128
			}
			boxf var_3702 + 1, var_3704 + 1, var_3702 + var_3703 - 1, var_3704 + var_3705 - 1
		}
		syscolor 8
		pos 10, var_3704 + 1
		mes getscalename(cnt + 1)
	loop
	objsize 120, 22
	pos 100, 250
	button gosub tltx("アイテム設定に適用", "Apply item settings"), *label_865
	objsize 80, 22
	pos 230, 250
	button gosub tltx("閉じる", "Close"), *label_866
	waitobjectupdate
	gsel 18, 2
	var_3706 = -1
	var_3707 = 0
	repeat
		gsel 18
		var_3708 = var_3707
		var_3707 = getkeyflg(27)
		if ( var_67(20) == 18 ) {
			var_67(20) = 0
			var_3706 = 1
		}
		if ( getactivewindow() == 18 & var_3708 == 0 & var_3707 == 1 ) {
			var_3706 = 1
		}
		if ( var_3706 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 18, -1
	gsel 6
	return
*label_865
	SetPrjItemKey var_67(17), var_3695, var_3697
	oneditproject
	var_67(249) = 1
	var_67(248) = 1
	var_3706 = 0
	return
*label_866
	var_3706 = 1
	return
*label_867
	goto *label_871
#deffunc analyzefreqa4
	if ( var_67(17) == 0 | var_67(269) == 0 ) {
		return
	}
	var_3709 = limit(var_67(270), 0, var_67(269) - 1)
	var_3710 = getidetabitemnum(var_3709)
	var_3711 = GetPrjItem(var_67(17), var_3710)
	var_3712 = GetII_nCtrlPnt(var_3711)
	var_3713 = GetII_ctrlPntPs(var_3711)
	var_3714 = vslib_getprjitemfreqa4(var_67(17), var_3710)
	var_3715 = GetPrjItemKey(var_67(17), var_3710)
	var_3716 = GetPrjItemKeyType(var_67(17), var_3710)
	var_3717 = GetPrjItemTune(var_67(17), var_3710)
	var_3718 = var_340(var_3709 * 51 + 25)
	var_3719 = var_340(var_3709 * 51 + 26)
	var_3720 = var_3719 - var_3718
	var_3721 = 0
	if ( var_3720 == 0 | var_3721 == 1 ) {
		var_3718 = 0
		var_3720 = var_3712
	}
	dimtype var_3722, 3, 100, 0, 0, 0
	repeat var_3720, var_3718
		if ( GetICP_fix_edit(var_3711, cnt) == 0 ) {
			var_3723 = GetICP_pit_org(var_3711, cnt)
			var_3724 = vslib_geticp_dyn_org(var_3711, cnt)
			var_3725 = cnvpitch2nn(var_3723, var_3714, var_3715, var_3717, var_3710)
			var_3726 = cnvnn2pitch(var_3725, var_3714, var_3715, var_3717, var_3710)
			var_3727 = var_3723 - var_3726
			if ( var_3727 < 0 ) {
				var_3727 += 100
			}
			var_3722(var_3727) += var_3724
		}
	loop
	var_3728 = 0.0
	repeat 100
		if ( var_3722(cnt) > var_3728 ) {
			var_3728 = var_3722(cnt)
		}
	loop
	if ( var_3728 == 0.0 ) {
		var_3728 = 1.0
	}
	repeat 100
		var_3722(cnt) /= var_3728
	loop
	var_3729 = 0.0
	var_3730 = 0
	repeat 100
		var_3731 = cnt
		var_3732 = 0.0
		repeat 100
			var_3733 = abs(cnt - var_3731)
			if ( var_3733 > 50 ) {
				var_3733 = 100 - var_3733
			}
			var_3734 = cos(double(var_3733) / 50.0 * 3.14159265358979)
			var_3732 += var_3734 * var_3722(cnt)
		loop
		if ( var_3732 > var_3729 ) {
			var_3729 = var_3732
			var_3730 = var_3731
		}
	loop
	if ( var_3730 > 50 ) {
		var_3730 -= 100
	}
	if ( var_3715 != 0 ) {
		if ( var_3716 == 0 ) {
			var_3735 = 60 + var_3715 - 1
		}
		else {
			var_3735 = 69 + var_3715 - 1
		}
	}
	else {
		var_3735 = 69
	}
	var_3736 = cnvnn2pitchd(var_3735, var_3714, var_3715, var_3717, var_3710)
	var_3737 = 440.0 * powf(2.0, (var_3736 - 100.0 * var_3735) / 1200.0)
	var_3738 = var_3714 * powf(2.0, double(var_3730) / 1200.0)
	var_3739 = var_3737 * powf(2.0, double(var_3730) / 1200.0)
	screen_nomin 18, 320, 200, 2 | 4
	title tltx("基準周波数解析", "Analyze base frequency")
	syscolor 15
	boxf
	setfont_normal
	objmode 2
	var_3740 = 50
	var_3741 = 20
	color 128, 128, 128
	boxf var_3740 - 1, var_3741 - 1, var_3740 + 240, var_3741 + 99
	color 255, 255, 255
	boxf var_3740, var_3741, var_3740 + 239, var_3741 + 98
	color 128, 128, 128
	repeat 10
		boxf var_3740, var_3741 + 99 - cnt * 10, var_3740 + 239, var_3741 + 99 - cnt * 10
	loop
	color 0, 0, 0
	repeat 100
		var_3742 = int(var_3722((cnt + 50) \ 100) * 200.0)
		boxf var_3740, var_3741 + 99 - cnt, var_3740 + var_3742, var_3741 + 99 - cnt
	loop
	syscolor 8
	pos var_3740 - 40, var_3741 - 6
	mes "+50"
	pos var_3740 - 40, var_3741 + 50 - 6
	mes " 00"
	pos var_3740 - 40, var_3741 + 100 - 6
	mes "-50"
	pos 10, var_3741 + 120
	mes strf("%+dcent", var_3730)
	pos 80, var_3741 + 120
	mes strf("A4 = %6.2fHz", var_3739)
	objsize 120, 22
	pos 100, 170
	button gosub tltx("アイテム設定に適用", "Apply item settings"), *label_869
	objsize 80, 22
	pos 230, 170
	button gosub tltx("閉じる", "Close"), *label_870
	waitobjectupdate
	gsel 18, 2
	var_3743 = -1
	var_3744 = 0
	repeat
		gsel 18
		var_3745 = var_3744
		var_3744 = getkeyflg(27)
		if ( var_67(20) == 18 ) {
			var_67(20) = 0
			var_3743 = 1
		}
		if ( getactivewindow() == 18 & var_3745 == 0 & var_3744 == 1 ) {
			var_3743 = 1
		}
		if ( var_3743 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 18, -1
	gsel 6
	return
*label_869
	SetPrjItemFreqA4 var_67(17), var_3710, var_3738
	var_3746 = 440.0
	GetPrjItemBaseFreq var_67(17), var_3710, var_3747, var_3748, var_3746
	SetPrjItemBaseFreq var_67(17), var_3710, var_3747, var_3748, var_3746 * var_3738 / var_3714
	oneditproject
	var_67(249) = 1
	var_67(248) = 1
	var_3743 = 0
	return
*label_870
	var_3743 = 1
	return
*label_871
	goto *label_876
#deffunc analyzeitemrange
	if ( var_67(17) == 0 | var_67(269) == 0 ) {
		return
	}
	var_3749 = limit(var_67(270), 0, var_67(269) - 1)
	var_3750 = getidetabitemnum(var_3749)
	var_3751 = GetPrjItem(var_67(17), var_3750)
	var_3752 = GetII_nCtrlPnt(var_3751)
	var_3753 = GetII_ctrlPntPs(var_3751)
	var_3754 = vslib_getprjitemfreqa4(var_67(17), var_3750)
	var_3755 = GetPrjItemKey(var_67(17), var_3750)
	var_3756 = GetPrjItemTune(var_67(17), var_3750)
	var_3757 = 0
	var_3758 = 12800
	var_3759 = 0
	var_3760 = 0
	var_3761 = 0
	repeat var_3752
		if ( GetICP_fix_edit(var_3751, cnt) == 0 ) {
			var_3762 = GetICP_pit_edit(var_3751, cnt)
			if ( var_3762 < var_3758 ) {
				var_3758 = var_3762
				var_3760 = cnt
			}
			if ( var_3762 > var_3757 ) {
				var_3757 = var_3762
				var_3759 = cnt
			}
			var_3761 = 1
		}
	loop
	screen_nomin 18, 320, 110, 2 | 4
	title tltx("音域解析", "Analyze pitch range")
	syscolor 15
	boxf
	setfont_normal
	objmode 2
	sdim var_3763, 1024
	var_3763 = tltx("最高音 : ", "Highest pitch : ")
	var_3763 += timesectostr(double(var_3759) / var_3753) + "  "
	var_3763 += getcentname(var_3757, var_3754, var_3755, var_3756, var_3750) + "  "
	var_3763 += getfreqstr(var_3757) + "\n"
	var_3763 += tltx("最低音 : ", "Lowest pitch : ")
	var_3763 += timesectostr(double(var_3760) / var_3753) + "  "
	var_3763 += getcentname(var_3758, var_3754, var_3755, var_3756, var_3750) + "  "
	var_3763 += getfreqstr(var_3758) + "\n"
	pos 10, 10
	mesbox var_3763, 300, 60, 0
	objsize 100, 22
	pos 10, 80
	button gosub tltx("最高音にジャンプ", "highest pitch"), *label_874
	pos 120, 80
	button gosub tltx("最低音にジャンプ", "lowest pitch"), *label_875
	objsize 80, 22
	pos 230, 80
	button gosub tltx("閉じる", "Close"), *label_873
	waitobjectupdate
	gsel 18, 2
	var_3764 = -1
	var_3765 = 0
	var_3766 = 0
	repeat
		gsel 18
		var_3767 = var_3766
		var_3766 = getkeyflg(27)
		if ( var_67(20) == 18 ) {
			var_67(20) = 0
			var_3764 = 1
		}
		if ( getactivewindow() == 18 & var_3767 == 0 & var_3766 == 1 ) {
			var_3764 = 1
		}
		if ( var_3764 != (-1) ) {
			break
		}
		waitinputpolling
	loop
	gsel 18, -1
	gsel 6
	if ( var_3764 == 0 ) {
		if ( var_3765 == 0 ) {
			var_3768 = var_3759
		}
		else {
			var_3768 = var_3760
		}
		var_3769 = limit(var_3768 - var_3753 / 2, 0, var_3752)
		var_3770 = limit(var_3768 + var_3753 / 2, 0, var_3752)
		var_340(var_3749 * 51 + 25) = var_3769
		var_340(var_3749 * 51 + 26) = var_3770
		var_67(249) = 1
		vsplay_seek var_67(17), int(double(var_3768) * 1000.0 / var_3753)
		var_67(148) = 1
		var_67(151) = 1
		var_67(179) = 1
		setideautoscrollrequest
	}
	return
*label_873
	var_3764 = 1
	return
*label_874
	var_3764 = 0
	var_3765 = 0
	return
*label_875
	var_3764 = 0
	var_3765 = 1
	return
*label_876
	goto *label_879
#defcfunc cnvbyteorder4 int prm_1382
	return (prm_1382 & 255) << 24 | (prm_1382 & 65280) << 8 | (prm_1382 & 16711680) >> 8 | (prm_1382 & (-16777216)) >> 24
#defcfunc cnvbyteorder2 int prm_1383
	return (prm_1383 & 255) << 8 | (prm_1383 & 65280) >> 8
*label_879
	goto *label_881
#deffunc loadsmf str prm_1384, array prm_1385, var prm_1386, var prm_1387, var prm_1388
	exist prm_1384
	var_3771 = strsize
	if ( var_3771 <= 0 ) {
		return 1
	}
	sdim var_3772, var_3771
	bload prm_1384, var_3772, var_3771
	dim var_3773, var_3771 / 2 * 3
	prm_1386 = 0
	var_3774 = 0
	if ( lpeek(var_3772, 0) != 1684558925 ) {
		var_3774 = 1
	}
	if ( cnvbyteorder4(lpeek(var_3772, 4)) != 6 ) {
		var_3774 = 1
	}
	if ( var_3774 == 1 ) {
		return 1
	}
	var_3775 = cnvbyteorder2(wpeek(var_3772, 8))
	var_3776 = cnvbyteorder2(wpeek(var_3772, 10))
	var_3777 = cnvbyteorder2(wpeek(var_3772, 12))
	var_3778 = 14
	var_3779 = 0
	repeat var_3776
		if ( lpeek(var_3772, var_3778) != 1802654797 ) {
			var_3774 = 1
			break
		}
		var_3778 += 4
		var_3780 = cnvbyteorder4(lpeek(var_3772, var_3778))
		var_3778 += 4
		var_3781 = 0
		repeat
			var_3782 = 0
			repeat 4
				var_3783 = peek(var_3772, var_3778)
				var_3778++
				var_3782 = var_3782 * 128 + (var_3783 & 127)
				if ( var_3783 < 128 ) {
					break
				}
			loop
			var_3781 += var_3782
			var_3784 = peek(var_3772, var_3778)
			if ( var_3784 < 128 ) {
				var_3784 = var_3779
			}
			else {
				var_3779 = var_3784
				var_3778++
			}
			if ( var_3784 == 255 ) {
				var_3785 = peek(var_3772, var_3778)
				var_3778++
				var_3786 = 0
				repeat 4
					var_3783 = peek(var_3772, var_3778)
					var_3778++
					var_3786 = var_3786 * 128 + (var_3783 & 127)
					if ( var_3783 < 128 ) {
						break
					}
				loop
				if ( var_3785 == 81 & var_3786 == 3 ) {
					var_3787 = peek(var_3772, var_3778 + 0)
					var_3788 = peek(var_3772, var_3778 + 1)
					var_3789 = peek(var_3772, var_3778 + 2)
					var_3778 += 3
					var_3773(prm_1386 * 3 + 0) = var_3781
					var_3773(prm_1386 * 3 + 1) = 81 << 8 | 255
					var_3773(prm_1386 * 3 + 2) = (var_3787 & 255) << 16 | (var_3788 & 255) << 8 | (var_3789 & 255)
					prm_1386++
					continue
				}
				if ( var_3785 == 47 ) {
					break
				}
				var_3778 += var_3786
				continue
			}
			if ( (var_3784 & 240) == 192 | (var_3784 & 240) == 208 ) {
				var_3785 = peek(var_3772, var_3778)
				var_3778++
				var_3773(prm_1386 * 3 + 0) = var_3781
				var_3773(prm_1386 * 3 + 1) = (var_3785 & 255) << 8 | (var_3784 & 255)
				var_3773(prm_1386 * 3 + 2) = 0
				prm_1386++
				continue
			}
			if ( (var_3784 & 240) != 240 ) {
				var_3785 = peek(var_3772, var_3778 + 0)
				var_3786 = peek(var_3772, var_3778 + 1)
				var_3778 += 2
				var_3773(prm_1386 * 3 + 0) = var_3781
				var_3773(prm_1386 * 3 + 1) = (var_3786 & 255) << 16 | (var_3785 & 255) << 8 | (var_3784 & 255)
				var_3773(prm_1386 * 3 + 2) = 0
				prm_1386++
				continue
			}
			if ( var_3784 == 240 ) {
				var_3790 = var_3778 - 1
				if ( peek(var_3772, var_3778) == 0 ) {
					var_3778 += 2
				}
				var_3778++
				repeat
					if ( peek(var_3772, var_3778) == 247 ) {
						var_3778++
						break
					}
					var_3778++
				loop
				continue
			}
			var_3774 = 1
			break
		loop
		if ( var_3774 == 1 ) {
			break
		}
	loop
	sdim var_3772, 0
	if ( var_3774 == 1 ) {
		return 1
	}
	dim var_3791, prm_1386
	dim var_3792, prm_1386
	repeat prm_1386
		var_3784 = var_3773(cnt * 3 + 1) & 240
		var_3793 = var_3773(cnt * 3 + 1) >> 16 & 127
		var_3791(cnt) = var_3773(cnt * 3 + 0) * 2
		if ( var_3784 == 144 & var_3793 > 0 ) {
			var_3791(cnt)++
		}
		var_3792(cnt) = cnt
	loop
	MergeSort_int var_3791, var_3792, prm_1386
	dim prm_1385, prm_1386 * 3
	repeat prm_1386
		var_3794 = var_3792(cnt)
		prm_1385(cnt * 3 + 0) = var_3773(var_3794 * 3 + 0)
		prm_1385(cnt * 3 + 1) = var_3773(var_3794 * 3 + 1)
		prm_1385(cnt * 3 + 2) = var_3773(var_3794 * 3 + 2)
	loop
	dim var_3773, 0
	dim var_3791, 0
	dim var_3792, 0
	prm_1387 = -1
	prm_1388 = -1
	var_3795 = 0
	var_3796 = 0.0
	var_3797 = 500000
	var_3798 = 0.001 * var_3797 / var_3777
	repeat prm_1386
		if ( prm_1385(cnt * 3 + 1) == 20991 ) {
			var_3796 += double(prm_1385(cnt * 3 + 0) - var_3795) * var_3798
			var_3795 = prm_1385(cnt * 3 + 0)
			var_3797 = prm_1385(cnt * 3 + 2)
			var_3798 = 0.001 * var_3797 / var_3777
		}
		prm_1385(cnt * 3 + 0) = int(double(prm_1385(cnt * 3 + 0) - var_3795) * var_3798 + var_3796)
		var_3784 = prm_1385(cnt * 3 + 1) & 240
		if ( var_3784 == 144 | var_3784 == 128 ) {
			if ( prm_1385(cnt * 3 + 0) < prm_1387 | prm_1387 == (-1) ) {
				prm_1387 = prm_1385(cnt * 3 + 0)
			}
			if ( prm_1385(cnt * 3 + 0) > prm_1388 | prm_1388 == (-1) ) {
				prm_1388 = prm_1385(cnt * 3 + 0)
			}
		}
	loop
	return 0
*label_881
	goto *label_890
#deffunc vsvst_init
	var_3799 = CreateFileMappingA(-1, 0, 4, 0, 4096, "VocalShifterVST_AckieSound")
	var_3800 = GetLastError()
	if ( var_3800 == 183 ) {
		var_3801 = 1
	}
	else {
		var_3801 = 0
	}
	var_3802 = MapViewOfFile(var_3799, 2, 0, 0, 0)
	dupptr var_3803, var_3802 + 0, 4096, vartype("str")
	dupptr var_3804, var_3802 + 0, 4, vartype("int")
	dupptr var_3805, var_3802 + 4, 4, vartype("int")
	dupptr var_3806, var_3802 + 8, 4, vartype("int")
	dupptr var_3807, var_3802 + 512, 256, vartype("str")
	dupptr var_3808, var_3802 + 768, 256, vartype("str")
	if ( var_3801 == 0 ) {
		memset var_3803, 0, 4096, 0
	}
	var_3807 = var_392(2) + "vsvst_src"
	var_3808 = var_392(2) + "vsvst_dst"
	var_3809 = 0
	var_3810 = 0
	var_3811 = 0
	return
#deffunc vsvst_startscan
	var_3806 = 1
	var_3804 = 1
	setmainwindowtitle tltx("VSTプラグイン スキャン中...", "Scanning...")
	return
#deffunc vsvst_cancelscan
	var_3804 = 0
	setmainwindowtitle ""
	return
#deffunc vsvst_endscan
	var_3804 = 0
	var_3812 = var_392(2) + "vsvst_src"
	exist var_3812
	var_3813 = strsize
	if ( var_3813 >= 0 ) {
		createnewproject
		sdim var_3814, 46
		bload var_3812, var_3814, 46, 0
		lpoke var_3814, 4, var_3813 - 8
		lpoke var_3814, 42, var_3813 - 46
		bsave var_3812, var_3814, 46, 0
		dditemtotrack var_3812, -1, -1, 0, 1
	}
	else {
		msgdialog tltx("スキャンに失敗しました。", "Scanning failed.")
		setmainwindowtitle ""
	}
	return
#defcfunc vsvst_getstatus
	return var_3804
#deffunc vsvst_transfer
	if ( var_67(17) != 0 ) {
		if ( vsplay_getstatus(var_67(17)) == 1 ) {
			vsplay_stop var_67(17)
		}
		setmainwindowtitle tltx("VSTプラグイン 転送中...", "Transmitting...")
		waitobjectupdate
		GetPrjExpFormat var_67(17), var_3809, var_3810, var_3811
		SetPrjExpFormat var_67(17), 1, 32, 2
		var_3815 = var_392(2) + "vsvst_dst"
		var_3816(0) = 0, 0, 0, 0, 0
		ExportMixFile var_67(17), var_3815, varptr(var_3816)
		SetPrjExpFormat var_67(17), var_3809, var_3810, var_3811
		setmainwindowtitle ""
	}
	return
#deffunc vsvst_exit
	var_3804 = 0
	var_3807 = ""
	var_3808 = ""
	var_3812 = var_392(2) + "vsvst_src"
	exist var_3812
	if ( strsize >= 0 ) {
		delete var_3812
	}
	var_3815 = var_392(2) + "vsvst_dst"
	exist var_3815
	if ( strsize >= 0 ) {
		delete var_3815
	}
	UnmapViewOfFile var_3802
	func_38 var_3799
	return
#deffunc vsvst_setdebuginfotitle
	var_3817 = ""
	repeat 8
		var_3817 += strf("%08x, ", lpeek(var_3803, cnt * 4))
	loop
	gsel 6
	title var_3817
	return
*label_890
	goto *label_898
#deffunc m_midiin_init
	var_3818 = 0
	return
#defcfunc getmidiindevnum
	midiInGetNumDevs
	return stat
#defcfunc getmidiindevname int prm_1413
	sdim var_3819, 32
	sdim var_3820, 52
	midiInGetDevCapsA prm_1413, varptr(var_3820), 52
	if ( stat != 0 ) {
		return ""
	}
	memcpy var_3819, var_3820, 32, 0, 8
	return var_3819
#deffunc midiinclose
	func_40 var_3818
	return stat
#deffunc midiinopen int prm_1414, int prm_1415
	if ( var_3818 != 0 ) {
		midiinclose
	}
	func_39 varptr(var_3818), prm_1414, prm_1415, 0, 196608
	return stat
#deffunc midiinstart
	func_41 var_3818
	return
#deffunc midiinstop
	func_42 var_3818
	return
*label_898
	m_midiin_init
	goto *label_908
#deffunc _midi_prep
	var_3821 = 0
	dim var_3822, 16
	dim var_3823, 16
	return
#deffunc getmididevnum
	midiOutGetNumDevs
	return
#deffunc getmididevname int prm_1438
	mref var_3824, 65
	midiOutGetDevCapsA prm_1438, varptr(var_3823), 52
	if ( stat ) {
		var_3824 = ""
		return 1
	}
	getstr var_3824, var_3823, 8
	return 0
#deffunc midiclose
	midiOutClose var_3821
	if ( stat == 0 ) {
		var_3821 = 0
		return 0
	}
	if ( stat == 65 ) {
		return 1
	}
	if ( stat == 5 ) {
		return 2
	}
	if ( stat == 7 ) {
		return 3
	}
	return 4
#deffunc midiopen int prm_1439
	if ( var_3821 ) {
		midiclose
	}
	midiOutOpen varptr(var_3821), prm_1439, 0, 0, 0
	if ( stat == 0 ) {
		return 0
	}
	if ( stat == 68 ) {
		return 1
	}
	if ( stat == 4 ) {
		return 2
	}
	if ( stat == 2 ) {
		return 3
	}
	if ( stat == 11 ) {
		return 4
	}
	if ( stat == 7 ) {
		return 5
	}
	return 6
#deffunc sendmidimsg int prm_1440, int prm_1441, int prm_1442
	midiOutShortMsg var_3821, prm_1440 & 255 | (prm_1441 & 255) << 8 | (prm_1442 & 255) << 16
	return
#deffunc sendmidimsg2 int prm_1443
	midiOutShortMsg var_3821, prm_1443
	return
#deffunc sendmidilongmsg var prm_1444, int prm_1445
	var_3822 = varptr(prm_1444), prm_1445
	midiOutPrepareHeader var_3821, varptr(var_3822), 48
	midiOutLongMsg var_3821, varptr(var_3822), 48
	repeat 1000
		if ( var_3822(4) & 1 ) {
			break
		}
		func_43 0
	loop
	midiOutUnprepareHeader var_3821, varptr(var_3822), 48
	return
#deffunc midireset
	midiOutReset var_3821
	return
*label_908
	goto *label_927
#deffunc midinoteon int prm_1446, int prm_1447, int prm_1448
	sendmidimsg 144 | prm_1446, prm_1447, prm_1448
	return
#deffunc midinoteoff int prm_1449, int prm_1450
	sendmidimsg 144 | prm_1449, prm_1450
	return
#deffunc midivolume int prm_1451, int prm_1452
	sendmidimsg 176 | prm_1451, 7, prm_1452
	return
#deffunc midipanpot int prm_1453, int prm_1454
	sendmidimsg 176 | prm_1453, 10, prm_1454
	return
#deffunc midiexpression int prm_1455, int prm_1456
	sendmidimsg 176 | prm_1455, 11, prm_1456
	return
#deffunc midihold int prm_1457, int prm_1458
	if ( prm_1458 ) {
		sendmidimsg 176 | prm_1457, 64, 127
	}
	else {
		sendmidimsg 176 | prm_1457, 64, 0
	}
	return
#deffunc midireverb int prm_1459, int prm_1460
	sendmidimsg 176 | prm_1459, 91, prm_1460
	return
#deffunc midichorus int prm_1461, int prm_1462
	sendmidimsg 176 | prm_1461, 93, prm_1462
	return
#deffunc mididelay int prm_1463, int prm_1464
	sendmidimsg 176 | prm_1463, 94, prm_1464
	return
#deffunc midiprogram int prm_1465, int prm_1466
	sendmidimsg 192 | prm_1465, prm_1466
	return
#deffunc midipitchbend int prm_1467, int prm_1468
	var_3825 = prm_1468 + 8192
	sendmidimsg 224 | prm_1467, var_3825 & 127, var_3825 >> 7
	return
#deffunc midiallsoundoff int prm_1469
	sendmidimsg 176 | prm_1469, 120, 0
	return
#deffunc midiresetallcontrol int prm_1470
	sendmidimsg 176 | prm_1470, 121, 0
	return
#deffunc midiallnoteoff int prm_1471
	sendmidimsg 176 | prm_1471, 123, 0
	return
#deffunc midigmsystemon
	var_3825 = 159350512, 63233
	sendmidilongmsg var_3825, 6
	return
#deffunc midigm2systemon
	var_3825 = 159350512, 63235
	sendmidilongmsg var_3825, 6
	return
#deffunc midixgsystemon
	var_3825 = 1276134384, 8257536, 247
	sendmidilongmsg var_3825, 9
	return
#deffunc midigsreset
	var_3825 = 1108361712, 2130722834, 16204032
	sendmidilongmsg var_3825, 11
	return
*label_927
	_midi_prep
	goto *label_929
*label_929
	goto *label_931
*label_931
	goto *label_936
*label_933
	var_3839 = 1
	return
*label_934
	var_3839 = 0
	return
*label_935
	if ( iparam == 13 & getactivewindow() == 20 ) {
		objsel -1
		if ( stat == var_3837 ) {
			gosub *label_934
		}
	}
	return
*label_936
	vsstart
	repeat
		vsmain
		waitmainloop
	loop
	return
*label_937
	oncmd 0
	vstimerinterrupt
	oncmd 1
	return
*label_938
	oncmd 0
	requestmenucommand
	oncmd 1
	return
*label_939
	oncmd 0
	receivevsmsg
	oncmd 1
	return
*label_940
	oncmd 0
	vsexit 1
	if ( stat != 0 ) {
		end
	}
	oncmd 1
	return
*label_941
	oncmd 0
	onerror 0
	onexit 0
	var_3842 = tltx("内部エラーが発生したため" + "VocalShifter" + "を終了します。", "An internal error has occurred. VocalShifter will now exit.")
	var_3842 += tltx("バージョン、エラー番号、発生時の状況をご連絡ください。\n\n", "Please report the version, error number, and circumstances when the error occurred.\n\n")
	var_3842 += tltx("バージョン : ", "Version : ") + "VocalShifter ver.3.45" + "\n"
	var_3842 += tltx("エラー番号 : ", "Error number : ") + wparam + "\n\n"
	var_3842 += tltx("編集中のプロジェクトは「プロジェクトファイル復旧ツール」で", "The project being edited can be recovered using the 'Project File Recovery Tool'")
	var_3842 += tltx("復旧することができます。詳細はreadmeをご覧ください。\n\n", "Please refer to the readme for details.\n\n")
	var_3842 += "An internal error has occurred."
	msgdialog var_3842
	end
	return